

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NaivePyDESSEM User Guide &mdash; NaivePyDESSEM 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" />
      <link rel="stylesheet" type="text/css" href="_static/katex-math.css?v=05624691" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=01f34227"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/katex.min.js?v=5cc8ed51"></script>
      <script src="_static/auto-render.min.js?v=af98beb9"></script>
      <script src="_static/katex_autorenderer.js?v=bebc588a"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="MDI.cli package" href="MDI.cli.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            NaivePyDESSEM
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Main modules (DESSEM/DECOMP/MDI):</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="modules.html">DESSEM/DECOMP/MDI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">NaivePyDESSEM User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#purpose-and-scope">Purpose and Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conceptual-foundations">Conceptual Foundations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#target-audience">Target Audience</a></li>
<li class="toctree-l3"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation-guide">2. Installation Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-and-activate-a-virtual-environment">1. Create and Activate a Virtual Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-naivepydessem">2. Install NaivePyDESSEM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#option-a-from-pypi-recommended-for-most-users">Option A ‚Äì From PyPI (recommended for most users)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-b-from-source-https">Option B ‚Äì From Source (HTTPS)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-c-from-source-ssh">Option C ‚Äì From Source (SSH)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#build-pyomo-extensions">3. Build Pyomo Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-and-configure-optimization-solvers">4. Install and Configure Optimization Solvers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ibm-cplex"><strong>IBM CPLEX</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#gurobi"><strong>Gurobi</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scip"><strong>SCIP</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#validate-the-environment">5. Validate the Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optional-upgrade-or-uninstall">6. (Optional) Upgrade or Uninstall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#problem-formulation-and-mathematical-modeling">3. Problem Formulation and Mathematical Modeling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mathematical-modeling-of-dessem">Mathematical Modeling of DESSEM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hydropower-plants">Hydropower Plants</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thermal-power-plants">Thermal Power Plants</a></li>
<li class="toctree-l4"><a class="reference internal" href="#renewable-energies-and-storage">Renewable Energies and Storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#objective-function">Objective Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-balance-load-supply">Power Balance (Load Supply)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mathematical-modeling-of-decomp">Mathematical Modeling of DECOMP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8">Hydropower Plants</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thermal-units">Thermal Units</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">Renewable Energies and Storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">Objective Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-balance-load-requirement">Power Balance (Load Requirement)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mathematical-modeling-of-mdi">Mathematical Modeling of MDI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sets">Sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id29">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">Decision Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">Constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#capacity-adequacy">Capacity Adequacy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generation-limits">Generation Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#storage-dynamics">Storage Dynamics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#state-of-charge-limits">State of Charge Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#charge-discharge-power-limits">Charge/Discharge Power Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initial-state">Initial State</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expansion-dynamics-existence-accumulation">Expansion Dynamics (Existence Accumulation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unique-construction">Unique Construction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monotonic-growth">Monotonic Growth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">Objective Function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#model-architecture"><strong>4 Model Architecture</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview"><strong>Overview</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#package-hierarchy"><strong>Package Hierarchy</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#design-overview">Design Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-interface-cli">üß≠ Command-Line Interface (CLI)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solving-a-model"><strong>1. Solving a Model</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#plotting-results">2. Plotting Results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cli-arguments">5. CLI Arguments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#solver-cli">1. Solver CLI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-cli">2. Plot CLI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#yaml-configuration">6. YAML Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-by-step-building-a-dessem-configuration-file">üß© Step-by-Step: Building a DESSEM Configuration File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#header-and-metadata-meta">ü™∂ 1. Header and Metadata (<code class="docutils literal notranslate"><span class="pre">meta</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hydropower-data-hydro">üåä 2. Hydropower Data (<code class="docutils literal notranslate"><span class="pre">hydro</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thermal-data-thermal">üî• 3. Thermal Data (<code class="docutils literal notranslate"><span class="pre">thermal</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#renewable-data-renewable">üå¨Ô∏è 4. Renewable Data (<code class="docutils literal notranslate"><span class="pre">renewable</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#storage-data-storage">‚ö° 5. Storage Data (<code class="docutils literal notranslate"><span class="pre">storage</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#final-checks">‚úÖ 6. Final Checks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#step-by-step-building-a-decomp-configuration-file">üß© Step-by-Step: Building a DECOMP Configuration File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id33">ü™∂ 1. Header and Metadata (<code class="docutils literal notranslate"><span class="pre">meta</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">üåä 2. Hydropower Data (<code class="docutils literal notranslate"><span class="pre">hydro</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">üî• 3. Thermal Data (<code class="docutils literal notranslate"><span class="pre">thermal</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">üå¨Ô∏è 4. Renewable Data (<code class="docutils literal notranslate"><span class="pre">renewable</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id37">‚ö° 5. Storage Data (<code class="docutils literal notranslate"><span class="pre">storage</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">‚úÖ 6. Final Checks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#step-by-step-building-an-mdi-configuration-file">üß© Step-by-Step: Building an MDI Configuration File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id39">ü™∂ 1. Header and Metadata (<code class="docutils literal notranslate"><span class="pre">meta</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generator-data-generator">‚öôÔ∏è 2. Generator Data (<code class="docutils literal notranslate"><span class="pre">generator</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id40">‚ö° 3. Storage Data (<code class="docutils literal notranslate"><span class="pre">storage</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id41">‚úÖ 4. Final Checks</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NaivePyDESSEM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">NaivePyDESSEM User Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/userguide.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="naivepydessem-user-guide">
<h1>NaivePyDESSEM User Guide<a class="headerlink" href="#naivepydessem-user-guide" title="Link to this heading">ÔÉÅ</a></h1>
<section id="introduction">
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Link to this heading">ÔÉÅ</a></h2>
<section id="purpose-and-scope">
<h3>Purpose and Scope<a class="headerlink" href="#purpose-and-scope" title="Link to this heading">ÔÉÅ</a></h3>
<p>The <strong>NaivePyDESSEM Project Suite</strong> is a pedagogical framework designed to provide a transparent, modular, and fully reproducible environment for the study and experimentation of <strong>power system operation and expansion planning</strong>. The suite comprises three complementary packages ‚Äî <strong>NaivePyDESSEM</strong>, <strong>NaivePyDECOMP</strong>, and <strong>MDI</strong> ‚Äî which collectively simulate, analyze, and optimize short-term dispatch, medium-term operation, and data integration within the energy systems domain.</p>
<p>This User Guide is intended for researchers, graduate students, and professionals seeking to understand the internal logic, structure, and usage of the NaivePyDESSEM ecosystem. The document adopts a formal technical tone consistent with academic and professional documentation standards, offering detailed explanations of modeling principles, solver integration, data preparation, and output interpretation.</p>
</section>
<section id="conceptual-foundations">
<h3>Conceptual Foundations<a class="headerlink" href="#conceptual-foundations" title="Link to this heading">ÔÉÅ</a></h3>
<p>The NaivePyDESSEM family mirrors the conceptual hierarchy established in the <strong>CEPEL</strong> models ‚Äî <em>DESSEM</em> for short-term operation, <em>DECOMP</em> for medium-term optimization, and <em>NEWAVE</em> for long-term planning ‚Äî while maintaining a simplified yet analytically rigorous structure suitable for academic research and classroom experimentation.</p>
<p>Each package is built atop the <strong>Pyomo</strong> optimization framework, leveraging its declarative modeling language to define decision variables, constraints, and objective functions for deterministic and stochastic optimization problems. The design emphasizes clarity of implementation, mathematical transparency, and reproducibility, allowing users to directly inspect, modify, and extend each model component.</p>
</section>
<section id="target-audience">
<h3>Target Audience<a class="headerlink" href="#target-audience" title="Link to this heading">ÔÉÅ</a></h3>
<p>This guide addresses three primary user profiles:</p>
<ol class="arabic simple">
<li><p><strong>Students and Educators</strong> ‚Äì who require a didactic framework for demonstrating fundamental principles of energy systems operation and optimization.</p></li>
<li><p><strong>Researchers and Developers</strong> ‚Äì who seek a modular foundation for developing or benchmarking novel optimization methodologies, including stochastic, metaheuristic, or decomposition-based approaches.</p></li>
<li><p><strong>Industry Professionals</strong> ‚Äì who wish to experiment with open, interpretable models before transitioning to large-scale proprietary tools.</p></li>
</ol>
</section>
<section id="system-requirements">
<h3>System Requirements<a class="headerlink" href="#system-requirements" title="Link to this heading">ÔÉÅ</a></h3>
<p>To ensure optimal performance and reproducibility, the following environment is recommended:</p>
<ul class="simple">
<li><p><strong>Operating System:</strong> Linux (preferred), macOS, or Windows 10/11.</p></li>
<li><p><strong>Python Version:</strong> 3.9 or higher.</p></li>
<li><p><strong>Required Dependencies:</strong> <code class="docutils literal notranslate"><span class="pre">pyomo</span></code>, <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">yaml</span></code>, <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, and <code class="docutils literal notranslate"><span class="pre">mealpy</span></code> (for metaheuristic integration).</p></li>
<li><p><strong>Optional Solvers:</strong> <code class="docutils literal notranslate"><span class="pre">GLPK</span></code>, <code class="docutils literal notranslate"><span class="pre">CPLEX</span></code>, <code class="docutils literal notranslate"><span class="pre">Gurobi</span></code>, or <code class="docutils literal notranslate"><span class="pre">IPOPT</span></code>.</p></li>
</ul>
</section>
</section>
<section id="installation-guide">
<h2>2. Installation Guide<a class="headerlink" href="#installation-guide" title="Link to this heading">ÔÉÅ</a></h2>
<p>The following instructions describe the complete setup procedure for <strong>NaivePyDESSEM</strong>, including environment initialization, package installation, and solver configuration.</p>
<hr class="docutils" />
<section id="create-and-activate-a-virtual-environment">
<h3>1. Create and Activate a Virtual Environment<a class="headerlink" href="#create-and-activate-a-virtual-environment" title="Link to this heading">ÔÉÅ</a></h3>
<p>It is strongly recommended to install NaivePyDESSEM inside an isolated Python environment to ensure dependency consistency and avoid version conflicts.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a virtual environment (Python ‚â• 3.9 recommended)</span>
virtalenv<span class="w"> </span>venv

<span class="c1"># Activate the environment</span>
<span class="c1"># On Linux / macOS:</span>
<span class="nb">source</span><span class="w"> </span>venv/bin/activate

<span class="c1"># On Windows (PowerShell):</span>
venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="install-naivepydessem">
<h3>2. Install NaivePyDESSEM<a class="headerlink" href="#install-naivepydessem" title="Link to this heading">ÔÉÅ</a></h3>
<section id="option-a-from-pypi-recommended-for-most-users">
<h4>Option A ‚Äì From PyPI (recommended for most users)<a class="headerlink" href="#option-a-from-pypi-recommended-for-most-users" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>naivepydessem
</pre></div>
</div>
</section>
<section id="option-b-from-source-https">
<h4>Option B ‚Äì From Source (HTTPS)<a class="headerlink" href="#option-b-from-source-https" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/superflanker/NaivePyDESSEM.git
<span class="nb">cd</span><span class="w"> </span>NaivePyDESSEM
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</section>
<section id="option-c-from-source-ssh">
<h4>Option C ‚Äì From Source (SSH)<a class="headerlink" href="#option-c-from-source-ssh" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:superflanker/NaivePyDESSEM.git
<span class="nb">cd</span><span class="w"> </span>NaivePyDESSEM
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="build-pyomo-extensions">
<h3>3. Build Pyomo Extensions<a class="headerlink" href="#build-pyomo-extensions" title="Link to this heading">ÔÉÅ</a></h3>
<p>NaivePyDESSEM automatically installs <strong>Pyomo</strong> as a dependency.<br />
However, certain solvers require Pyomo‚Äôs compiled extensions to be available.<br />
Execute the following command once after installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyomo<span class="w"> </span>build-extensions
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="install-and-configure-optimization-solvers">
<h3>4. Install and Configure Optimization Solvers<a class="headerlink" href="#install-and-configure-optimization-solvers" title="Link to this heading">ÔÉÅ</a></h3>
<p>NaivePyDESSEM relies on external solvers for mixed-integer linear programming (MILP) and nonlinear optimization.<br />
The following options are supported:</p>
<section id="ibm-cplex">
<h4><strong>IBM CPLEX</strong><a class="headerlink" href="#ibm-cplex" title="Link to this heading">ÔÉÅ</a></h4>
<ol class="arabic">
<li><p>Install IBM ILOG CPLEX Optimization Studio from:<br />
<a class="reference external" href="https://www.ibm.com/products/ilog-cplex-optimization-studio">https://www.ibm.com/products/ilog-cplex-optimization-studio</a></p></li>
<li><p>Set the environment variable <code class="docutils literal notranslate"><span class="pre">CPLEX_HOME</span></code> (if not automatically configured).</p></li>
<li><p>Verify installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cplex<span class="w"> </span>-version
</pre></div>
</div>
</li>
</ol>
</section>
<hr class="docutils" />
<section id="gurobi">
<h4><strong>Gurobi</strong><a class="headerlink" href="#gurobi" title="Link to this heading">ÔÉÅ</a></h4>
<ol class="arabic">
<li><p>Install the Gurobi Optimizer from:<br />
<a class="reference external" href="https://www.gurobi.com/downloads/">https://www.gurobi.com/downloads/</a></p></li>
<li><p>Obtain an academic or trial license and activate it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>grbgetkey<span class="w"> </span>&lt;license-key&gt;
</pre></div>
</div>
</li>
<li><p>Confirm installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gurobi_cl<span class="w"> </span>--version
</pre></div>
</div>
</li>
</ol>
</section>
<hr class="docutils" />
<section id="scip">
<h4><strong>SCIP</strong><a class="headerlink" href="#scip" title="Link to this heading">ÔÉÅ</a></h4>
<ol class="arabic">
<li><p>Install SCIP Optimization Suite (open-source alternative):<br />
<a class="reference external" href="https://www.scipopt.org/">https://www.scipopt.org/</a></p></li>
<li><p>Depending on your platform:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># On Debian/Ubuntu</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>scipopt

<span class="c1"># Or via conda (recommended)</span>
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>pyscipopt
</pre></div>
</div>
</li>
<li><p>Verify installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>scip<span class="w"> </span>--version
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="validate-the-environment">
<h3>5. Validate the Environment<a class="headerlink" href="#validate-the-environment" title="Link to this heading">ÔÉÅ</a></h3>
<p>To confirm successful installation, open a Python session and run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pyo</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">naivepydessem</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pyomo version:&quot;</span><span class="p">,</span> <span class="n">pyo</span><span class="o">.</span><span class="n">version</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;NaivePyDESSEM successfully imported.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If no errors occur, the environment is properly configured.</p>
</section>
<hr class="docutils" />
<section id="optional-upgrade-or-uninstall">
<h3>6. (Optional) Upgrade or Uninstall<a class="headerlink" href="#optional-upgrade-or-uninstall" title="Link to this heading">ÔÉÅ</a></h3>
<p>To upgrade:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>naivepydessem
</pre></div>
</div>
<p>To uninstall:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>uninstall<span class="w"> </span>naivepydessem
</pre></div>
</div>
<hr class="docutils" />
<p>‚úÖ <strong>Installation Cheatsheet</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>Purpose</p></th>
<th class="head"><p>Installation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Virtualenv</strong></p></td>
<td><p>Isolated environment</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">virtualenv</span> <span class="pre">venv</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Virtualenv Activation</strong></p></td>
<td><p>Isolated environment</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">venv/bin/activate</span></code></p></td>
</tr>
<tr class="row-even"><td><p><strong>NaivePyDESSEM</strong></p></td>
<td><p>Core library</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">naivepydessem</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Pyomo Extensions</strong></p></td>
<td><p>Solver interfaces</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pyomo</span> <span class="pre">build-extensions</span></code></p></td>
</tr>
<tr class="row-even"><td><p><strong>Solvers (CPLEX, Gurobi, SCIP)</strong></p></td>
<td><p>Optimization engines</p></td>
<td><p>External installation required</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<p><strong>Note:</strong> Some solvers (e.g., CPLEX, Gurobi) require valid licenses.<br />
Ensure environment variables (e.g., <code class="docutils literal notranslate"><span class="pre">PATH</span></code>, <code class="docutils literal notranslate"><span class="pre">CPLEX_HOME</span></code>, <code class="docutils literal notranslate"><span class="pre">GUROBI_HOME</span></code>) are correctly configured before executing optimization models.</p>
</section>
</section>
<section id="problem-formulation-and-mathematical-modeling">
<h2>3. Problem Formulation and Mathematical Modeling<a class="headerlink" href="#problem-formulation-and-mathematical-modeling" title="Link to this heading">ÔÉÅ</a></h2>
<p>This chapter formalizes the mathematical structures that underpin each model, providing a unified notation and formulation style across planning horizons. Each model is expressed as a mixed-integer or linear optimization problem, with explicit definitions of sets, parameters, decision variables, objective functions, and constraints.</p>
<p>Each model represents a specific temporal and operational scope within the decision hierarchy of the <strong>SIN (National Interconnected System)</strong>:</p>
<ul class="simple">
<li><p><strong>DESSEM (Short-Term Hydrothermal Scheduling Model):</strong><br />
Formulates the hourly dispatch problem with detailed operational constraints for hydro, thermal, renewable, and storage units. It employs mixed-integer linear programming (MILP) formulations to capture short-term dynamics, including reservoir balance, ramping, and startup/shutdown logic.</p></li>
<li><p><strong>DECOMP (Medium-Term Hydrothermal Operation Model):</strong><br />
Represents weekly scheduling decisions using stochastic dual dynamic programming (SDDP) or deterministic decompositions. It approximates the stochastic inflow process and optimizes hydrothermal coordination under energy balance constraints, accounting for the trade-off between hydraulic and thermal generation costs.</p></li>
<li><p><strong>MDI (Long-Term Expansion Planning Model):</strong><br />
Determines the optimal investment and operation plan for generation and storage over a multi-year horizon. It is formulated as a <strong>Mixed-Integer Linear Programming (MILP)</strong> problem, aiming to minimize total system cost while satisfying capacity adequacy, reliability, and environmental criteria.</p></li>
</ul>
<p>In summary, these models together form a consistent multi-horizon optimization chain:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Model</p></th>
<th class="head text-left"><p>Horizon</p></th>
<th class="head text-left"><p>Decision Type</p></th>
<th class="head text-left"><p>Mathematical Nature</p></th>
<th class="head text-left"><p>Main Objective</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><strong>DESSEM</strong></p></td>
<td class="text-left"><p>Short-term (hours‚Äìdays)</p></td>
<td class="text-left"><p>Operational dispatch</p></td>
<td class="text-left"><p>MILP</p></td>
<td class="text-left"><p>Minimize operating cost</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><strong>DECOMP</strong></p></td>
<td class="text-left"><p>Medium-term (weeks‚Äìmonths)</p></td>
<td class="text-left"><p>Operation planning</p></td>
<td class="text-left"><p>Linear or Stochastic DP</p></td>
<td class="text-left"><p>Optimize hydrothermal coordination</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><strong>MDI</strong></p></td>
<td class="text-left"><p>Long-term (years)</p></td>
<td class="text-left"><p>Expansion planning</p></td>
<td class="text-left"><p>MILP</p></td>
<td class="text-left"><p>Minimize investment + operation cost</p></td>
</tr>
</tbody>
</table>
<p>Each formulation in this chapter includes the complete definition of sets, parameters, decision variables, objective function, and constraints.<br />
The presentation follows a standardized mathematical notation to facilitate comparison and integration across planning horizons.</p>
<section id="mathematical-modeling-of-dessem">
<h3>Mathematical Modeling of DESSEM<a class="headerlink" href="#mathematical-modeling-of-dessem" title="Link to this heading">ÔÉÅ</a></h3>
<section id="hydropower-plants">
<h4>Hydropower Plants<a class="headerlink" href="#hydropower-plants" title="Link to this heading">ÔÉÅ</a></h4>
<section id="sets-and-indices">
<h5>Sets and Indices<a class="headerlink" href="#sets-and-indices" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(\mathcal{T} = \{1,\dots,T\}\)</span> ‚Äì hourly periods</p></li>
<li><p><span class="math">\(\mathcal{H} = \{\text{UHE}_1, \dots, \text{UHE}_{n_h}\}\)</span> ‚Äì hydropower plants</p></li>
<li><p><span class="math">\(\mathcal{U}(h) \subseteq \mathcal{H}\)</span> ‚Äì set of upstream hydropower plants of <span class="math">\(h\)</span></p></li>
</ul>
</section>
<section id="parameters-data">
<h5>Parameters (Data)<a class="headerlink" href="#parameters-data" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(a_{h,t}\)</span> ‚Äì natural inflow to plant <span class="math">\(h\)</span> in period <span class="math">\(t\)</span> (m<span class="math">\(^3\)</span>/s)</p></li>
<li><p><span class="math">\(d_t\)</span> ‚Äì demand in period <span class="math">\(t\)</span> (MWh/h)</p></li>
<li><p><span class="math">\(\zeta_{\text{vol}}\)</span> ‚Äì volume‚Äìflow conversion factor (hm<span class="math">\(^3\)</span>/h) <span class="math">\(\Rightarrow \frac{3600}{10^6}\)</span></p></li>
<li><p><span class="math">\(\zeta\)</span> ‚Äì hydraulic constant <span class="math">\(\Rightarrow \frac{9.81}{1000}\)</span> (MW per m<span class="math">\(^3\)</span>/sm of head)</p></li>
<li><p><span class="math">\(V_{{\min}_h},\,V_{{\max}_h}\)</span> ‚Äì volume limits (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(Q_{{\min}_h},\,Q_{{\max}_h}\)</span> ‚Äì turbined flow limits (m<span class="math">\(^3\)</span>/s)</p></li>
<li><p><span class="math">\(V_{{\text{ini}}_h}\)</span> ‚Äì initial reservoir volume (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(V_{{\text{meta}}_h}\)</span>  ‚Äì target terminal volume (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(C_{{\text{def}}}\)</span> ‚Äì unitary cost of deficit ($/MWh)</p></li>
<li><p><span class="math">\(\alpha_{h,k},\,\beta_{h,k},\,\gamma_{h,k}\)</span> ‚Äì polynomial coefficients for <span class="math">\(h_{\text{up}}\)</span>, <span class="math">\(h_{\text{down}}\)</span>, <span class="math">\(h_{\text{loss}}\)</span></p></li>
<li><p><span class="math">\(\rho_{h,k}\)</span> ‚Äì \text{polynomial coefficients of the specific productivity <span class="math">\(\rho_h\)</span></p></li>
</ul>
</section>
<section id="decision-variables">
<h5>Decision Variables<a class="headerlink" href="#decision-variables" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(Q_{h,t} \ge 0\)</span> ‚Äì turbined flow (m<span class="math">\(^3\)</span>/s)</p></li>
<li><p><span class="math">\(S_{h,t} \ge 0\)</span> ‚Äì spillage (m<span class="math">\(^3\)</span>/s)</p></li>
<li><p><span class="math">\(V_{h,t} \ge 0\)</span> ‚Äì stored volume (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(G_{h,t} \ge 0\)</span> ‚Äì hydropower generation (MWh/h)</p></li>
<li><p><span class="math">\(D_t \ge 0\)</span> ‚Äì energy deficit (MWh/h)</p></li>
</ul>
</section>
<section id="hydraulic-polynomial-functions-for-plant-h">
<h5>Hydraulic Polynomial Functions for Plant <span class="math">\(h\)</span><a class="headerlink" href="#hydraulic-polynomial-functions-for-plant-h" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(\rho(Q, H_{\text{net}}) = \zeta \,\Big( \rho_0 + \rho_1 Q + \rho_2 H_{\text{net}} + \rho_3 Q H_{\text{net}} + \rho_4 Q^2 + \rho_5 H_{\text{net}}^2
\Big), \text{ (CEPEL, 2023)}\)</span></p></li>
<li><p><span class="math">\(h_{\text{up},h}(V) = \sum_{k=0}^{K_a} \alpha_{h,k}\, V^k, \)</span></p></li>
<li><p><span class="math">\(h_{\text{down},h}(q) = \sum_{k=0}^{K_b} \beta_{h,k}\, q^k,\)</span></p></li>
<li><p><span class="math">\(h_{\text{loss},h}(Q) = \sum_{k=0}^{K_\gamma} \gamma_{h,k}\, Q^k.\)</span></p></li>
</ul>
</section>
<section id="hydropower-production-function-hpf">
<h5>Hydropower Production Function (HPF)<a class="headerlink" href="#hydropower-production-function-hpf" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(H_{{\text{net}}_{h,t}} = h_{\text{up},h}(V_{h,t})- h_{\text{down},h}(Q_{h,t}+S_{h,t}) - h_{\text{loss},h}(Q_{h,t}),\)</span></p></li>
<li><p><span class="math">\(G_{h,t} = \zeta \, Q_{h,t}\, \rho_h(Q_{h,t}, H_{{\text{net}}_{h,t}})\, H_{{\text{net}}_{h,t}} \quad \textbf{(Exact HPF)},\)</span></p></li>
<li><p><span class="math">\(G_{h,t} = \zeta \mathrm{PE} H_{{\mathrm{net}}_{h,t}} Q_{h,t} \quad \textbf{(HPF with constant PE)},\)</span></p></li>
<li><p><span class="math">\(G_{h,t} = \mathrm{P}  Q_{h,t} \quad \textbf{(Linearized HPF)}.\)</span></p></li>
</ul>
</section>
<section id="total-instantaneous-inflow-cascade-without-delay">
<h5>Total Instantaneous Inflow (Cascade without Delay)<a class="headerlink" href="#total-instantaneous-inflow-cascade-without-delay" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
I_{h,t} = a_{h,t} + \sum_{u \in \mathcal{U}(h)} ( Q_{u,t} + S_{u,t} ), 
\quad \forall h\in\mathcal{H},\; \forall t\in\mathcal{T}.
\]</div>
</section>
<section id="constraints">
<h5>Constraints<a class="headerlink" href="#constraints" title="Link to this heading">ÔÉÅ</a></h5>
<section id="generation">
<h6>Generation<a class="headerlink" href="#generation" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
G_{h,t} = HPF(Q,V,S), \quad \forall h\in\mathcal{H},\, t\in\mathcal{T}.
\]</div>
</section>
<section id="reservoir-mass-balance">
<h6>Reservoir Mass Balance<a class="headerlink" href="#reservoir-mass-balance" title="Link to this heading">ÔÉÅ</a></h6>
<ul class="simple">
<li><p><span class="math">\(V_{h,1} = V_{{\text{ini}}_h} + \zeta_{\text{vol}} ( I_{h,1} - Q_{h,1} - S_{h,1}),\)</span></p></li>
<li><p><span class="math">\(V_{h,t} = V_{h,t-1} + \zeta_{\text{vol}} ( I_{h,t} - Q_{h,t} - S_{h,t}),
\quad \forall t=2,\dots,T.\)</span></p></li>
</ul>
</section>
<section id="targets-and-operational-limits">
<h6>Targets and Operational Limits<a class="headerlink" href="#targets-and-operational-limits" title="Link to this heading">ÔÉÅ</a></h6>
<ul class="simple">
<li><p><span class="math">\(V_{h,T} \ge V_{{\text{meta}}_h},\)</span></p></li>
<li><p><span class="math">\(V_{{\min}_h} \le V_{h,t} \le V_{{\max}_h},\)</span></p></li>
<li><p><span class="math">\(Q_{{\min}_h} \le Q_{h,t} \le Q_{{\max}_h},\)</span></p></li>
<li><p><span class="math">\(S_{h,t},\, G_{h,t},\, D_t \ge 0.\)</span></p></li>
</ul>
</section>
</section>
</section>
<hr class="docutils" />
<section id="thermal-power-plants">
<h4>Thermal Power Plants<a class="headerlink" href="#thermal-power-plants" title="Link to this heading">ÔÉÅ</a></h4>
<section id="id1">
<h5>Sets and Indices<a class="headerlink" href="#id1" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(\mathcal{T} = \{1,\dots,T\}, \quad\)</span></p></li>
<li><p><span class="math">\(\mathcal{G} = \{\text{UTE}_1,\dots,\text{UTE}_{n_g}\}.\)</span></p></li>
</ul>
</section>
<section id="parameters">
<h5>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(d_t\)</span> ‚Äì system demand (MW)</p></li>
<li><p><span class="math">\(P_{{\min}_g},\, P_{{\max}_g}\)</span> ‚Äì generation limits of plant <span class="math">\(g\)</span> (MW) (CEPEL, 2023)</p></li>
<li><p><span class="math">\(a_g,\, b_g,\, c_g\)</span> ‚Äì thermal cost coefficients of plant <span class="math">\(g\)</span></p></li>
<li><p><span class="math">\(SC_g\)</span> ‚Äì startup cost of plant <span class="math">\(g\)</span></p></li>
<li><p><span class="math">\(R U_g,\, R D_g\)</span> ‚Äì ramp-up/ramp-down rates (MW per interval)</p></li>
<li><p><span class="math">\(t_{{\uparrow}_g},\, t_{{\downarrow}_g}\)</span> ‚Äì minimum up/down times (h)</p></li>
<li><p><span class="math">\(C_{\text{def}}\)</span> ‚Äì deficit penalty cost (R$/MWh)</p></li>
<li><p><span class="math">\(u_{g,0},\, p_{g,0}\)</span> ‚Äì initial on/off status and generation (from initial status data)</p></li>
</ul>
</section>
<section id="id2">
<h5>Decision Variables<a class="headerlink" href="#id2" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(p_{g,t}\ge 0,\quad\)</span></p></li>
<li><p><span class="math">\(u_{g,t}, y_{g,t}, w_{g,t}\in\{0,1\},\quad\)</span></p></li>
<li><p><span class="math">\(D_t\ge 0.\)</span></p></li>
</ul>
<p>(where <span class="math">\(u\)</span> = on, <span class="math">\(y\)</span> = startup, <span class="math">\(w\)</span> = shutdown.)</p>
</section>
<section id="id3">
<h5>Constraints<a class="headerlink" href="#id3" title="Link to this heading">ÔÉÅ</a></h5>
<section id="power-balance">
<h6>Power Balance<a class="headerlink" href="#power-balance" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
\sum_{g\in\mathcal{G}} p_{g,t} + D_t = d_t, \quad \forall t.
\]</div>
</section>
<section id="conditional-capacity">
<h6>Conditional Capacity<a class="headerlink" href="#conditional-capacity" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
P_{{\min}_g} u_{g,t} \le p_{g,t} \le P_{{\max}_g} u_{g,t}.
\]</div>
</section>
<section id="startup-shutdown-logic">
<h6>Startup/Shutdown Logic<a class="headerlink" href="#startup-shutdown-logic" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
u_{g,t} - u_{g,t-1} = y_{g,t} - w_{g,t}.
\]</div>
</section>
<section id="ramping-limits">
<h6>Ramping Limits<a class="headerlink" href="#ramping-limits" title="Link to this heading">ÔÉÅ</a></h6>
<ul class="simple">
<li><p><span class="math">\(p_{g,t} - p_{g,t-1} \le RU_g + P_{{\max}_g} y_{g,t}\)</span></p></li>
<li><p><span class="math">\(p_{g,t-1} - p_{g,t} \le RD_g + P_{{\max}_g} w_{g,t}\)</span></p></li>
</ul>
</section>
<section id="minimum-up-down-time">
<h6>Minimum Up/Down Time<a class="headerlink" href="#minimum-up-down-time" title="Link to this heading">ÔÉÅ</a></h6>
<ul class="simple">
<li><p><span class="math">\(\sum_{\tau=t-t^{\uparrow}_g+1}^{t} y_{g,\tau} \le u_{g,t},\)</span></p></li>
<li><p><span class="math">\(\sum_{\tau=t-t^{\downarrow}_g+1}^{t} w_{g,\tau} \le 1-u_{g,t}.\)</span></p></li>
</ul>
</section>
<section id="consistent-initial-conditions">
<h6>Consistent Initial Conditions<a class="headerlink" href="#consistent-initial-conditions" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
p_{g,0}\in
\begin{cases}
[\,P_{{\min}_g},\,P_{{\max}_g}\,], & \text{if } u_{g,0}=1,\\
\{0\}, & \text{if } u_{g,0}=0.
\end{cases}
\]</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="renewable-energies-and-storage">
<h4>Renewable Energies and Storage<a class="headerlink" href="#renewable-energies-and-storage" title="Link to this heading">ÔÉÅ</a></h4>
<section id="id4">
<h5>Sets and Indices<a class="headerlink" href="#id4" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(\mathcal{T} = \{1,\dots,T\},\quad\)</span></p></li>
<li><p><span class="math">\(\mathcal{R} = \{1,\dots,R_{n_r}\},\quad\)</span></p></li>
<li><p><span class="math">\(\mathcal{S} = \{1,\dots,S_{n_s}\}.\)</span></p></li>
</ul>
</section>
<section id="id5">
<h5>Parameters<a class="headerlink" href="#id5" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(\overline{g}_{r,t}\)</span> ‚Äì exogenous renewable availability profile (MW avg)</p></li>
<li><p><span class="math">\(\Delta t\)</span> ‚Äì time step (typically 1 h)</p></li>
<li><p><span class="math">\(E_{{\min}_s},\,E_{{\max}_s}\)</span> ‚Äì energy storage limits (MWh)</p></li>
<li><p><span class="math">\(E_{{\mathrm{ini}}_s}\)</span> ‚Äì initial energy (MWh)</p></li>
<li><p><span class="math">\(\overline{P}_{{\mathrm{ch}}_{s}},\,\overline{P}_{{\mathrm{dis}}_{s}}\)</span> ‚Äì max charge/discharge power (MW)</p></li>
<li><p><span class="math">\(\eta_{{\mathrm{c}}_{s}},\,\eta_{{\mathrm{d}}_{s}}\)</span> ‚Äì charge and discharge efficiencies</p></li>
</ul>
</section>
<section id="id6">
<h5>Decision Variables<a class="headerlink" href="#id6" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(g_{{\mathrm{ren}}_{r,t}} \ge 0\)</span> ‚Äì \text{dispatched renewable generation (MW)}</p></li>
<li><p><span class="math">\(E_{s,t} \ge 0\)</span> ‚Äì \text{stored energy (MWh)</p></li>
<li><p><span class="math">\(P_{{\mathrm{ch}}_{s,t}},\,P_{{\mathrm{dis}}_{s,t}} \ge 0\)</span> ‚Äì charging/discharging power (MW)</p></li>
</ul>
</section>
<section id="id7">
<h5>Constraints<a class="headerlink" href="#id7" title="Link to this heading">ÔÉÅ</a></h5>
<section id="renewable-generation-availability-limit">
<h6>Renewable Generation ‚Äî Availability Limit<a class="headerlink" href="#renewable-generation-availability-limit" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
0 \le g_{{\mathrm{ren}}_{r,t}} \le \overline{g}_{r,t}, \quad \forall r,t.
\]</div>
</section>
<section id="storage-energy-balance-soc">
<h6>Storage ‚Äî Energy Balance (SoC)<a class="headerlink" href="#storage-energy-balance-soc" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
E_{s,1} = E_{{\mathrm{ini}}_s} + \eta_{{\mathrm{c}}_{s}} P_{{\mathrm{ch}}_{s,1}} \Delta t - \frac{1}{\eta_{{\mathrm{d}}_{s}}} P_{{\mathrm{dis}}_{s,1}} \Delta t,\\
E_{s,t} = E_{s,t-1} + \eta_{{\mathrm{c}}_{s}} P_{{\mathrm{ch}}_{s,t}} \Delta t - \frac{1}{\eta_{{\mathrm{d}}_{s}}} P_{{\mathrm{dis}}_{s,t}} \Delta t, \quad \forall t=2,\dots,T.
\]</div>
</section>
<section id="storage-state-of-charge-soc-limits">
<h6>Storage ‚Äî State of Charge (SoC) Limits<a class="headerlink" href="#storage-state-of-charge-soc-limits" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
E_{{\min}_s} \le E_{s,t} \le E_{{\max}_s}.
\]</div>
</section>
<section id="storage-power-limits">
<h6>Storage ‚Äî Power Limits<a class="headerlink" href="#storage-power-limits" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
0 \le P_{{\mathrm{ch}}_{s,t}} \le \overline{P}_{{\mathrm{ch}}_{s}},\\
0 \le P_{{\mathrm{dis}}_{s,t}} \le \overline{P}_{{\mathrm{dis}}_{s}}.
\]</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="objective-function">
<h4>Objective Function<a class="headerlink" href="#objective-function" title="Link to this heading">ÔÉÅ</a></h4>
<p>The hydrothermal dispatch problem is formulated as a minimization of total generation and deficit costs, including:</p>
<ul class="simple">
<li><p>Thermal generation costs;</p></li>
<li><p>Deficit costs (represented by a thermal deficit unit with fixed cost, as per Unsihuay, 2023);</p></li>
<li><p>Penalty for reservoir spillage.</p></li>
</ul>
<div class="math">
\[
\begin{aligned}
\min Z =\; &\sum_{g\in\mathcal{G}}\sum_{t\in\mathcal{T}} c_g\,p_{g,t} \\
&+ 0.3\sum_{h\in\mathcal{H}}\sum_{t\in\mathcal{T}} S_{h,t} \\
&+ C_{def}\sum_{t\in\mathcal{T}} D_t
\end{aligned}
\]</div>
</section>
<hr class="docutils" />
<section id="power-balance-load-supply">
<h4>Power Balance (Load Supply)<a class="headerlink" href="#power-balance-load-supply" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
\sum_{h \in \mathcal{H}} G_{h,t} +
\sum_{g \in \mathcal{G}} p_{g,t} +
\sum_{r \in \mathcal{R}} g_{{\mathrm{ren}}_{r,t}} +
\sum_{s \in \mathcal{S}} ( P_{{\mathrm{dis}}_{s,t}} - P_{{\mathrm{ch}}_{s,t}} ) +
D_t = d_t, \quad \forall t \in \mathcal{T}.
\]</div>
</section>
</section>
<section id="mathematical-modeling-of-decomp">
<h3>Mathematical Modeling of DECOMP<a class="headerlink" href="#mathematical-modeling-of-decomp" title="Link to this heading">ÔÉÅ</a></h3>
<section id="id8">
<h4>Hydropower Plants<a class="headerlink" href="#id8" title="Link to this heading">ÔÉÅ</a></h4>
<section id="id9">
<h5>Sets and Indices<a class="headerlink" href="#id9" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(\mathcal{T} = \{1,\dots,T\}\)</span> ‚Äì periods</p></li>
<li><p><span class="math">\(\mathcal{H} = \{\text{UHE}_1, \dots, \text{UHE}_{n_h}\}\)</span> ‚Äì hydropower plants</p></li>
<li><p><span class="math">\(\mathcal{U}(h) \subseteq \mathcal{H}\)</span> ‚Äì set of upstream hydropower plants of <span class="math">\(h\)</span></p></li>
</ul>
</section>
<section id="id10">
<h5>Parameters (Data)<a class="headerlink" href="#id10" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(a_{h,t}\)</span> ‚Äì natural inflow to plant <span class="math">\(h\)</span> in period <span class="math">\(t\)</span> (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(d_t\)</span> ‚Äì demand in period <span class="math">\(t\)</span> (MWh)</p></li>
<li><p><span class="math">\(V_{{\min}_h},\,V_{{\max}_h}\)</span> ‚Äì storage limits (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(Q_{{\min}_h},\,Q_{{\max}_h}\)</span> ‚Äì turbined flow limits (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(V_{{\text{ini}}_h}\)</span> ‚Äì initial reservoir volume (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(V_{{\text{meta}}_h}\)</span> ‚Äì target terminal volume (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(C_{{\text{def}}}\)</span> ‚Äì unitary cost of deficit ($/MWh)</p></li>
</ul>
</section>
<section id="id11">
<h5>Decision Variables<a class="headerlink" href="#id11" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(Q_{h,t} \ge 0\)</span> ‚Äì turbined flow (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(S_{h,t} \ge 0\)</span> ‚Äì spillage (m<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(V_{h,t} \ge 0\)</span> ‚Äì stored volume (hm<span class="math">\(^3\)</span>)</p></li>
<li><p><span class="math">\(G_{h,t} \ge 0\)</span> ‚Äì hydropower generation (MWmed)</p></li>
<li><p><span class="math">\(D_t \ge 0\)</span> ‚Äì energy deficit (MWh/h)</p></li>
</ul>
</section>
<section id="id12">
<h5>Hydropower Production Function (HPF)<a class="headerlink" href="#id12" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
G_{h,t} = P\, Q_{h,t} \quad \textbf{(Linearized HPF)}
\]</div>
</section>
<section id="id13">
<h5>Constraints<a class="headerlink" href="#id13" title="Link to this heading">ÔÉÅ</a></h5>
<section id="id14">
<h6>Total Instantaneous Inflow (Cascade without Delay)<a class="headerlink" href="#id14" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
I_{h,t} = a_{h,t} + \sum_{u \in \mathcal{U}(h)} ( Q_{u,t} + S_{u,t} ), \quad \forall h \in \mathcal{H}, \; \forall t \in \mathcal{T}
\]</div>
</section>
<section id="id15">
<h6>Reservoir Mass Balance<a class="headerlink" href="#id15" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
V_{h,1} = V_{\text{ini}_h} + ( I_{h,1} - Q_{h,1} - S_{h,1} ), \quad \forall h, \; t = 1\\
V_{h,t} = V_{h,t-1} + ( I_{h,t} - Q_{h,t} - S_{h,t} ), \quad \forall h, \; t = 2,\dots,T
\]</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="thermal-units">
<h4>Thermal Units<a class="headerlink" href="#thermal-units" title="Link to this heading">ÔÉÅ</a></h4>
<section id="id16">
<h5>Sets and Indices<a class="headerlink" href="#id16" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
    \mathcal{T} = \{1,\dots,T\}, \quad\\
    \mathcal{G} = \{\text{UTE}_1,\dots,\text{UTE}_{n}\}.
\]</div>
</section>
<section id="id17">
<h5>Parameters<a class="headerlink" href="#id17" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
G_{\min_g}, G_{\max_g} \text{ ‚Äî generation limits of unit } g \text{ (MW)}\\
c_g \text{ ‚Äî thermal generation cost of unit } g
\]</div>
</section>
<section id="id18">
<h5>Decision Variables<a class="headerlink" href="#id18" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
p_{g,t} \ge 0 \text{ (MW)}
\]</div>
</section>
<section id="id19">
<h5>Constraints<a class="headerlink" href="#id19" title="Link to this heading">ÔÉÅ</a></h5>
<section id="capacity">
<h6>Capacity<a class="headerlink" href="#capacity" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
G_{\min_g} \le p_{g,t} \le G_{\max_g}, \quad \forall g, t
\]</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="id20">
<h4>Renewable Energies and Storage<a class="headerlink" href="#id20" title="Link to this heading">ÔÉÅ</a></h4>
<section id="id21">
<h5>Sets and Indices<a class="headerlink" href="#id21" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(\mathcal{T} = \{1,2,\dots,T\} \quad\)</span> ‚Äî periods</p></li>
<li><p><span class="math">\(\mathcal{R} = \{1,2,\dots,N_R\} \quad\)</span> ‚Äî set of renewable units (wind/solar)</p></li>
<li><p><span class="math">\(\mathcal{S} = \{1,2,\dots,N_S\} \quad\)</span> ‚Äî set of storage units (batteries)</p></li>
</ul>
</section>
<section id="id22">
<h5>Parameters<a class="headerlink" href="#id22" title="Link to this heading">ÔÉÅ</a></h5>
<p>For each <span class="math">\(t \in \mathcal{T}\)</span>, <span class="math">\(r \in \mathcal{R}\)</span>, and <span class="math">\(s \in \mathcal{S}\)</span>:</p>
<ul class="simple">
<li><p><span class="math">\(\overline{g}_{r,t} \text{ ‚Äî exogenous renewable availability profile (MWmed)}\)</span></p></li>
<li><p><span class="math">\(\Delta t \text{ ‚Äî time step (T), typically } \Delta t = 1\)</span></p></li>
<li><p><span class="math">\(E_{\min_s}, E_{\max_s} \text{ ‚Äî min/max stored energy limits (MWh)}\)</span></p></li>
<li><p><span class="math">\(E_{\text{ini}_s} \text{ ‚Äî initial energy (MWh)}\)</span></p></li>
<li><p><span class="math">\(\overline{P}_{\text{ch}_s}, \overline{P}_{\text{dis}_s} \text{ ‚Äî maximum charge/discharge power (MW)}\)</span></p></li>
<li><p><span class="math">\(\eta_{\text{c}_s}, \eta_{\text{d}_s} \in (0,1] ‚Äì \text{ ‚Äî charging and discharging efficiencies}\)</span></p></li>
</ul>
</section>
<section id="id23">
<h5>Decision Variables<a class="headerlink" href="#id23" title="Link to this heading">ÔÉÅ</a></h5>
<ul class="simple">
<li><p><span class="math">\(g_{\text{ren}_{r,t}} \ge 0 \text{ ‚Äî dispatched renewable generation of unit } r \text{ at } t \text{ (MWavg)}\)</span></p></li>
<li><p><span class="math">\(E_{s,t} \ge 0 \text{ ‚Äî stored energy (SoC) of battery } s \text{ at } t \text{ (MWh)}\)</span></p></li>
<li><p><span class="math">\(P_{\text{ch}_{s,t}}, P_{\text{dis}_{s,t}} \ge 0 \text{ ‚Äî charge/discharge powers (MW)}\)</span></p></li>
</ul>
</section>
<section id="id24">
<h5>Constraints<a class="headerlink" href="#id24" title="Link to this heading">ÔÉÅ</a></h5>
<section id="renewable-sources-availability-limit">
<h6>Renewable Sources ‚Äî Availability Limit<a class="headerlink" href="#renewable-sources-availability-limit" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
0 \le g_{\text{ren}_{r,t}} \le \overline{g}_{r,t}, \quad \forall r \in \mathcal{R}, \; \forall t \in \mathcal{T}
\]</div>
</section>
<section id="id25">
<h6>Storage ‚Äî Energy Balance (SoC)<a class="headerlink" href="#id25" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
E_{s,1} = ‚Äì E_{\text{ini}_s} + \eta_{\text{c}_s} P_{\text{ch}_{s,1}} \Delta t - \frac{1}{\eta_{\text{d}_s}} P_{\text{dis}_{s,1}} \Delta t, \quad \forall s \in \mathcal{S}\\
E_{s,t} = ‚Äì E_{s,t-1} + \eta_{\text{c}_s} P_{\text{ch}_{s,t}} \Delta t - \frac{1}{\eta_{\text{d}_s}} P_{\text{dis}_{s,t}} \Delta t, \quad \forall s \in \mathcal{S}, \; t=2,\dots,T
\]</div>
</section>
<section id="id26">
<h6>Storage ‚Äî State of Charge (SoC) Limits<a class="headerlink" href="#id26" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
E_{\min_s} \le E_{s,t} \le E_{\max_s}, \quad \forall s \in \mathcal{S}, \; \forall t \in \mathcal{T}
\]</div>
</section>
<section id="id27">
<h6>Storage ‚Äî Power Limits<a class="headerlink" href="#id27" title="Link to this heading">ÔÉÅ</a></h6>
<div class="math">
\[
0 \le P_{\text{ch}_{s,t}} \le \overline{P}_{\text{ch}_s}, ‚Äì \quad \forall s \in \mathcal{S}, \; \forall t \in \mathcal{T}\\
0 \le P_{\text{dis}_{s,t}} \le \overline{P}_{\text{dis}_s}, \quad \forall s \in \mathcal{S}, \; \forall t \in \mathcal{T}
\]</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="id28">
<h4>Objective Function<a class="headerlink" href="#id28" title="Link to this heading">ÔÉÅ</a></h4>
<p>The hydrothermal dispatch problem is formulated as the minimization of total generation and deficit costs, namely:</p>
<ul class="simple">
<li><p>Thermal generation costs</p></li>
<li><p>Deficit cost (represented by a thermal unit with fixed cost, as in Unsihuay, 2023)</p></li>
<li><p>Spillage penalty (energy waste)</p></li>
<li><p>For the PDDD case, the future cost term <span class="math">\(\alpha\)</span> (FCF) is included</p></li>
</ul>
<section id="single-lp-objective-function">
<h5>Single LP Objective Function<a class="headerlink" href="#single-lp-objective-function" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
\min Z = \sum_{g\in\mathcal{G}} \sum_{t\in\mathcal{T}} (c_g p_{g,t}) + 0.3 \sum_{h\in\mathcal{H}} \sum_{t\in\mathcal{T}} S_{h,t} + C_{\text{def}} \sum_{t\in\mathcal{T}} D_t
\]</div>
</section>
<section id="objective-function-for-pddd">
<h5>Objective Function for PDDD<a class="headerlink" href="#objective-function-for-pddd" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
\min Z = \sum_{g\in\mathcal{G}} \sum_{t\in\mathcal{T}} (c_g p_{g,t}) + 0.3 \sum_{h\in\mathcal{H}} \sum_{t\in\mathcal{T}} S_{h,t} + C_{\text{def}} \sum_{t\in\mathcal{T}} D_t + \sum_{t\in\mathcal{T}} \alpha_{k_t}
\]</div>
</section>
</section>
<hr class="docutils" />
<section id="power-balance-load-requirement">
<h4>Power Balance (Load Requirement)<a class="headerlink" href="#power-balance-load-requirement" title="Link to this heading">ÔÉÅ</a></h4>
<p>The load balance constraint requires that the total generation from all available sources, plus battery discharge and any incurred deficit, exactly meets the system demand:</p>
<div class="math">
\[
\sum_{h \in \mathcal{H}} G_{h,t} + \sum_{g \in \mathcal{G}} p_{g,t} + \sum_{r \in \mathcal{R}} g_{\text{ren}_{r,t}} + \sum_{s \in \mathcal{S}} ( P_{\text{dis}_{s,t}} - P_{\text{ch}_{s,t}} ) + D_t = d_t, \quad \forall t \in \mathcal{T}
\]</div>
</section>
</section>
<section id="mathematical-modeling-of-mdi">
<h3>Mathematical Modeling of MDI<a class="headerlink" href="#mathematical-modeling-of-mdi" title="Link to this heading">ÔÉÅ</a></h3>
<p>The objective of this model is to determine the <strong>optimal expansion plan</strong> of the electric generation system, minimizing the total investment and operation cost, considering the availability of multiple technologies (hydroelectric, thermal, solar, wind, and battery storage), the demand satisfaction in two load levels (peak and off-peak), and the distinction between existing and candidate units.</p>
<p>This constitutes a <strong>Mixed-Integer Linear Programming (MILP)</strong> problem, solved by decomposition methods or <strong>Branch and Bound</strong>, as discussed in the theoretical overview.</p>
<hr class="docutils" />
<section id="sets">
<h4>Sets<a class="headerlink" href="#sets" title="Link to this heading">ÔÉÅ</a></h4>
<ul class="simple">
<li><p><span class="math">\(\mathcal{G}\)</span> ‚Äì total set of generating units (hydroelectric, thermal, solar, and wind)</p></li>
<li><p><span class="math">\(\mathcal{G}_E \subset \mathcal{G}\)</span> ‚Äì subset of existing plants</p></li>
<li><p><span class="math">\(\mathcal{G}_C \subset \mathcal{G}\)</span> ‚Äì subset of candidate plants</p></li>
<li><p><span class="math">\(\mathcal{B}\)</span> ‚Äì total set of storage units (batteries)</p></li>
<li><p><span class="math">\(\mathcal{B}_E \subset \mathcal{B}\)</span> ‚Äì subset of existing batteries</p></li>
<li><p><span class="math">\(\mathcal{B}_C \subset \mathcal{B}\)</span> ‚Äì subset of candidate batteries</p></li>
<li><p><span class="math">\(\mathcal{T}\)</span> ‚Äì planning periods (<span class="math">\(t = 1,\dots,10\)</span>)</p></li>
<li><p><span class="math">\(\mathcal{P}\)</span> ‚Äì load levels (peak and off-peak)</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id29">
<h4>Parameters<a class="headerlink" href="#id29" title="Link to this heading">ÔÉÅ</a></h4>
<ul class="simple">
<li><p><span class="math">\(C_{\text{inv}_g}\)</span> ‚Äì investment cost of generator <span class="math">\(g\)</span> [R$ /MW]</p></li>
<li><p><span class="math">\(C_{\text{op}_g}\)</span> ‚Äì operating cost of generator <span class="math">\(g\)</span> [R$ /MWh]</p></li>
<li><p><span class="math">\(P_{\text{max}_g}\)</span> ‚Äì maximum capacity of generator <span class="math">\(g\)</span> [MW]</p></li>
<li><p><span class="math">\(C_{\text{inv}_b}\)</span> ‚Äì investment cost of battery <span class="math">\(b\)</span> [R$ /MW]</p></li>
<li><p><span class="math">\(C_{\text{op}_b}\)</span> ‚Äì operating cost of battery <span class="math">\(b\)</span> [R$ /MWh]</p></li>
<li><p><span class="math">\(E_{\text{max}_b}\)</span>, <span class="math">\(E_{\text{min}_b}\)</span> ‚Äì state-of-charge limits for battery <span class="math">\(b\)</span> [MWh]</p></li>
<li><p><span class="math">\(P_{\text{bat}_{\text{max}_b}}\)</span> ‚Äì maximum charge/discharge power of battery <span class="math">\(b\)</span> [MW]</p></li>
<li><p><span class="math">\(E_{0_b}\)</span> ‚Äì initial state of charge of battery <span class="math">\(b\)</span> [MWh]</p></li>
<li><p><span class="math">\(\eta_{c_b}\)</span>, <span class="math">\(\eta_{d_b}\)</span> ‚Äì charge/discharge efficiencies (0.95)</p></li>
<li><p><span class="math">\(D_{p,t}\)</span> ‚Äì demand in load level <span class="math">\(p\)</span> and period <span class="math">\(t\)</span> [MW]</p></li>
<li><p><span class="math">\(h_p\)</span> ‚Äì duration of load level <span class="math">\(p\)</span> [h/year]</p></li>
<li><p><span class="math">\(x_{g,0}\)</span> ‚Äì 1 if generator <span class="math">\(g\)</span> exists at the beginning of the horizon, 0 otherwise</p></li>
<li><p><span class="math">\(x_{b,0}\)</span> ‚Äì 1 if battery <span class="math">\(b\)</span> exists at the beginning of the horizon, 0 otherwise</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id30">
<h4>Decision Variables<a class="headerlink" href="#id30" title="Link to this heading">ÔÉÅ</a></h4>
<ul class="simple">
<li><p><span class="math">\(y_{g,t} \in \{0,1\}\)</span> ‚Äì construction (1) or not (0) of candidate generator <span class="math">\(g\)</span> in period <span class="math">\(t\)</span></p></li>
<li><p><span class="math">\(y_{b,t} \in \{0,1\}\)</span> ‚Äì construction (1) or not (0) of candidate battery <span class="math">\(b\)</span> in period <span class="math">\(t\)</span></p></li>
<li><p><span class="math">\(x_{g,t} \in \{0,1\}\)</span> ‚Äì existence of generator <span class="math">\(g\)</span> in period <span class="math">\(t\)</span> (1 if built up to <span class="math">\(t\)</span>)</p></li>
<li><p><span class="math">\(x_{b,t} \in \{0,1\}\)</span> ‚Äì existence of battery <span class="math">\(b\)</span> in period <span class="math">\(t\)</span> (1 if built up to <span class="math">\(t\)</span>)</p></li>
<li><p><span class="math">\(P_{g,p,t} \ge 0\)</span> ‚Äì generation of unit <span class="math">\(g\)</span> in load level <span class="math">\(p\)</span> and period <span class="math">\(t\)</span> [MW]</p></li>
<li><p><span class="math">\(P^{c}_{b,p,t} \ge 0\)</span> ‚Äì charging power of battery <span class="math">\(b\)</span> [MW]</p></li>
<li><p><span class="math">\(P^{d}_{b,p,t} \ge 0\)</span> ‚Äì discharging power of battery <span class="math">\(b\)</span> [MW]</p></li>
<li><p><span class="math">\(E_{b,p,t}\)</span> ‚Äì state of charge (SoC) of battery <span class="math">\(b\)</span> [MWh]</p></li>
</ul>
<hr class="docutils" />
</section>
<hr class="docutils" />
<section id="id31">
<h4>Constraints<a class="headerlink" href="#id31" title="Link to this heading">ÔÉÅ</a></h4>
<section id="demand-requirement">
<h5>Demand Requirement<a class="headerlink" href="#demand-requirement" title="Link to this heading">ÔÉÅ</a></h5>
<div class="math">
\[
\sum_{g \in \mathcal{G}} P_{g,t,p} + \sum_{b \in \mathcal{B}} ( P^{d}_{b,t,p} - P^{c}_{b,t,p} ) = D_{t,p}, \quad \forall t \in \mathcal{T}, \, p \in \mathcal{P}
\]</div>
<p>This ensures power balance at each period and load level: total net generation (generation plus storage balance) equals system demand.</p>
</section>
</section>
<hr class="docutils" />
<section id="capacity-adequacy">
<h4>Capacity Adequacy<a class="headerlink" href="#capacity-adequacy" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
\sum_{g \in \mathcal{G}} G^{\max}_g x_{g,t} + \sum_{s \in \mathcal{S}} P^{\text{dis,max}}_{s,p} x_{s,t} \ge D_{t,p}, \quad \forall t,p
\]</div>
<p>Guarantees that total available capacity (generation + discharge) is sufficient to meet demand in all time steps.</p>
</section>
<hr class="docutils" />
<section id="generation-limits">
<h4>Generation Limits<a class="headerlink" href="#generation-limits" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
0 \le P_{g,t,p} \le P^{\max}_g x_{g,t}, \quad \forall g,t,p
\]</div>
<p>Ensures that generation of each unit does not exceed its maximum capacity and is zero when inactive.</p>
</section>
<hr class="docutils" />
<section id="storage-dynamics">
<h4>Storage Dynamics<a class="headerlink" href="#storage-dynamics" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
E_{s,t,p} = \begin{cases} 
E_{\text{ini},s} x_{s,t}, & t = 1, p = p_1, \\
E_{s,t-1,p_{|\mathcal{P}|}} + E_{\text{ini},s} y_{s,t} + \eta_c P^{ch}_{s,t,p} \Delta t_p - \dfrac{P^{dis}_{s,t,p}}{\eta_d} \Delta t_p, & t > 1, p  p_1, \\
E_{s,t,p-1} + \eta_c P^{ch}_{s,t,p} \Delta t_p - \dfrac{P^{dis}_{s,t,p}}{\eta_d} \Delta t_p, & p \neq p_1
\end{cases}
\]</div>
<p>Ensures energy continuity across load levels and periods, applying charge/discharge efficiencies and introducing initial energy only when the unit is built.</p>
</section>
<hr class="docutils" />
<section id="state-of-charge-limits">
<h4>State of Charge Limits<a class="headerlink" href="#state-of-charge-limits" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
E^{\min}_b x_{b,t} \le E_{b,t,p} \le E^{\max}_b x_{b,t}, \quad \forall b,t,p
\]</div>
<p>Keeps the state of charge within the operational range, proportional to the unit‚Äôs availability.</p>
</section>
<hr class="docutils" />
<section id="charge-discharge-power-limits">
<h4>Charge/Discharge Power Limits<a class="headerlink" href="#charge-discharge-power-limits" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
0 \le P^{c}_{b,t,p}, P^{d}_{b,t,p} \le P^{\max}_{\text{bat}_b} x_{b,t}, \quad \forall b,t,p
\]</div>
<p>Restricts charging and discharging powers according to the installed battery capacity and availability.</p>
</section>
<hr class="docutils" />
<section id="initial-state">
<h4>Initial State<a class="headerlink" href="#initial-state" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
E_{b,1,p} = E_{0_b}, \quad \forall b,p
\]</div>
<p>Defines the initial energy level for each battery, ensuring consistency in the dynamic storage model.</p>
</section>
<hr class="docutils" />
<section id="expansion-dynamics-existence-accumulation">
<h4>Expansion Dynamics (Existence Accumulation)<a class="headerlink" href="#expansion-dynamics-existence-accumulation" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
    x_{g,t} = x_{g,t-1} + y_{g,t}, \quad\\
x_{b,t} = x_{b,t-1} + y_{b,t}, \quad \\
\forall g,b,t>1\\
x_{g,0}, x_{b,0} \text{ given (initial existence)}
\]</div>
<p>Guarantees temporal coherence of the expansion plan: units exist only if previously constructed.</p>
</section>
<hr class="docutils" />
<section id="unique-construction">
<h4>Unique Construction<a class="headerlink" href="#unique-construction" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
\sum_{t \in \mathcal{T}} y_{g,t} \le 1, \quad
\sum_{t \in \mathcal{T}} y_{b,t} \le 1, \quad \forall g \in \mathcal{G}_C, b \in \mathcal{B}_C
\]</div>
<p>Prevents multiple constructions of the same unit within the planning horizon.</p>
</section>
<hr class="docutils" />
<section id="monotonic-growth">
<h4>Monotonic Growth<a class="headerlink" href="#monotonic-growth" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
x_{g,t} \ge x_{g,t-1}, \quad
x_{b,t} \ge x_{b,t-1}, \quad \forall g,b,t
\]</div>
<p>Ensures that the set of existing units grows monotonically, avoiding deactivation after construction and maintaining temporal consistency in expansion.</p>
</section>
<section id="id32">
<h4>Objective Function<a class="headerlink" href="#id32" title="Link to this heading">ÔÉÅ</a></h4>
<div class="math">
\[
\min Z = \sum_{t \in \mathcal{T}} \Bigg[\sum_{g \in \mathcal{G}} C^{\text{inv}}_g x_{g,t}+ \sum_{b \in \mathcal{B}} C^{\text{inv}}_b x_{b,t} + \sum_{p \in \mathcal{P}} h_p \Big( \sum_{g \in \mathcal{G}} C^{\text{op}}_g P_{g,t,p} + \sum_{b \in \mathcal{B}} C^{\text{op}}_b (P^{d}_{b,t,p} +  P^{c}_{b,t,p}) \Big) \Bigg]
\]</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math">\(Z\)</span> ‚Äî total objective function value (minimum system cost)</p></li>
<li><p><span class="math">\(C^{\text{inv}}_{g}, C^{\text{inv}}_{b}\)</span> ‚Äî investment costs for generation and storage units [$]</p></li>
<li><p><span class="math">\(C^{\text{op}}_{g}, C^{\text{op}}_{b}\)</span> ‚Äî operating costs for generation and storage units [$/MWh]</p></li>
<li><p><span class="math">\(x_{g,t}, x_{b,t}\)</span> ‚Äî binary variables for existence of generation/storage units</p></li>
<li><p><span class="math">\(P_{g,t,p}\)</span> ‚Äî generated power [MW]</p></li>
<li><p><span class="math">\(P^{d}_{b,t,p}, P^{c}_{b,t,p}\)</span> ‚Äî discharging and charging powers [MW]</p></li>
<li><p><span class="math">\(h_p\)</span> ‚Äî duration of load level <span class="math">\(p\)</span> [h]</p></li>
</ul>
<p>This objective minimizes total system cost across the planning horizon, combining investment and operating costs weighted by the duration of each load level. The formulation captures the trade-off between capacity expansion and operation, ensuring an economically optimal solution under technical and energy constraints.</p>
</section>
</section>
</section>
<section id="model-architecture">
<h2><strong>4 Model Architecture</strong><a class="headerlink" href="#model-architecture" title="Link to this heading">ÔÉÅ</a></h2>
<section id="overview">
<h3><strong>Overview</strong><a class="headerlink" href="#overview" title="Link to this heading">ÔÉÅ</a></h3>
<p>The <strong>NaivePyDESSEM</strong> package follows a layered architecture that mirrors the hierarchical structure of the Brazilian energy models (<em>MDI</em>, <em>DECOMP</em>, and <em>DESSEM</em>).<br />
Its design ensures separation between <strong>data ingestion</strong>, <strong>mathematical formulation</strong>, <strong>solver execution</strong>, and <strong>post-processing</strong>, allowing flexible experimentation, teaching, and research on hydrothermal coordination.</p>
<p>The architecture is implemented in <strong>Python 3.9+</strong>, following object-oriented principles and extensive documentation through docstrings compliant with the <em>NumPy</em> style guide.</p>
<p>The <strong>NaivePyDESSEM</strong> package follows a layered architecture that mirrors the hierarchical structure of the Brazilian energy models (<em>MDI</em>, <em>DECOMP</em>, and <em>DESSEM</em>).<br />
Its design ensures separation between <strong>data ingestion</strong>, <strong>mathematical formulation</strong>, <strong>solver execution</strong>, and <strong>post-processing</strong>, allowing flexible experimentation, teaching, and research on hydrothermal coordination.</p>
<p>The architecture is implemented in <strong>Python 3.11+</strong>, following object-oriented principles and extensive documentation through docstrings compliant with the <em>NumPy</em> style guide.</p>
</section>
<section id="package-hierarchy">
<h3><strong>Package Hierarchy</strong><a class="headerlink" href="#package-hierarchy" title="Link to this heading">ÔÉÅ</a></h3>
<p>The repository is organized into three primary modules ‚Äî <strong>NaivePyDESSEM</strong>, <strong>NaivePyDECOMP</strong>, and <strong>MDI</strong> ‚Äî each corresponding to a specific temporal stage of the Brazilian hydrothermal planning chain.</p>
<p>The modular design ensures independent testing, scalability, and interoperability through a unified modeling interface based on <strong>Pyomo</strong> and <strong>YAML-driven configuration</strong>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ MDI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plot_cli.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Generator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeneratorBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeneratorConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeneratorDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeneratorEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeneratorObjectives.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GeneratorVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Storage
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageObjective.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Builder.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DataFrames.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Formatters.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelCheck.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelFormatters.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlotSeries.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Reporting.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Solver.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Utils.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ YAMLLoader.py
‚îÇ   ‚îú‚îÄ‚îÄ NaivePyDECOMP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pddd_cli.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plot_cli.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicGenerator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicGeneratorBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicObjectives.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicVars.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SimplifiedConstantProductivityFPH.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableGenerator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableGeneratorBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableObjectives.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RenewableVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Storage
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageObjective.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalGenerator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalGeneratorBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalObjectives.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThermalVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Builder.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BuilderPDDD.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DataFrames.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Formatters.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelCheck.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelFormatters.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PDDDMergeModels.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlotSeries.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Reporting.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Solver.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SolverPDDD.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Utils.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ YAMLLoader.py
‚îÇ   ‚îú‚îÄ‚îÄ NaivePyDESSEM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plot_cli.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicGenerator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConstantProductivityFPH.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExactFPH.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicGeneratorBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicObjectives.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HydraulicVars.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PEFPH.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SimplifiedConstantProductivityFPH.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableGenerator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableGeneratorBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RenewableObjectives.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RenewableVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Storage
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StorageObjective.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StorageVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalGenerator
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalConstraints.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalDataTypes.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalEquations.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalGeneratorBuilder.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalObjectives.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThermalPieceWise.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThermalVars.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Builder.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DataFrames.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Formatters.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelCheck.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ModelFormatters.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlotSeries.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Reporting.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Solver.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Utils.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ YAMLLoader.py
‚îÇ   ‚îî‚îÄ‚îÄ naivepydessem.egg-info
‚îÇ       ‚îú‚îÄ‚îÄ dependency_links.txt
‚îÇ       ‚îú‚îÄ‚îÄ entry_points.txt
‚îÇ       ‚îú‚îÄ‚îÄ PKG-INFO
‚îÇ       ‚îú‚îÄ‚îÄ requires.txt
‚îÇ       ‚îú‚îÄ‚îÄ SOURCES.txt
‚îÇ       ‚îî‚îÄ‚îÄ top_level.txt
‚îú‚îÄ‚îÄ tests
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ MANIFEST.in
‚îú‚îÄ‚îÄ pyproject.toml
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ setup.cfg
</pre></div>
</div>
<p>Each main module contains domain-specific subpackages:</p>
<ul class="simple">
<li><p><strong>cli/</strong> ‚Äî Command-line interfaces for model execution, plotting, and data export.</p></li>
<li><p><strong>Generator/, HydraulicGenerator/, ThermalGenerator/, RenewableGenerator/, Storage/</strong> ‚Äî Contain builder, constraint, variable, and objective definitions for each asset type.</p></li>
<li><p><strong>Builder.py</strong> ‚Äî Central class responsible for assembling the Pyomo model using data and configuration inputs.</p></li>
<li><p><strong>Solver.py</strong> ‚Äî Wrapper for solver execution (CPLEX, Gurobi, SCIP) and result handling.</p></li>
<li><p><strong>DataFrames.py, Reporting.py, PlotSeries.py</strong> ‚Äî Modules for data manipulation, result visualization, and reporting in cli formats.</p></li>
<li><p><strong>YAMLLoader.py</strong> ‚Äî Responsible for reading model configurations, parameters, and instance data from YAML files.</p></li>
<li><p><strong>ModelCheck.py and ModelFormatters.py</strong> ‚Äî Implement internal consistency checks and formatting utilities for validation and debugging.</p></li>
</ul>
</section>
<section id="design-overview">
<h3>Design Overview<a class="headerlink" href="#design-overview" title="Link to this heading">ÔÉÅ</a></h3>
<p>The architecture follows a layered modular pattern:</p>
<ul class="simple">
<li><p><strong>Data Layer</strong> ‚Äî YAML configuration parsing, type definitions, and validation.</p></li>
<li><p><strong>Model Layer</strong> ‚Äî Definition of decision variables, constraints, and objectives for each subsystem.</p></li>
<li><p><strong>Solver Layer</strong> ‚Äî Interfaces with external solvers and manages solution logging.</p></li>
<li><p><strong>Visualization Layer</strong> ‚Äî Generation of time series plots and .</p></li>
</ul>
<p>This hierarchy promotes clarity, reusability, and transparency in both model development and numerical experimentation.</p>
</section>
<section id="command-line-interface-cli">
<h3>üß≠ Command-Line Interface (CLI)<a class="headerlink" href="#command-line-interface-cli" title="Link to this heading">ÔÉÅ</a></h3>
<p>Each module provides a lightweight command-line interface (CLI) that allows direct model execution and visualization without requiring manual scripting.</p>
<p>Each command-line tool encapsulates a complete modeling workflow, including:</p>
<ul class="simple">
<li><p>YAML-based configuration parsing;</p></li>
<li><p>Model construction and validation;</p></li>
<li><p>Solver execution and result export;</p></li>
<li><p>Optional visualization and reporting.</p></li>
</ul>
<p>The CLI is implemented with the <strong>Click</strong> framework, ensuring cross-platform compatibility, structured argument parsing, and reproducibility through declarative configuration files.</p>
<hr class="docutils" />
<section id="solving-a-model">
<h4><strong>1. Solving a Model</strong><a class="headerlink" href="#solving-a-model" title="Link to this heading">ÔÉÅ</a></h4>
<p>Each model variant can be solved directly via its respective command-line entry point.<br />
Input data and settings are defined in a YAML file describing system topology, parameters, and solver options.</p>
<p><strong>DESSEM-like dispatch (short-term)</strong><br />
Solves the hourly hydrothermal scheduling problem.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydessem-solve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<p><strong>DESSEM-like dispatch (short-term)</strong></p>
<p>Single-LP (Linear Program):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-solve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<p>Using PDDD (Deterministic Dual Dynamic Programming):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-pddsolve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<p><strong>MDI-like generation expansion planning (long-term)</strong>
Determines the optimal multi-year investment and operation plan.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mdi-solve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
</section>
<section id="plotting-results">
<h4>2. Plotting Results<a class="headerlink" href="#plotting-results" title="Link to this heading">ÔÉÅ</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydessem-plot<span class="w"> </span>results/dispatch.csv<span class="w"> </span>--mode<span class="w"> </span>plot<span class="w"> </span>--category<span class="w"> </span>G<span class="w"> </span>V<span class="w"> </span>--plot-style<span class="w"> </span>line
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-plot<span class="w"> </span>results/dispatch.csv<span class="w"> </span>--mode<span class="w"> </span>plot<span class="w"> </span>--category<span class="w"> </span>G<span class="w"> </span>V<span class="w"> </span>--plot-style<span class="w"> </span>line
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mdi-plot<span class="w"> </span>results/dispatch.csv<span class="w"> </span>--mode<span class="w"> </span>plot<span class="w"> </span>--category<span class="w"> </span>G<span class="w"> </span>--plot-style<span class="w"> </span>line
</pre></div>
</div>
</section>
</section>
</section>
<section id="cli-arguments">
<h2>5. CLI Arguments<a class="headerlink" href="#cli-arguments" title="Link to this heading">ÔÉÅ</a></h2>
<section id="solver-cli">
<h3>1. Solver CLI<a class="headerlink" href="#solver-cli" title="Link to this heading">ÔÉÅ</a></h3>
<p>All solver commands share three common command-line arguments:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">{yaml_file}</span></code></strong> ‚Äî the first positional argument, corresponding to the YAML input file defining the case configuration.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--out_dir</span></code></strong> ‚Äî the output directory where the resulting case solutions (CSV, Excel, or Parquet) will be saved.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--out_file</span></code></strong> ‚Äî the name of the results file to be generated.</p></li>
</ul>
<p>All three arguments are <strong>mandatory</strong>.</p>
</section>
<hr class="docutils" />
<section id="plot-cli">
<h3>2. Plot CLI<a class="headerlink" href="#plot-cli" title="Link to this heading">ÔÉÅ</a></h3>
<p>The basic plot CLI commands share the following options:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">input_file</span></code></strong><br />
Path to the input data file.<br />
Supported formats: <code class="docutils literal notranslate"><span class="pre">.csv</span></code>, <code class="docutils literal notranslate"><span class="pre">.xlsx</span></code>, <code class="docutils literal notranslate"><span class="pre">.parquet</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--mode</span></code></strong><br />
Defines the export or visualization mode.<br />
Options:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">table</span></code> ‚Üí Generates a LaTeX-formatted table.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot</span></code> ‚Üí Creates a graphical plot (line or bar).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ctrl</span></code> ‚Üí Exports a control matrix (U/Y/W).</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--category</span></code>, <code class="docutils literal notranslate"><span class="pre">-c</span></code></strong><br />
Specifies one or more variable categories to visualize or export.<br />
Example: <code class="docutils literal notranslate"><span class="pre">--category</span> <span class="pre">G</span> <span class="pre">ctrl</span> <span class="pre">BAT</span> <span class="pre">cost</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--plot-style</span></code></strong><br />
Defines the plot style when <code class="docutils literal notranslate"><span class="pre">--mode</span> <span class="pre">plot</span></code> is selected.<br />
Options:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">line</span></code> ‚Üí Line plot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bar</span></code> ‚Üí Bar plot.</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--stacked</span></code></strong><br />
Enables stacked bars (applies only to bar plots).<br />
Useful for cumulative or component-based visualizations.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--level</span></code></strong><br />
Specifies the generation level for categories such as <code class="docutils literal notranslate"><span class="pre">G</span></code> or <code class="docutils literal notranslate"><span class="pre">GT</span></code>.<br />
Example: <code class="docutils literal notranslate"><span class="pre">--level</span> <span class="pre">Ponta</span></code> or <code class="docutils literal notranslate"><span class="pre">--level</span> <span class="pre">Fora</span></code>.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--title</span></code></strong><br />
Custom title for the plot or caption for LaTeX table output.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--ylabel</span></code></strong><br />
Y-axis label for plots (e.g., ‚ÄúEnergy [MWh]‚Äù).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--out-dir</span></code></strong><br />
Output directory for the generated file.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--out-file</span></code></strong><br />
Name of the output file (plot image or <code class="docutils literal notranslate"><span class="pre">.tex</span></code> table).</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--label</span></code></strong><br />
LaTeX label identifier for referencing generated tables or figures.</p></li>
</ul>
</section>
</section>
<section id="yaml-configuration">
<h2>6. YAML Configuration<a class="headerlink" href="#yaml-configuration" title="Link to this heading">ÔÉÅ</a></h2>
<p>All models in the NaivePyDESSEM suite are configured via YAML files, which define system data, solver settings, and simulation parameters in a human-readable format.</p>
<section id="step-by-step-building-a-dessem-configuration-file">
<h3>üß© Step-by-Step: Building a DESSEM Configuration File<a class="headerlink" href="#step-by-step-building-a-dessem-configuration-file" title="Link to this heading">ÔÉÅ</a></h3>
<p>This section provides a structured walkthrough for creating a <strong>NaivePyDESSEM</strong> configuration file (<code class="docutils literal notranslate"><span class="pre">.yaml</span></code>), guiding the user through each key section ‚Äî from meta information to hydropower, thermal, renewable, and storage data.<br />
All keywords, indentation levels, and formats must follow the conventions shown below.</p>
<hr class="docutils" />
<section id="header-and-metadata-meta">
<h4>ü™∂ 1. Header and Metadata (<code class="docutils literal notranslate"><span class="pre">meta</span></code>)<a class="headerlink" href="#header-and-metadata-meta" title="Link to this heading">ÔÉÅ</a></h4>
<p>Start by defining general model information and global parameters under the <code class="docutils literal notranslate"><span class="pre">meta:</span></code> key.<br />
This section includes the case name, time horizon, solver options, and system demand.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">meta</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CaseName-Study1&quot;</span><span class="w">      </span><span class="c1"># Descriptive case identifier</span>
<span class="w">  </span><span class="nt">horizon</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span><span class="w">                  </span><span class="c1"># Number of hourly periods (e.g., 24 for one day)</span>
<span class="w">  </span><span class="nt">delta_t</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w">                 </span><span class="c1"># Duration of each time step [h]</span>
<span class="w">  </span><span class="nt">Cdef</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000.0</span><span class="w">                 </span><span class="c1"># Deficit penalty cost [$ / MWh]</span>
<span class="w">  </span><span class="nt">Solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mindtpy</span><span class="w">              </span><span class="c1"># Main solver (MILP/MINLP)</span>
<span class="w">  </span><span class="nt">Solver_Options</span><span class="p">:</span><span class="w">              </span><span class="c1"># Optional fine-tuning of solver parameters</span>
<span class="w">    </span><span class="nt">mip_solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cbc</span>
<span class="w">    </span><span class="nt">nlp_solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cyipopt</span>
<span class="w">    </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OA</span>
<span class="w">    </span><span class="nt">time_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">  </span><span class="nt">demand</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">700</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">750</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">850</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">950</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1000</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1150</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1200</span><span class="p p-Indicator">,</span>
<span class="w">           </span><span class="nv">1250</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1400</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1500</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1400</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1400</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1300</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1400</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1600</span><span class="p p-Indicator">,</span>
<span class="w">           </span><span class="nv">1700</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1900</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2000</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1800</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1300</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">900</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">800</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># MW per hour</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">horizon</span></code> defines the number of time intervals (typically 24 for daily cases).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cdef</span></code> imposes a high penalty to discourage energy deficits.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Solver_Options</span></code> can be adjusted according to the installed solvers (e.g., <code class="docutils literal notranslate"><span class="pre">cbc</span></code>, <code class="docutils literal notranslate"><span class="pre">gurobi</span></code>, or <code class="docutils literal notranslate"><span class="pre">cplex</span></code>).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="hydropower-data-hydro">
<h4>üåä 2. Hydropower Data (<code class="docutils literal notranslate"><span class="pre">hydro</span></code>)<a class="headerlink" href="#hydropower-data-hydro" title="Link to this heading">ÔÉÅ</a></h4>
<p>Define hydraulic parameters, reservoir characteristics, and inflows for each hydro unit.<br />
The <strong><code class="docutils literal notranslate"><span class="pre">hydro</span></code></strong> block starts with two constants ‚Äî <code class="docutils literal notranslate"><span class="pre">zeta</span></code> (hydraulic constant) and <code class="docutils literal notranslate"><span class="pre">zeta_vol</span></code> (volume‚Äìflow conversion factor) ‚Äî followed by a <code class="docutils literal notranslate"><span class="pre">units:</span></code> dictionary.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hydro</span><span class="p">:</span>
<span class="w">  </span><span class="nt">zeta</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.00981</span><span class="w">                </span><span class="c1"># MW per (m3/s * m)</span>
<span class="w">  </span><span class="nt">zeta_vol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0036</span><span class="w">             </span><span class="c1"># hm3 per (m3/s * h)</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">UHE_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Qmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w">                </span><span class="c1"># Minimum turbined flow [m3/s]</span>
<span class="w">      </span><span class="nt">Qmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600.0</span><span class="w">              </span><span class="c1"># Maximum turbined flow [m3/s]</span>
<span class="w">      </span><span class="nt">Vmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000.0</span><span class="w">             </span><span class="c1"># Minimum volume [hm3]</span>
<span class="w">      </span><span class="nt">Vmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3000.0</span><span class="w">             </span><span class="c1"># Maximum volume [hm3]</span>
<span class="w">      </span><span class="nt">Vmeta</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000.0</span><span class="w">            </span><span class="c1"># Target final volume [hm3]</span>
<span class="w">      </span><span class="nt">Vini</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2500.0</span><span class="w">             </span><span class="c1"># Initial reservoir volume [hm3]</span>
<span class="w">      </span><span class="nt">afluencia</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">200</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">210</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">220</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">170</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># Natural inflows [m3/s]</span>
<span class="w">      </span><span class="nt">upstreams</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w">            </span><span class="c1"># Upstream reservoirs (if any)</span>
<span class="w">      </span><span class="nt">a</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">4.012e+2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">5.010e-2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">-1.573e-5</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">3.297e-9</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">-2.883e-13</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># h_up(V)</span>
<span class="w">      </span><span class="nt">b</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">3.719e+2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1.932e-3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">-8.530e-8</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2.376e-12</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">-2.616e-17</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># h_down(Q+S)</span>
<span class="w">      </span><span class="nt">rho</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">6.895e-2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">3.007e-3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">5.559e-3</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">5.840e-6</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">-4.637e-6</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">-3.636e-5</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># Productivity curve</span>
<span class="w">      </span><span class="nt">losses</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1.375e-5</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># h_loss(Q)</span>
<span class="w">      </span><span class="nt">pe</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.92</span><span class="w">                 </span><span class="c1"># Specific productivity [MW/(m3/s)]</span>
<span class="w">      </span><span class="nt">p</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.92</span><span class="w">                  </span><span class="c1"># Global productivity (simplified)</span>
<span class="w">      </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;exact&quot;</span><span class="w">            </span><span class="c1"># {&quot;constant&quot;,&quot;specific&quot;,&quot;exact&quot;,&quot;simplified&quot;}</span>
<span class="w">      </span><span class="nt">compute_total_inflow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span></code> selects the type of hydraulic head computation.</p></li>
<li><p>When using <code class="docutils literal notranslate"><span class="pre">&quot;exact&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;specific&quot;</span></code>, coefficients <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">rho</span></code>, and <code class="docutils literal notranslate"><span class="pre">losses</span></code> must be provided.</p></li>
<li><p>If the plant has upstream reservoirs, list them under <code class="docutils literal notranslate"><span class="pre">upstreams</span></code>.</p></li>
</ul>
<p>Add subsequent hydropower units (<code class="docutils literal notranslate"><span class="pre">UHE_2</span></code>, <code class="docutils literal notranslate"><span class="pre">UHE_3</span></code>, etc.) following the same structure.</p>
</section>
<hr class="docutils" />
<section id="thermal-data-thermal">
<h4>üî• 3. Thermal Data (<code class="docutils literal notranslate"><span class="pre">thermal</span></code>)<a class="headerlink" href="#thermal-data-thermal" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">thermal</span></code></strong> section defines each thermal generation unit, including operational limits and cost coefficients.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">thermal</span><span class="p">:</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">UT_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Pmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span><span class="w">               </span><span class="c1"># Minimum generation [MW]</span>
<span class="w">      </span><span class="nt">Pmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">455</span><span class="w">               </span><span class="c1"># Maximum generation [MW]</span>
<span class="w">      </span><span class="nt">RU</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">                  </span><span class="c1"># Ramp-up limit [MW/h]</span>
<span class="w">      </span><span class="nt">RD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span><span class="w">                  </span><span class="c1"># Ramp-down limit [MW/h]</span>
<span class="w">      </span><span class="nt">a</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1000</span><span class="w">                 </span><span class="c1"># Fixed cost [$ / h]</span>
<span class="w">      </span><span class="nt">b</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16.19</span><span class="w">                </span><span class="c1"># Linear cost [$ / MWh]</span>
<span class="w">      </span><span class="nt">c</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.00048</span><span class="w">              </span><span class="c1"># Quadratic cost [$ / (MWh)^2]</span>
<span class="w">      </span><span class="nt">SC</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4500</span><span class="w">                </span><span class="c1"># Start-up cost [$]</span>
<span class="w">      </span><span class="nt">t_up</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w">                 </span><span class="c1"># Minimum up-time [h]</span>
<span class="w">      </span><span class="nt">t_down</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w">               </span><span class="c1"># Minimum down-time [h]</span>
<span class="w">      </span><span class="nt">init_status_h</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span><span class="w">        </span><span class="c1"># Initial on-state duration [h]</span>
<span class="w">      </span><span class="nt">u0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">                   </span><span class="c1"># Initial unit status (1 = on)</span>
<span class="w">      </span><span class="nt">p0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w">                 </span><span class="c1"># Initial generation [MW]</span>
<span class="w">      </span><span class="nt">gamma</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w">              </span><span class="c1"># Reserved for future use</span>
<span class="w">      </span><span class="nt">pw_breaks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">         </span><span class="c1"># (optional) for piecewise cost</span>
<span class="w">      </span><span class="nt">pw_costs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w">          </span><span class="c1"># (optional) for piecewise cost</span>
<span class="w">  </span><span class="nt">has_history</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w">           </span><span class="c1"># Indicates that initial conditions are defined</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>Each <strong>UT_x</strong> corresponds to a thermal unit (e.g., gas or coal plant).</p></li>
<li><p>Cost coefficients follow a quadratic cost function:<br />
$<span class="math">\( C(p) = a + b\,p + c\,p^2 \)</span>$</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">has_history:</span> <span class="pre">true</span></code> to indicate the model should consider previous operational states.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="renewable-data-renewable">
<h4>üå¨Ô∏è 4. Renewable Data (<code class="docutils literal notranslate"><span class="pre">renewable</span></code>)<a class="headerlink" href="#renewable-data-renewable" title="Link to this heading">ÔÉÅ</a></h4>
<p>This section defines renewable generation units such as <strong>wind (EOL)</strong> and <strong>solar (SOL)</strong>, with their availability profiles.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">renewable</span><span class="p">:</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">EOL_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gbar</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">110</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">112</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">110</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">105</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">85</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">80</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">60</span><span class="p p-Indicator">,</span>
<span class="w">             </span><span class="nv">55</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">50</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">45</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">45</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">50</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">55</span><span class="p p-Indicator">,</span>
<span class="w">             </span><span class="nv">60</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">80</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">85</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">105</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">110</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">112</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">110</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">SOL_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gbar</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">65</span><span class="p p-Indicator">,</span>
<span class="w">             </span><span class="nv">90</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">120</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">140</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">160</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">170</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">170</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">160</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">130</span><span class="p p-Indicator">,</span>
<span class="w">             </span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">60</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">20</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gbar</span></code> represents the <strong>maximum available renewable power</strong> per hour (in MW).</p></li>
<li><p>Values are typically derived from normalized wind or solar resource profiles.</p></li>
<li><p>The model will optimize dispatch up to these limits.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="storage-data-storage">
<h4>‚ö° 5. Storage Data (<code class="docutils literal notranslate"><span class="pre">storage</span></code>)<a class="headerlink" href="#storage-data-storage" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">storage</span></code></strong> block specifies battery storage characteristics, including energy and power constraints.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">storage</span><span class="p">:</span>
<span class="w">  </span><span class="nt">delta_t</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">BAT_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Emin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300.0</span><span class="w">             </span><span class="c1"># Minimum state of charge [MWh]</span>
<span class="w">      </span><span class="nt">Emax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1500.0</span><span class="w">            </span><span class="c1"># Maximum state of charge [MWh]</span>
<span class="w">      </span><span class="nt">Eini</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">400.0</span><span class="w">             </span><span class="c1"># Initial stored energy [MWh]</span>
<span class="w">      </span><span class="nt">Pch_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150.0</span><span class="w">          </span><span class="c1"># Maximum charging power [MW]</span>
<span class="w">      </span><span class="nt">Pdis_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150.0</span><span class="w">         </span><span class="c1"># Maximum discharging power [MW]</span>
<span class="w">      </span><span class="nt">eta_c</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span><span class="w">             </span><span class="c1"># Charging efficiency</span>
<span class="w">      </span><span class="nt">eta_d</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span><span class="w">             </span><span class="c1"># Discharging efficiency</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>The <strong>state of charge (SoC)</strong> evolves dynamically via the energy balance equation.</p></li>
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">delta_t</span></code> is consistent with the value defined in <code class="docutils literal notranslate"><span class="pre">meta.delta_t</span></code>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="final-checks">
<h4>‚úÖ 6. Final Checks<a class="headerlink" href="#final-checks" title="Link to this heading">ÔÉÅ</a></h4>
<p>Before running the model:</p>
<ul>
<li><p>Validate YAML indentation (2 spaces per level, no tabs).</p></li>
<li><p>Ensure lists (<code class="docutils literal notranslate"><span class="pre">[...]</span></code>) have exactly <code class="docutils literal notranslate"><span class="pre">horizon</span></code> entries for time-dependent parameters.</p></li>
<li><p>Confirm that all units are consistent (MW, MWh, m¬≥/s, hm¬≥).</p></li>
<li><p>Save the file as, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>DESSEM_CaseX.yaml
</pre></div>
</div>
</li>
</ul>
<p>To execute:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydessem-solve<span class="w"> </span>DESSEM_CaseX.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<hr class="docutils" />
<p>üß≠ <strong>Summary</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Keyword</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">meta:</span></code></p></td>
<td><p>General model setup</p></td>
<td><p>Time, solver, and demand</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hydro:</span></code></p></td>
<td><p>Hydropower configuration</p></td>
<td><p>Reservoirs, inflows, polynomials</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">thermal:</span></code></p></td>
<td><p>Thermal generation data</p></td>
<td><p>Unit limits, cost curves, dynamics</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">renewable:</span></code></p></td>
<td><p>Renewable generation</p></td>
<td><p>Solar and wind profiles</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">storage:</span></code></p></td>
<td><p>Energy storage</p></td>
<td><p>SoC, efficiency, charge/discharge power</p></td>
</tr>
</tbody>
</table>
<p>This structure ensures full compatibility with <strong>NaivePyDESSEM</strong>, maintaining transparent, reproducible, and standardized model definitions for academic and professional use.</p>
</section>
</section>
<section id="step-by-step-building-a-decomp-configuration-file">
<h3>üß© Step-by-Step: Building a DECOMP Configuration File<a class="headerlink" href="#step-by-step-building-a-decomp-configuration-file" title="Link to this heading">ÔÉÅ</a></h3>
<p>This section presents a detailed guide for constructing a <strong>NaivePyDECOMP</strong> configuration file (<code class="docutils literal notranslate"><span class="pre">.yaml</span></code>), representing a <strong>medium-term hydrothermal operation model</strong> based on the Brazilian DECOMP structure.<br />
Each block must respect the same naming conventions, indentation, and parameter formatting as the example below.</p>
<hr class="docutils" />
<section id="id33">
<h4>ü™∂ 1. Header and Metadata (<code class="docutils literal notranslate"><span class="pre">meta</span></code>)<a class="headerlink" href="#id33" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">meta</span></code> section defines the <strong>simulation scope, solver configuration, and demand series</strong>.<br />
It establishes the number of time periods (typically months), the duration of each period, and the optimization solver.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">meta</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CaseName-DECOMP&quot;</span><span class="w">     </span><span class="c1"># Case identifier</span>
<span class="w">  </span><span class="nt">horizon</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span><span class="w">                 </span><span class="c1"># Number of monthly periods (e.g., 12 months)</span>
<span class="w">  </span><span class="nt">delta_t</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span><span class="w">                </span><span class="c1"># Duration of each period [months]</span>
<span class="w">  </span><span class="nt">Cdef</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500.0</span><span class="w">                 </span><span class="c1"># Deficit penalty cost [$ / MWh]</span>
<span class="w">  </span><span class="nt">Solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cbc</span><span class="w">                 </span><span class="c1"># MILP solver</span>
<span class="w">  </span><span class="nt">Solver_Options</span><span class="p">:</span><span class="w">             </span><span class="c1"># Optional solver fine-tuning</span>
<span class="w">    </span><span class="nt">mip_solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">glpk</span>
<span class="w">    </span><span class="nt">nlp_solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cyipopt</span>
<span class="w">    </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OA</span>
<span class="w">    </span><span class="nt">time_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3600</span>

<span class="w">  </span><span class="nt">demand</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">120</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">150</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">120</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">150</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">120</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">150</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">120</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">150</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>The demand vector (<code class="docutils literal notranslate"><span class="pre">demand</span></code>) defines total system load per period (in MWmed or MWh/month).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cdef</span></code> specifies the cost of non-served energy, typically between 500‚Äì2000 R$/MWh.</p></li>
<li><p>Solver configurations can be adapted for Gurobi or CPLEX when available.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id34">
<h4>üåä 2. Hydropower Data (<code class="docutils literal notranslate"><span class="pre">hydro</span></code>)<a class="headerlink" href="#id34" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">hydro</span></code></strong> block contains reservoir and flow parameters for all hydroelectric plants.<br />
Each unit is defined by physical limits, initial conditions, inflows, and upstream relationships.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">hydro</span><span class="p">:</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">UHE_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Qmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span><span class="w">               </span><span class="c1"># Minimum turbined flow [hm3]</span>
<span class="w">      </span><span class="nt">Qmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60.0</span><span class="w">              </span><span class="c1"># Maximum turbined flow [hm3]</span>
<span class="w">      </span><span class="nt">Vmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20.0</span><span class="w">              </span><span class="c1"># Minimum storage [hm3]</span>
<span class="w">      </span><span class="nt">Vmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100.0</span><span class="w">             </span><span class="c1"># Maximum storage [hm3]</span>
<span class="w">      </span><span class="nt">Vini</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100.0</span><span class="w">             </span><span class="c1"># Initial volume [hm3]</span>
<span class="w">      </span><span class="nt">afluencia</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">16</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">14</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">11</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">16</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">14</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">11</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">16</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">14</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">11</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">16</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">14</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">11</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">upstreams</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;UHE_2&#39;</span><span class="p p-Indicator">]</span><span class="w">    </span><span class="c1"># Upstream plant(s)</span>
<span class="w">      </span><span class="nt">p</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span><span class="w">                 </span><span class="c1"># Specific productivity [MW/(hm3/month)]</span>
<span class="w">      </span><span class="nt">compute_total_inflow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">UHE_2</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Qmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.0</span>
<span class="w">      </span><span class="nt">Qmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80.0</span>
<span class="w">      </span><span class="nt">Vmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">40.0</span>
<span class="w">      </span><span class="nt">Vmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200.0</span>
<span class="w">      </span><span class="nt">Vini</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">130.0</span>
<span class="w">      </span><span class="nt">afluencia</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">15</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">15</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">15</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">15</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">12</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">upstreams</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w">           </span><span class="c1"># No upstream plants</span>
<span class="w">      </span><span class="nt">p</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.90</span>
<span class="w">      </span><span class="nt">compute_total_inflow</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>All flows and volumes are in <strong>hm¬≥</strong>, consistent with monthly scales.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> defines the <strong>linear productivity</strong> for each plant in MW per hm¬≥/month.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute_total_inflow:</span> <span class="pre">true</span></code> ensures automatic addition of upstream releases and spillage.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id35">
<h4>üî• 3. Thermal Data (<code class="docutils literal notranslate"><span class="pre">thermal</span></code>)<a class="headerlink" href="#id35" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">thermal</span></code></strong> block defines dispatchable thermal plants, typically simplified with constant cost and capacity limits.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">thermal</span><span class="p">:</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">UT_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Gmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">                 </span><span class="c1"># Minimum generation [MW]</span>
<span class="w">      </span><span class="nt">Gmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span><span class="w">                </span><span class="c1"># Maximum generation [MW]</span>
<span class="w">      </span><span class="nt">Cost</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">                </span><span class="c1"># Average operating cost [$ / MWh]</span>
<span class="w">    </span><span class="nt">UT_2</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Gmin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">Gmax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">      </span><span class="nt">Cost</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">25</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>Each thermal unit contributes to meeting the demand and adds a fixed cost proportional to energy produced.</p></li>
<li><p>Units can be expanded to include ramping or startup constraints if needed.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id36">
<h4>üå¨Ô∏è 4. Renewable Data (<code class="docutils literal notranslate"><span class="pre">renewable</span></code>)<a class="headerlink" href="#id36" title="Link to this heading">ÔÉÅ</a></h4>
<p>Defines variable renewable generation (wind and solar) with exogenous availability profiles.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">renewable</span><span class="p">:</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">EOL_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gbar</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">30</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">30</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">30</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">40</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># Wind generation [MW]</span>
<span class="w">    </span><span class="nt">SOL_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">gbar</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">20</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">30</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">30</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">25</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">30</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">10</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">30</span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># Solar generation [MW]</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">gbar</span></code> list defines the available renewable power per month.</p></li>
<li><p>Renewable energy is treated as non-dispatchable (upper bound).</p></li>
<li><p>The model optimizes renewable curtailment implicitly.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id37">
<h4>‚ö° 5. Storage Data (<code class="docutils literal notranslate"><span class="pre">storage</span></code>)<a class="headerlink" href="#id37" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">storage</span></code></strong> section specifies battery-type energy storage systems with energy and power constraints.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">storage</span><span class="p">:</span>
<span class="w">  </span><span class="nt">delta_t</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">BAT_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">Emin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50.0</span><span class="w">              </span><span class="c1"># Minimum state of charge [MWh]</span>
<span class="w">      </span><span class="nt">Emax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500.0</span><span class="w">             </span><span class="c1"># Maximum state of charge [MWh]</span>
<span class="w">      </span><span class="nt">Eini</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60.0</span><span class="w">              </span><span class="c1"># Initial energy [MWh]</span>
<span class="w">      </span><span class="nt">Pch_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50.0</span><span class="w">           </span><span class="c1"># Maximum charging power [MW]</span>
<span class="w">      </span><span class="nt">Pdis_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50.0</span><span class="w">          </span><span class="c1"># Maximum discharging power [MW]</span>
<span class="w">      </span><span class="nt">eta_c</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span><span class="w">             </span><span class="c1"># Charge efficiency</span>
<span class="w">      </span><span class="nt">eta_d</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span><span class="w">             </span><span class="c1"># Discharge efficiency</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>Monthly time steps imply slower charge/discharge dynamics compared to DESSEM.</p></li>
<li><p>Units are compatible with multi-period optimization and dual dynamic programming (PDDD) extensions.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id38">
<h4>‚úÖ 6. Final Checks<a class="headerlink" href="#id38" title="Link to this heading">ÔÉÅ</a></h4>
<p>Before execution:</p>
<ul>
<li><p>Verify YAML structure (two-space indentation, no tabs).</p></li>
<li><p>Ensure all lists (<code class="docutils literal notranslate"><span class="pre">[...]</span></code>) match the declared <code class="docutils literal notranslate"><span class="pre">horizon</span></code> (12 elements).</p></li>
<li><p>Keep consistent units: MW, MWh, and hm¬≥.</p></li>
<li><p>Save as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>DECOMP_CaseX.yaml
</pre></div>
</div>
</li>
</ul>
<p>Execute the model:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-solve<span class="w"> </span>DECOMP_CaseX.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<p>Or, using PDDD:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-pddd-solve<span class="w"> </span>DECOMP_CaseX.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<hr class="docutils" />
<p>üß≠ <strong>Summary</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Keyword</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">meta:</span></code></p></td>
<td><p>Simulation setup</p></td>
<td><p>Time, solver, and demand definition</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hydro:</span></code></p></td>
<td><p>Hydropower model</p></td>
<td><p>Reservoirs, inflows, productivity</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">thermal:</span></code></p></td>
<td><p>Thermal units</p></td>
<td><p>Capacity and cost</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">renewable:</span></code></p></td>
<td><p>Renewable generation</p></td>
<td><p>Wind and solar data</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">storage:</span></code></p></td>
<td><p>Energy storage</p></td>
<td><p>Capacity, SoC limits, and efficiency</p></td>
</tr>
</tbody>
</table>
<p>This template ensures full compliance with <strong>NaivePyDECOMP</strong>, promoting transparent modeling of hydrothermal coordination problems with monthly resolution.</p>
</section>
</section>
<section id="step-by-step-building-an-mdi-configuration-file">
<h3>üß© Step-by-Step: Building an MDI Configuration File<a class="headerlink" href="#step-by-step-building-an-mdi-configuration-file" title="Link to this heading">ÔÉÅ</a></h3>
<p>This document provides a comprehensive guide for constructing a <strong>NaivePyMDI</strong> configuration file (<code class="docutils literal notranslate"><span class="pre">.yaml</span></code>), used for <strong>generation expansion planning</strong> (long-term).<br />
Each section defines parameters and structures that control investment, operation, and energy balance between <em>peak</em> and <em>off-peak</em> demand levels.</p>
<hr class="docutils" />
<section id="id39">
<h4>ü™∂ 1. Header and Metadata (<code class="docutils literal notranslate"><span class="pre">meta</span></code>)<a class="headerlink" href="#id39" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">meta</span></code> section defines simulation parameters, solver configuration, and load segmentation into <em>Ponta</em> and <em>Fora de Ponta</em> levels.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">meta</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CaseName-MDI&quot;</span><span class="w">          </span><span class="c1"># Case identifier</span>
<span class="w">  </span><span class="nt">horizon</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span><span class="w">                   </span><span class="c1"># Number of planning periods (e.g., 10 years)</span>
<span class="w">  </span><span class="nt">delta_t</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span><span class="w">                  </span><span class="c1"># Duration of each period [years]</span>
<span class="w">  </span><span class="nt">parcel_investment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w">       </span><span class="c1"># Annualize investment costs (True/False)</span>
<span class="w">  </span><span class="nt">Solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cbc</span><span class="w">                   </span><span class="c1"># MILP solver</span>
<span class="w">  </span><span class="nt">Solver_Options</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mip_solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">glpk</span>
<span class="w">    </span><span class="nt">nlp_solver</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cyipopt</span>
<span class="w">    </span><span class="nt">strategy</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OA</span>
<span class="w">    </span><span class="nt">time_limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3600</span>

<span class="w">  </span><span class="nt">demand</span><span class="p">:</span>
<span class="w">    </span><span class="nt">Ponta</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">200</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">350</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">350</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">400</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">500</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">600</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">650</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">750</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">850</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">1000</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">Fora</span><span class="p">:</span><span class="w">  </span><span class="p p-Indicator">[</span><span class="nv">100</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">150</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">200</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">250</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">300</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">350</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">400</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">450</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">450</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">500</span><span class="p p-Indicator">]</span>

<span class="w">  </span><span class="nt">level_hours</span><span class="p">:</span>
<span class="w">    </span><span class="nt">Ponta</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2000</span>
<span class="w">    </span><span class="nt">Fora</span><span class="p">:</span><span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">6740</span>

<span class="w">  </span><span class="nt">level_precedence</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;Ponta&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;Fora&quot;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">parcel_investment:</span> <span class="pre">True</span></code> spreads investment costs evenly across the horizon (annualized model).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">demand</span></code> defines two load segments ‚Äî <em>Ponta</em> (peak) and <em>Fora</em> (off-peak) ‚Äî each with a vector of MW values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">level_hours</span></code> specifies the duration of each level in hours per year.</p></li>
<li><p>The order of load levels is given by <code class="docutils literal notranslate"><span class="pre">level_precedence</span></code>, ensuring temporal consistency.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="generator-data-generator">
<h4>‚öôÔ∏è 2. Generator Data (<code class="docutils literal notranslate"><span class="pre">generator</span></code>)<a class="headerlink" href="#generator-data-generator" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">generator</span></code></strong> section defines generation units (existing and candidate) across multiple technologies ‚Äî hydro, thermal, solar, wind, and deficit (penalty) units.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">generator</span><span class="p">:</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">UHE_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w">                 </span><span class="c1"># Existing (1)</span>
<span class="w">      </span><span class="nt">p_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span><span class="w">               </span><span class="c1"># Installed capacity [MW]</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">                  </span><span class="c1"># Operating cost [$ / MWh]</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">                 </span><span class="c1"># Investment + O&amp;M cost [$]</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w">        </span><span class="c1"># Include in capacity constraint</span>

<span class="w">    </span><span class="nt">UHE_2</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">                 </span><span class="c1"># Candidate (0)</span>
<span class="w">      </span><span class="nt">p_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">75_000_000</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">UTE_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">p_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">55</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">UTE_2</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">p_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">40</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15_000_000</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">SOL_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">p_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15_000_000</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">EOL_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">p_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10_000_000</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="nt">Def_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">p_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10000</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5000</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>Each generator has a <strong>binary state</strong>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> ‚Üí existing plant, active from the first period;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> ‚Üí candidate plant, may be built during the horizon.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">c_inv</span></code> (investment) applies only to candidate units.</p></li>
<li><p>The ‚ÄúDef‚Äù (deficit) unit provides load balance at very high cost, enforcing the penalty mechanism.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_cap</span></code> ensures participation in the adequacy constraint (capacity margin).</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id40">
<h4>‚ö° 3. Storage Data (<code class="docutils literal notranslate"><span class="pre">storage</span></code>)<a class="headerlink" href="#id40" title="Link to this heading">ÔÉÅ</a></h4>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">storage</span></code></strong> section defines battery systems with power and energy limits, as well as investment and operation costs.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">storage</span><span class="p">:</span>
<span class="w">  </span><span class="nt">delta_t</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.5</span>
<span class="w">  </span><span class="nt">units</span><span class="p">:</span>
<span class="w">    </span><span class="nt">BAT_1</span><span class="p">:</span>
<span class="w">      </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">                 </span><span class="c1"># Candidate</span>
<span class="w">      </span><span class="nt">c_op</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w">                  </span><span class="c1"># Operating cost [$ / MWh]</span>
<span class="w">      </span><span class="nt">c_inv</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5_000</span><span class="w">             </span><span class="c1"># Investment + O&amp;M cost [$]</span>
<span class="w">      </span><span class="nt">Emin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50.0</span><span class="w">               </span><span class="c1"># Minimum state of charge [MWh]</span>
<span class="w">      </span><span class="nt">Emax</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">500.0</span><span class="w">              </span><span class="c1"># Maximum state of charge [MWh]</span>
<span class="w">      </span><span class="nt">Eini</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100.0</span><span class="w">              </span><span class="c1"># Initial stored energy [MWh]</span>
<span class="w">      </span><span class="nt">Pch_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300.0</span><span class="w">           </span><span class="c1"># Maximum charging power [MW]</span>
<span class="w">      </span><span class="nt">Pdis_max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300.0</span><span class="w">          </span><span class="c1"># Maximum discharging power [MW]</span>
<span class="w">      </span><span class="nt">eta_c</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span><span class="w">              </span><span class="c1"># Charge efficiency</span>
<span class="w">      </span><span class="nt">eta_d</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.95</span><span class="w">              </span><span class="c1"># Discharge efficiency</span>
<span class="w">      </span><span class="nt">include_cap</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w">        </span><span class="c1"># Include in capacity adequacy constraint</span>
</pre></div>
</div>
<p>üìò <strong>Notes</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">state</span></code> flag distinguishes <strong>existing</strong> (1) and <strong>candidate</strong> (0) storage units.</p></li>
<li><p>Efficiency parameters (<code class="docutils literal notranslate"><span class="pre">eta_c</span></code>, <code class="docutils literal notranslate"><span class="pre">eta_d</span></code>) capture energy conversion losses.</p></li>
<li><p>The model considers investment and operation costs for optimal expansion planning.</p></li>
<li><p>Storage units can offset peak demand, reducing thermal generation and investment needs.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id41">
<h4>‚úÖ 4. Final Checks<a class="headerlink" href="#id41" title="Link to this heading">ÔÉÅ</a></h4>
<p>Before running the simulation:</p>
<ul>
<li><p>Validate YAML indentation and syntax (2 spaces per level).</p></li>
<li><p>Ensure both <code class="docutils literal notranslate"><span class="pre">Ponta</span></code> and <code class="docutils literal notranslate"><span class="pre">Fora</span></code> demand vectors have the same length as the planning horizon.</p></li>
<li><p>Check that all capacity and cost parameters are positive and consistent in units (MW, MWh, years).</p></li>
<li><p>Save as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>MDI_CaseX.yaml
</pre></div>
</div>
</li>
</ul>
<p>Execute:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mdi-solve<span class="w"> </span>MDI_CaseX.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<hr class="docutils" />
<p>üß≠ <strong>Summary</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Keyword</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">meta:</span></code></p></td>
<td><p>Simulation setup</p></td>
<td><p>Time horizon, solver, and demand segmentation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">generator:</span></code></p></td>
<td><p>Generation units</p></td>
<td><p>Capacity, investment, and operation costs</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">storage:</span></code></p></td>
<td><p>Energy storage</p></td>
<td><p>Dynamic SoC, efficiency, and investment data</p></td>
</tr>
</tbody>
</table>
<p>This configuration schema fully aligns with <strong>NaivePyMDI</strong>, supporting deterministic or investment-based planning for academic, research, and professional applications.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="MDI.cli.html" class="btn btn-neutral float-left" title="MDI.cli package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Augusto Mathias Adams.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>