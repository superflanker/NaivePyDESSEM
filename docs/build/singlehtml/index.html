

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NaivePyDESSEM 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=0a32259b"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            NaivePyDESSEM
          </a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Main modules (DESSEM/DECOMP/MDI):</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-modules">DESSEM/DECOMP/MDI</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">NaivePyDESSEM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">NaivePyDESSEM 0.1.0 documentation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="naivepydessem-documentation">
<h1>NaivePyDESSEM documentation<a class="headerlink" href="#naivepydessem-documentation" title="Link to this heading">ïƒ</a></h1>
<p>Official Documentation of NaivePyDESSEM Project â€” A Pedagogical and Modular Framework for Hydrothermal Economic Dispatch and Expansion Planning in Pyomo (DESSEM, DECOMP, and MDI-like Solvers)</p>
<section id="naivepydessem-a-pedagogical-and-modular-framework-for-hydrothermal-economic-dispatch-and-expansion-planning-in-pyomo-dessem-decomp-and-mdi-like-solvers">
<h2>NaivePyDESSEM â€” A Pedagogical and Modular Framework for Hydrothermal Economic Dispatch and Expansion Planning in Pyomo (DESSEM, DECOMP, and MDI-like Solvers)<a class="headerlink" href="#naivepydessem-a-pedagogical-and-modular-framework-for-hydrothermal-economic-dispatch-and-expansion-planning-in-pyomo-dessem-decomp-and-mdi-like-solvers" title="Link to this heading">ïƒ</a></h2>
<p><a class="reference external" href="https://www.gnu.org/licenses/gpl-3.0"><img alt="License: GPL v3" src="https://img.shields.io/badge/License-GPLv3-blue.svg" /></a>
<a class="reference external" href="https://github.com/superflanker/NaivePyDESSEM/actions/workflows/ci.yml"><img alt="CI" src="https://github.com/superflanker/NaivePyDESSEM/actions/workflows/ci.yml/badge.svg" /></a>
<a class="reference external" href="https://superflanker.github.io/NaivePyDESSEM/"><img alt="Docs" src="https://github.com/superflanker/NaivePyDESSEM/actions/workflows/docs.yml/badge.svg" /></a>
<a class="reference external" href="https://github.com/superflanker/NaivePyDESSEM"><img alt="GitHub Repo" src="https://img.shields.io/badge/GitHub-NaivePyDESSEM-181717?logo=github" /></a></p>
<p><strong>NaivePyDESSEM</strong> is a pedagogical project that brings together <strong>three complementary packages</strong> for teaching and research in power system operation planning:</p>
<ul class="simple">
<li><p><strong>NaivePyDESSEM</strong> â€” inspired by DESSEM, it models the <strong>short-term</strong> (daily/hourly) operation with detailed individual plant representation.</p></li>
<li><p><strong>NaivePyDECOMP</strong> â€” inspired by DECOMP, it models the <strong>medium-term</strong> (weekly/monthly) operation with deterministic dual dynamic programming (PDDD).</p></li>
<li><p><strong>MDI</strong> â€” Generation Expansion Planning inspired by <strong>MDI</strong> methodology.</p></li>
</ul>
<p>Both are implemented in <strong>Pyomo</strong>, with modular architecture and integrated documentation via Sphinx.</p>
<hr class="docutils" />
<section id="overview">
<h3>ğŸ” Overview<a class="headerlink" href="#overview" title="Link to this heading">ïƒ</a></h3>
<p><strong>NaivePyDESSEM</strong> is a pedagogical and modular project that consolidates <strong>three complementary packages</strong> designed for teaching, research, and experimentation in <strong>operation and expansion planning of electric power systems</strong>.
The suite draws direct inspiration from the <strong>CEPEL models DESSEM, DECOMP, and MDI</strong>, reinterpreting their conceptual formulations within a transparent, open-source framework based on <strong>Pyomo</strong>.</p>
<p>This initiative seeks to replicate the key methodological elements of the Brazilian <strong>short-term (DESSEM)</strong>, <strong>medium-term (DECOMP)</strong>, and <strong>long-term investment (MDI)</strong> planning models, ensuring consistency with real-world methodologies while maintaining academic accessibility and pedagogical clarity.</p>
</section>
<hr class="docutils" />
<section id="framework-composition">
<h3>âš™ï¸ Framework Composition<a class="headerlink" href="#framework-composition" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p><strong>NaivePyDESSEM</strong> â€” A short-term (hourly/daily) <strong>hydrothermal dispatch model</strong>, implementing detailed unit-level formulations for hydro, thermal, renewable, and storage subsystems, analogous to CEPELâ€™s <em>DESSEM</em>.</p></li>
<li><p><strong>NaivePyDECOMP</strong> â€” A medium-term (weekly/monthly) <strong>aggregated dispatch model</strong>, incorporating <em>Deterministic Dual Dynamic Programming (DDDP)</em> and drawing structural parallels with <em>DECOMP</em>.</p></li>
<li><p><strong>MDI</strong> â€” A long-term <strong>generation expansion planning model</strong>, representing investment decisions under uncertainty, inspired by the <em>Investment Decision Model</em> (MDI) used in national <em>PDE</em> studies.</p></li>
</ul>
<p>All packages share a common data interface and modeling philosophy, enabling <strong>coherent analysis across temporal horizons</strong> and <strong>integrated experimentation</strong> with energy balance problems.</p>
</section>
<hr class="docutils" />
<section id="shared-characteristics">
<h3>ğŸ§© Shared Characteristics<a class="headerlink" href="#shared-characteristics" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>Modular architecture with standardized builder, solver, and reporting modules.</p></li>
<li><p>Command-line interfaces (CLI) for model execution, reporting, and visualization.</p></li>
<li><p>YAML/JSON-based configuration files for data and scenario specification.</p></li>
<li><p>Seamless interoperability between subsystems (hydro, thermal, renewable, and storage).</p></li>
<li><p>Direct export of results to <em>Pandas DataFrames</em>, LaTeX tables, and graphical outputs.</p></li>
<li><p>Full compatibility with <strong>Pyomo</strong>, <strong>NumPy</strong>, <strong>Pandas</strong>, <strong>Matplotlib</strong>, and <strong>Colorama</strong>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="naivepydessem-package">
<h3>ğŸ“˜ NaivePyDESSEM Package<a class="headerlink" href="#naivepydessem-package" title="Link to this heading">ïƒ</a></h3>
<section id="purpose">
<h4>Purpose<a class="headerlink" href="#purpose" title="Link to this heading">ïƒ</a></h4>
<p>The <strong>NaivePyDESSEM</strong> package provides a transparent and instructive framework for the <strong>short-term hydrothermal operation problem</strong>, reproducing the fundamental structure of CEPELâ€™s <em>DESSEM</em>.
It enables the formulation, solution, and analysis of <strong>mixed-integer linear and quadratic optimization models</strong>, allowing detailed representation of individual generating units and system-level constraints.</p>
</section>
<section id="core-functionalities">
<h4>Core Functionalities<a class="headerlink" href="#core-functionalities" title="Link to this heading">ïƒ</a></h4>
<ul class="simple">
<li><p><strong>Individual Unit Modeling:</strong>
Comprehensive representation of hydroelectric units (with reservoirs, flows, and variable productivity formulations) and thermal units (linear/quadratic costs, startup/shutdown dynamics, ramping, and minimum up/down times).
Data classes such as <code class="docutils literal notranslate"><span class="pre">HydraulicGenerator</span></code>, <code class="docutils literal notranslate"><span class="pre">ThermalGenerator</span></code>, <code class="docutils literal notranslate"><span class="pre">RenewableGenerator</span></code>, and <code class="docutils literal notranslate"><span class="pre">Storage</span></code> define the physical and operational parameters.</p></li>
<li><p><strong>Multi-Technology Dispatch:</strong>
Incorporates non-dispatchable renewable generation (wind and solar) and storage technologies (state-of-charge tracking, round-trip efficiency).
Supports the inclusion or omission of subsystems through YAML configuration, enabling modular experimentation.</p></li>
<li><p><strong>Automated Model Construction:</strong>
The <code class="docutils literal notranslate"><span class="pre">Builder</span></code> module parses YAML/JSON data via the <code class="docutils literal notranslate"><span class="pre">YAMLLoader</span></code> class and automatically assembles the <em>Pyomo</em> model with all constraints and the total cost minimization objective.</p></li>
<li><p><strong>Post-Solution Analysis:</strong>
Results are exported to <code class="docutils literal notranslate"><span class="pre">Pandas</span> <span class="pre">DataFrames</span></code> and visualized through time-series plots using the <code class="docutils literal notranslate"><span class="pre">PlotSeries</span></code> module.
The <code class="docutils literal notranslate"><span class="pre">Formatters</span></code> and <code class="docutils literal notranslate"><span class="pre">Reporting</span></code> utilities generate well-structured tabular and graphical summaries for comprehensive cost and dispatch analysis.</p></li>
<li><p><strong>Command-Line Execution:</strong>
CLI commands (<code class="docutils literal notranslate"><span class="pre">pydessem-solve</span></code>, <code class="docutils literal notranslate"><span class="pre">pydessem-plot</span></code>) facilitate the execution and visualization of simulation results, ensuring accessibility for educational use.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="naivepydecomp-package">
<h3>ğŸ“— NaivePyDECOMP Package<a class="headerlink" href="#naivepydecomp-package" title="Link to this heading">ïƒ</a></h3>
<section id="id1">
<h4>Purpose<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h4>
<p>The <strong>NaivePyDECOMP</strong> package mirrors the <em>DECOMP</em> model, addressing <strong>medium-term operation planning</strong> through <em>Deterministic Dual Dynamic Programming (DDDP)</em> and linear optimization.
It provides a modular structure for decomposing long-horizon energy scheduling problems and facilitates analytical exploration of temporal and spatial coupling.</p>
</section>
<section id="id2">
<h4>Core Functionalities<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h4>
<ul class="simple">
<li><p><strong>Medium-Term Dispatch:</strong>
Models aggregated hydro and thermal subsystems across extended time horizons.
Hydroelectric plants are grouped into regional subsystems (REEs) with constant productivity, while thermal generation is modeled through aggregated cost and capacity parameters.</p></li>
<li><p><strong>DDDP-Based Optimization:</strong>
Implements both <strong>single-stage linear programming</strong> and <strong>multi-stage decomposition</strong> via the <code class="docutils literal notranslate"><span class="pre">BuilderPDDD</span></code> and <code class="docutils literal notranslate"><span class="pre">SolverPDDD</span></code> modules.
Enables the generation of future cost functions, convergence limits, and deterministic scenario analyses.</p></li>
<li><p><strong>Shared Submodules:</strong>
Adopts a consistent modular structure with <code class="docutils literal notranslate"><span class="pre">Builder</span></code>, <code class="docutils literal notranslate"><span class="pre">ModelCheck</span></code>, <code class="docutils literal notranslate"><span class="pre">PlotSeries</span></code>, <code class="docutils literal notranslate"><span class="pre">Formatters</span></code>, and <code class="docutils literal notranslate"><span class="pre">Reporting</span></code> modules â€” ensuring interoperability with <em>NaivePyDESSEM</em>.</p></li>
<li><p><strong>CLI and Configurability:</strong>
Commands such as <code class="docutils literal notranslate"><span class="pre">pydecomp-solve</span></code>, <code class="docutils literal notranslate"><span class="pre">pydecomp-pddd-solve</span></code>, and <code class="docutils literal notranslate"><span class="pre">pydecomp-plot</span></code> simplify experimentation.
Input data are handled through YAML configuration validated by the <code class="docutils literal notranslate"><span class="pre">YAMLLoader</span></code>.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="mdi-package">
<h3>ğŸ“™ MDI Package<a class="headerlink" href="#mdi-package" title="Link to this heading">ïƒ</a></h3>
<section id="id3">
<h4>Purpose<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h4>
<p>The <strong>MDI</strong> package implements a simplified but methodologically coherent framework for <strong>long-term generation expansion planning</strong>, drawing on the <em>Investment Decision Model (MDI)</em> used in Brazilian <em>PDE</em> studies.
It integrates investment and operational decisions into a unified <strong>mixed-integer linear optimization problem</strong>.</p>
</section>
<section id="id4">
<h4>Core Functionalities<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h4>
<ul class="simple">
<li><p><strong>Investment Planning:</strong>
Formulates a multi-period optimization problem minimizing investment and operational costs under uncertainty.
Incorporates candidate projects for thermal, hydro, renewable, and storage technologies, as well as transmission reinforcements.</p></li>
<li><p><strong>Specialized Submodules:</strong>
Subpackages <code class="docutils literal notranslate"><span class="pre">MDI.Generator</span></code> and <code class="docutils literal notranslate"><span class="pre">MDI.Storage</span></code> define project-level variables, constraints, and cost components.
The <code class="docutils literal notranslate"><span class="pre">Builder</span></code> module consolidates these into a system-wide energy balance, while <code class="docutils literal notranslate"><span class="pre">YAMLLoader</span></code> manages structured scenario data.</p></li>
<li><p><strong>Solution and Analysis:</strong>
Supports a variety of <em>Pyomo</em> solvers (<code class="docutils literal notranslate"><span class="pre">GLPK</span></code>, <code class="docutils literal notranslate"><span class="pre">CPLEX</span></code>, <code class="docutils literal notranslate"><span class="pre">IPOPT</span></code>, <code class="docutils literal notranslate"><span class="pre">MindtPy</span></code>) and provides post-solution tools (<code class="docutils literal notranslate"><span class="pre">Reporting</span></code>, <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code>, <code class="docutils literal notranslate"><span class="pre">PlotSeries</span></code>) for sensitivity and scenario analysis.</p></li>
<li><p><strong>Educational Design:</strong>
Preserves the key structural and economic principles of real-world expansion models while maintaining tractability for academic exercises.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="project-structure">
<h3>ğŸ“‚ Project Structure<a class="headerlink" href="#project-structure" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>â”œâ”€â”€ examples
â”‚   â”œâ”€â”€ DECOMP
â”‚   â”‚   â”œâ”€â”€ trabalho02_caso01.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho02_caso02.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho02_caso03.yaml
â”‚   â”‚   â””â”€â”€ trabalho02_caso04.yaml
â”‚   â”œâ”€â”€ DESSEM
â”‚   â”‚   â”œâ”€â”€ exemplo_despacho_hibrido.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho01_caso01_1.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho01_caso01_2.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho01_caso01_3.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho01_caso02.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho01_caso03.yaml
â”‚   â”‚   â”œâ”€â”€ trabalho01_caso04.yaml
â”‚   â”‚   â””â”€â”€ trabalho01_caso05.yaml
â”‚   â””â”€â”€ MDI
â”‚       â”œâ”€â”€ trabalho03_ex01.yaml
â”‚       â”œâ”€â”€ trabalho03_ex01_anualizado.yaml
â”‚       â”œâ”€â”€ trabalho03_ex01_anualizado_alternativo.yaml
â”‚       â”œâ”€â”€ trabalho03_ex02.yaml
â”‚       â””â”€â”€ trabalho03_ex02_anualizado.yaml
â”œâ”€â”€ relatorios
â”‚   â”œâ”€â”€ DECOMP
â”‚   â”‚   â”œâ”€â”€ caso01
â”‚   â”‚   â”‚   â”œâ”€â”€ imagens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custo_futuro_caso01_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso01_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso01_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso01_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso01_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ limites_convergencia_caso01_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso01_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso01_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ volume_armazenado_caso01_pddd.png
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ volume_armazenado_caso01_single_pl.png
â”‚   â”‚   â”‚   â””â”€â”€ tabelas
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso01_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso01_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso01_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso01_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ tabela_geracao_caso01_pddd.tex
â”‚   â”‚   â”‚       â””â”€â”€ tabela_geracao_caso01_single_pl.tex
â”‚   â”‚   â”œâ”€â”€ caso02
â”‚   â”‚   â”‚   â”œâ”€â”€ imagens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custo_futuro_caso02_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso02_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso02_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso02_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso02_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ limites_convergencia_caso02_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso02_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso02_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ volume_armazenado_caso02_pddd.png
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ volume_armazenado_caso02_single_pl.png
â”‚   â”‚   â”‚   â””â”€â”€ tabelas
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso02_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso02_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso02_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso02_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ tabela_geracao_caso02_pddd.tex
â”‚   â”‚   â”‚       â””â”€â”€ tabela_geracao_caso02_single_pl.tex
â”‚   â”‚   â”œâ”€â”€ caso03
â”‚   â”‚   â”‚   â”œâ”€â”€ imagens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ carga_descarga_baterias_caso03_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ carga_descarga_baterias_caso03_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custo_futuro_caso03_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso03_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso03_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso03_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso03_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ limites_convergencia_caso03_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso03_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso03_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ volume_armazenado_caso03_pddd.png
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ volume_armazenado_caso03_single_pl.png
â”‚   â”‚   â”‚   â””â”€â”€ tabelas
â”‚   â”‚   â”‚       â”œâ”€â”€ carga_descarga_baterias_caso03_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ carga_descarga_baterias_caso03_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso03_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso03_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso03_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso03_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ tabela_geracao_caso03_pddd.tex
â”‚   â”‚   â”‚       â””â”€â”€ tabela_geracao_caso03_single_pl.tex
â”‚   â”‚   â”œâ”€â”€ caso04
â”‚   â”‚   â”‚   â”œâ”€â”€ imagens
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ carga_descarga_baterias_caso04_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ carga_descarga_baterias_caso04_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custo_futuro_caso04_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso04_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ custos_geracao_caso04_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso04_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ geracao_caso04_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ limites_convergencia_caso04_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso04_pddd.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vazao_turbinada_caso04_single_pl.png
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ volume_armazenado_caso04_pddd.png
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ volume_armazenado_caso04_single_pl.png
â”‚   â”‚   â”‚   â””â”€â”€ tabelas
â”‚   â”‚   â”‚       â”œâ”€â”€ carga_descarga_baterias_caso04_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ carga_descarga_baterias_caso04_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso04_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ custos_caso04_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso04_pddd.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso04_single_pl.tex
â”‚   â”‚   â”‚       â”œâ”€â”€ tabela_geracao_caso04_pddd.tex
â”‚   â”‚   â”‚       â””â”€â”€ tabela_geracao_caso04_single_pl.tex
â”‚   â”‚   â””â”€â”€ arquivos.txt
â”‚   â”œâ”€â”€ DESSEM
â”‚   â”‚   â””â”€â”€ caso_345
â”‚   â”‚       â”œâ”€â”€ imagens
â”‚   â”‚       â”‚   â”œâ”€â”€ carga_descarga_baterias_caso04.png
â”‚   â”‚       â”‚   â”œâ”€â”€ carga_descarga_baterias_caso05.png
â”‚   â”‚       â”‚   â”œâ”€â”€ custos_geracao_caso03.png
â”‚   â”‚       â”‚   â”œâ”€â”€ custos_geracao_caso04.png
â”‚   â”‚       â”‚   â”œâ”€â”€ custos_geracao_caso05.png
â”‚   â”‚       â”‚   â”œâ”€â”€ geracao_caso03.png
â”‚   â”‚       â”‚   â”œâ”€â”€ geracao_caso04.png
â”‚   â”‚       â”‚   â”œâ”€â”€ geracao_caso05.png
â”‚   â”‚       â”‚   â”œâ”€â”€ geracao_desempilhada_caso04.png
â”‚   â”‚       â”‚   â”œâ”€â”€ geracao_desempilhada_caso05.png
â”‚   â”‚       â”‚   â”œâ”€â”€ vazao_turbinada_caso03.png
â”‚   â”‚       â”‚   â”œâ”€â”€ vazao_turbinada_caso04.png
â”‚   â”‚       â”‚   â”œâ”€â”€ vazao_turbinada_caso05.png
â”‚   â”‚       â”‚   â”œâ”€â”€ volume_armazenado_caso03.png
â”‚   â”‚       â”‚   â”œâ”€â”€ volume_armazenado_caso04.png
â”‚   â”‚       â”‚   â””â”€â”€ volume_armazenado_caso05.png
â”‚   â”‚       â”œâ”€â”€ controle_termicas_caso03.tex
â”‚   â”‚       â”œâ”€â”€ controle_termicas_caso04.tex
â”‚   â”‚       â”œâ”€â”€ controle_termicas_caso05.tex
â”‚   â”‚       â”œâ”€â”€ custos_caso03.tex
â”‚   â”‚       â”œâ”€â”€ custos_caso04.tex
â”‚   â”‚       â”œâ”€â”€ custos_caso05.tex
â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso03.tex
â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso04.tex
â”‚   â”‚       â”œâ”€â”€ parametros_hidraulicos_caso05.tex
â”‚   â”‚       â”œâ”€â”€ tabela_geracao_caso03.tex
â”‚   â”‚       â”œâ”€â”€ tabela_geracao_caso04.tex
â”‚   â”‚       â””â”€â”€ tabela_geracao_caso05.tex
â”‚   â””â”€â”€ MDI
â”‚       â”œâ”€â”€ ex01
â”‚       â”‚   â”œâ”€â”€ imagens
â”‚       â”‚   â”‚   â”œâ”€â”€ carga_descarga_baterias_ex01.png
â”‚       â”‚   â”‚   â”œâ”€â”€ carga_descarga_baterias_ex01_anualizado.png
â”‚       â”‚   â”‚   â”œâ”€â”€ custos_geracao_ex01.png
â”‚       â”‚   â”‚   â”œâ”€â”€ custos_geracao_ex01_anualizado.png
â”‚       â”‚   â”‚   â”œâ”€â”€ geracao_ex01.png
â”‚       â”‚   â”‚   â”œâ”€â”€ geracao_ex01_anualizado.png
â”‚       â”‚   â”‚   â”œâ”€â”€ geracao_ex01_anualizado_fora.png
â”‚       â”‚   â”‚   â”œâ”€â”€ geracao_ex01_anualizado_ponta.png
â”‚       â”‚   â”‚   â”œâ”€â”€ geracao_ex01_fora.png
â”‚       â”‚   â”‚   â””â”€â”€ geracao_ex01_ponta.png
â”‚       â”‚   â””â”€â”€ tabelas
â”‚       â”‚       â”œâ”€â”€ decisoes_ex01.tex
â”‚       â”‚       â”œâ”€â”€ decisoes_ex01_anualizado.tex
â”‚       â”‚       â”œâ”€â”€ tabela_custos_ex01.tex
â”‚       â”‚       â”œâ”€â”€ tabela_custos_ex01_anualizado.tex
â”‚       â”‚       â”œâ”€â”€ tabela_geracao_ex01.tex
â”‚       â”‚       â””â”€â”€ tabela_geracao_ex01_anualizado.tex
â”‚       â””â”€â”€ ex02
â”‚           â”œâ”€â”€ imagens
â”‚           â”‚   â”œâ”€â”€ carga_descarga_baterias_ex02.png
â”‚           â”‚   â”œâ”€â”€ carga_descarga_baterias_ex02_anualizado.png
â”‚           â”‚   â”œâ”€â”€ custos_geracao_ex02.png
â”‚           â”‚   â”œâ”€â”€ custos_geracao_ex02_anualizado.png
â”‚           â”‚   â”œâ”€â”€ geracao_ex02.png
â”‚           â”‚   â”œâ”€â”€ geracao_ex02_anualizado.png
â”‚           â”‚   â”œâ”€â”€ geracao_ex02_anualizado_fora.png
â”‚           â”‚   â”œâ”€â”€ geracao_ex02_anualizado_ponta.png
â”‚           â”‚   â”œâ”€â”€ geracao_ex02_fora.png
â”‚           â”‚   â””â”€â”€ geracao_ex02_ponta.png
â”‚           â””â”€â”€ tabelas
â”‚               â”œâ”€â”€ decisoes_ex02.tex
â”‚               â”œâ”€â”€ decisoes_ex02_anualizado.tex
â”‚               â”œâ”€â”€ tabela_custos_ex02.tex
â”‚               â”œâ”€â”€ tabela_custos_ex02_anualizado.tex
â”‚               â”œâ”€â”€ tabela_geracao_ex02.tex
â”‚               â””â”€â”€ tabela_geracao_ex02_anualizado.tex
â”œâ”€â”€ resultados
â”‚   â”œâ”€â”€ DECOMP
â”‚   â”‚   â”œâ”€â”€ despacho_caso01_pddd.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso01_pddd_alpha.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso01_pddd_zlimits.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso01_single_pl.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso02_pddd.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso02_pddd_alpha.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso02_pddd_zlimits.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso02_single_pl.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso03_pddd.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso03_pddd_alpha.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso03_pddd_zlimits.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso03_single_pl.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso04.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso04_pddd.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso04_pddd_alpha.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso04_pddd_zlimits.csv
â”‚   â”‚   â””â”€â”€ despacho_caso04_single_pl.csv
â”‚   â”œâ”€â”€ DESSEM
â”‚   â”‚   â”œâ”€â”€ despacho_caso01_1.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso01_2.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso01_3.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso02.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso03.csv
â”‚   â”‚   â”œâ”€â”€ despacho_caso04.csv
â”‚   â”‚   â””â”€â”€ despacho_caso05.csv
â”‚   â””â”€â”€ MDI
â”‚       â”œâ”€â”€ planejamento_expansao_ex01.csv
â”‚       â”œâ”€â”€ planejamento_expansao_ex01_anualizado.csv
â”‚       â”œâ”€â”€ planejamento_expansao_ex01_anualizado_alternativo.csv
â”‚       â”œâ”€â”€ planejamento_expansao_ex02.csv
â”‚       â””â”€â”€ planejamento_expansao_ex02_anualizado.csv
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ MDI
â”‚   â”‚   â”œâ”€â”€ cli
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ cli.py
â”‚   â”‚   â”‚   â””â”€â”€ plot_cli.py
â”‚   â”‚   â”œâ”€â”€ Generator
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ GeneratorBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ GeneratorConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ GeneratorDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ GeneratorEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ GeneratorObjectives.py
â”‚   â”‚   â”‚   â””â”€â”€ GeneratorVars.py
â”‚   â”‚   â”œâ”€â”€ Storage
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageObjective.py
â”‚   â”‚   â”‚   â””â”€â”€ StorageVars.py
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ Builder.py
â”‚   â”‚   â”œâ”€â”€ DataFrames.py
â”‚   â”‚   â”œâ”€â”€ Formatters.py
â”‚   â”‚   â”œâ”€â”€ ModelCheck.py
â”‚   â”‚   â”œâ”€â”€ ModelFormatters.py
â”‚   â”‚   â”œâ”€â”€ PlotSeries.py
â”‚   â”‚   â”œâ”€â”€ Reporting.py
â”‚   â”‚   â”œâ”€â”€ Solver.py
â”‚   â”‚   â”œâ”€â”€ Utils.py
â”‚   â”‚   â””â”€â”€ YAMLLoader.py
â”‚   â”œâ”€â”€ NaivePyDECOMP
â”‚   â”‚   â”œâ”€â”€ cli
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ cli.py
â”‚   â”‚   â”‚   â”œâ”€â”€ pddd_cli.py
â”‚   â”‚   â”‚   â””â”€â”€ plot_cli.py
â”‚   â”‚   â”œâ”€â”€ HydraulicGenerator
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicGeneratorBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicObjectives.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicVars.py
â”‚   â”‚   â”‚   â””â”€â”€ SimplifiedConstantProductivityFPH.py
â”‚   â”‚   â”œâ”€â”€ RenewableGenerator
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableGeneratorBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableObjectives.py
â”‚   â”‚   â”‚   â””â”€â”€ RenewableVars.py
â”‚   â”‚   â”œâ”€â”€ Storage
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageObjective.py
â”‚   â”‚   â”‚   â””â”€â”€ StorageVars.py
â”‚   â”‚   â”œâ”€â”€ ThermalGenerator
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalGeneratorBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalObjectives.py
â”‚   â”‚   â”‚   â””â”€â”€ ThermalVars.py
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ Builder.py
â”‚   â”‚   â”œâ”€â”€ BuilderPDDD.py
â”‚   â”‚   â”œâ”€â”€ DataFrames.py
â”‚   â”‚   â”œâ”€â”€ Formatters.py
â”‚   â”‚   â”œâ”€â”€ ModelCheck.py
â”‚   â”‚   â”œâ”€â”€ ModelFormatters.py
â”‚   â”‚   â”œâ”€â”€ PDDDMergeModels.py
â”‚   â”‚   â”œâ”€â”€ PlotSeries.py
â”‚   â”‚   â”œâ”€â”€ Reporting.py
â”‚   â”‚   â”œâ”€â”€ Solver.py
â”‚   â”‚   â”œâ”€â”€ SolverPDDD.py
â”‚   â”‚   â”œâ”€â”€ Utils.py
â”‚   â”‚   â””â”€â”€ YAMLLoader.py
â”‚   â”œâ”€â”€ NaivePyDESSEM
â”‚   â”‚   â”œâ”€â”€ cli
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ cli.py
â”‚   â”‚   â”‚   â””â”€â”€ plot_cli.py
â”‚   â”‚   â”œâ”€â”€ HydraulicGenerator
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ConstantProductivityFPH.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ExactFPH.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicGeneratorBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicObjectives.py
â”‚   â”‚   â”‚   â”œâ”€â”€ HydraulicVars.py
â”‚   â”‚   â”‚   â”œâ”€â”€ PEFPH.py
â”‚   â”‚   â”‚   â””â”€â”€ SimplifiedConstantProductivityFPH.py
â”‚   â”‚   â”œâ”€â”€ RenewableGenerator
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableGeneratorBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ RenewableObjectives.py
â”‚   â”‚   â”‚   â””â”€â”€ RenewableVars.py
â”‚   â”‚   â”œâ”€â”€ Storage
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ StorageObjective.py
â”‚   â”‚   â”‚   â””â”€â”€ StorageVars.py
â”‚   â”‚   â”œâ”€â”€ ThermalGenerator
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalConstraints.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalDataTypes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalEquations.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalGeneratorBuilder.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalObjectives.py
â”‚   â”‚   â”‚   â”œâ”€â”€ ThermalPieceWise.py
â”‚   â”‚   â”‚   â””â”€â”€ ThermalVars.py
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ Builder.py
â”‚   â”‚   â”œâ”€â”€ DataFrames.py
â”‚   â”‚   â”œâ”€â”€ Formatters.py
â”‚   â”‚   â”œâ”€â”€ ModelCheck.py
â”‚   â”‚   â”œâ”€â”€ ModelFormatters.py
â”‚   â”‚   â”œâ”€â”€ PlotSeries.py
â”‚   â”‚   â”œâ”€â”€ Reporting.py
â”‚   â”‚   â”œâ”€â”€ Solver.py
â”‚   â”‚   â”œâ”€â”€ Utils.py
â”‚   â”‚   â””â”€â”€ YAMLLoader.py
â”‚   â””â”€â”€ naivepydessem.egg-info
â”‚       â”œâ”€â”€ dependency_links.txt
â”‚       â”œâ”€â”€ entry_points.txt
â”‚       â”œâ”€â”€ PKG-INFO
â”‚       â”œâ”€â”€ requires.txt
â”‚       â”œâ”€â”€ SOURCES.txt
â”‚       â””â”€â”€ top_level.txt
â”œâ”€â”€ tests
â”œâ”€â”€ LICENSE
â”œâ”€â”€ MANIFEST.in
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â””â”€â”€ setup.cfg
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="dependencies">
<h3>ğŸ›  Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">ïƒ</a></h3>
<p>The following Python packages are required to run <strong>NaivePyDESSEM</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Version Requirement</p></th>
<th class="head"><p>PyPI Link</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">colorama</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&gt;=0.4.6</span></code></p></td>
<td><p><a class="reference external" href="https://pypi.org/project/colorama/">colorama</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">matplotlib</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&gt;=3.10.5</span></code></p></td>
<td><p><a class="reference external" href="https://pypi.org/project/matplotlib/">matplotlib</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">numpy</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&gt;=2.2.6</span></code></p></td>
<td><p><a class="reference external" href="https://pypi.org/project/numpy/">numpy</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pandas</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&gt;=2.3.2</span></code></p></td>
<td><p><a class="reference external" href="https://pypi.org/project/pandas/">pandas</a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pyomo</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&gt;=6.9.3</span></code></p></td>
<td><p><a class="reference external" href="https://pypi.org/project/pyomo/">pyomo</a></p></td>
</tr>
</tbody>
</table>
</section>
<hr class="docutils" />
<section id="installation">
<h3>ğŸ›   Installation<a class="headerlink" href="#installation" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>naivepydessem
</pre></div>
</div>
<p>Or from source:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/superflanker/NaivePyDESSEM.git
<span class="nb">cd</span><span class="w"> </span>NaivePyDESSEM
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>Similarly, using git ssh clone url:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:superflanker/NaivePyDESSEM.git
<span class="nb">cd</span><span class="w"> </span>NaivePyDESSEM
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="usage">
<h3>â–¶ï¸ Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h3>
<section id="solving-a-model">
<h4>Solving a model<a class="headerlink" href="#solving-a-model" title="Link to this heading">ïƒ</a></h4>
<p><strong>DESSEM-like dispatch (short-term)</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydessem-solve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<p><strong>DECOMP-like dispatch (medium-term)</strong></p>
<p>Single-LP:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-solve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<p>Using PDDD:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-pddsolve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
<p><strong>MDI Like Generation Expansion Planning</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mdi-solve<span class="w"> </span>path/to/case.yaml<span class="w"> </span>--out_dir<span class="w"> </span>results/<span class="w"> </span>--out_file<span class="w"> </span>dispatch.csv
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="plotting-results">
<h4>Plotting results<a class="headerlink" href="#plotting-results" title="Link to this heading">ïƒ</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydessem-plot<span class="w"> </span>results/dispatch.csv<span class="w"> </span>--mode<span class="w"> </span>plot<span class="w"> </span>--category<span class="w"> </span>G<span class="w"> </span>V<span class="w"> </span>--plot-style<span class="w"> </span>line
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pydecomp-plot<span class="w"> </span>results/dispatch.csv<span class="w"> </span>--mode<span class="w"> </span>plot<span class="w"> </span>--category<span class="w"> </span>G<span class="w"> </span>V<span class="w"> </span>--plot-style<span class="w"> </span>line
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mdi-plot<span class="w"> </span>results/dispatch.csv<span class="w"> </span>--mode<span class="w"> </span>plot<span class="w"> </span>--category<span class="w"> </span>G<span class="w"> </span>--plot-style<span class="w"> </span>line
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="references">
<h3>ğŸ“„ References<a class="headerlink" href="#references" title="Link to this heading">ïƒ</a></h3>
<p>This implementation is aligned with the pedagogical materials of UFPR (Federal University of ParanÃ¡) and official CEPEL/EPE documentation:</p>
<ul class="simple">
<li><p>Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030, UFPR, 2023.</p></li>
<li><p>CEPEL. Manual de Metodologia do DESSEM, 2023.</p></li>
<li><p>CEPEL. Modelo DECOMP â€” Manual de ReferÃªncia TÃ©cnica, 2022.</p></li>
<li><p>EPE. Plano Decenal de ExpansÃ£o de Energia (PDE) â€” Metodologia MDI, 2023.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="documentation">
<h3>ğŸ“š Documentation<a class="headerlink" href="#documentation" title="Link to this heading">ïƒ</a></h3>
<p>Full API and usage documentation is built with <strong>Sphinx</strong> and available here:
ğŸ‘‰ <a class="reference external" href="https://superflanker.github.io/NaivePyDESSEM/">NaivePyDessem Documentation</a></p>
</section>
<hr class="docutils" />
<section id="how-to-cite">
<h3>ğŸ“š How to Cite<a class="headerlink" href="#how-to-cite" title="Link to this heading">ïƒ</a></h3>
<p>If you use <strong>NaivePyDessem</strong> in teaching or research, please cite:</p>
<div class="highlight-bibtex notranslate"><div class="highlight"><pre><span></span><span class="nc">@misc</span><span class="p">{</span><span class="nl">adams2025naivepydessem</span><span class="p">,</span>
<span class="w">  </span><span class="na">author</span><span class="w">       </span><span class="p">=</span><span class="w"> </span><span class="s">{Augusto Mathias Adams}</span><span class="p">,</span>
<span class="w">  </span><span class="na">title</span><span class="w">        </span><span class="p">=</span><span class="w"> </span><span class="s">{NaivePyDESSEM â€” A Pedagogical and Modular Framework for Hydrothermal Economic Dispatch and Expansion Planning in Pyomo (DESSEM, DECOMP, and MDI-like Solvers)}</span><span class="p">,</span>
<span class="w">  </span><span class="na">year</span><span class="w">         </span><span class="p">=</span><span class="w"> </span><span class="s">{2025}</span><span class="p">,</span>
<span class="w">  </span><span class="na">howpublished</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{\url{https://github.com/superflanker/NaivePyDESSEM}}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<div class="toctree-wrapper compound">
<span id="document-modules"></span><section id="dessem-decomp-mdi">
<h2>DESSEM/DECOMP/MDI<a class="headerlink" href="#dessem-decomp-mdi" title="Link to this heading">ïƒ</a></h2>
<div class="toctree-wrapper compound">
<span id="document-NaivePyDESSEM"></span><section id="naivepydessem-package">
<h3>NaivePyDESSEM package<a class="headerlink" href="#naivepydessem-package" title="Link to this heading">ïƒ</a></h3>
<section id="module-NaivePyDESSEM">
<span id="module-contents"></span><h4>Module contents<a class="headerlink" href="#module-NaivePyDESSEM" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: NaivePyDESSEM</p>
<section id="author">
<h5>Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h5>Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">NaivePyDESSEM</span></code> package provides a modular, extensible, and pedagogically
oriented framework for short-term power system operation planning. Inspired by the
methodology and architecture of CEPELâ€™s DESSEM model, it enables the construction,
solution, and analysis of mixed-integer optimization models based on Pyomo.</p>
<p>Designed for academic use, the framework supports detailed modeling of thermal,
hydraulic, renewable, and storage resources, and integrates these components
into a coherent multi-technology dispatch problem, including unit commitment,
deficit handling, and economic trade-offs.</p>
</section>
<section id="submodules">
<h5>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>HydraulicGenerator</dt><dd><p>Defines the data structures, constraints, and productivity models for
hydropower generation units, including reservoir dynamics, turbine flows,
and different formulations of head and productivity (constant, specific, exact).</p>
</dd>
<dt>ThermalGenerator</dt><dd><p>Models thermal units with quadratic or piecewise-linear cost functions,
ramping constraints, commitment logic, startup/shutdown dynamics, and reserve provision.</p>
</dd>
<dt>RenewableGenerator</dt><dd><p>Represents non-dispatchable renewable units such as wind and solar,
enforcing production bounds based on availability (gbar).</p>
</dd>
<dt>Storage</dt><dd><p>Models energy storage systems (e.g., batteries), capturing state-of-charge dynamics,
charge/discharge power limits, efficiencies, and optional integration into
the balance and objective.</p>
</dd>
<dt>YAMLLoader</dt><dd><p>Provides the interface for loading problem instances from structured YAML or JSON files,
including validation and conversion into dataclass objects.</p>
</dd>
<dt>Builder</dt><dd><p>Constructs a complete Pyomo model from the YAML data, invoking the appropriate
subsystems and assembling the balance constraint and cost-minimizing objective.</p>
</dd>
<dt>Solver</dt><dd><p>Handles the selection and execution of solvers (e.g., GLPK, IPOPT, MindtPy),
with optional reporting and solution validation.</p>
</dd>
<dt>DataFrames</dt><dd><p>Exports decision variable trajectories and economic indicators to Pandas DataFrames
for further analysis and visualization.</p>
</dd>
<dt>PlotSeries</dt><dd><p>Generates basic time-series plots of dispatch results using Matplotlib.</p>
</dd>
<dt>Utils, Formatters, Reporting</dt><dd><p>Auxiliary modules for formatting, printing summaries, validating model structure,
and providing colored console outputs using Colorama.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The package is intentionally modular: each subsystem (Thermal, Hydro, Renewable, Storage)
can be activated or omitted via the YAML interface.</p></li>
<li><p>While conceptually aligned with DESSEM, the implementation is simplified and transparent,
allowing students and researchers to explore, extend, and test new ideas.</p></li>
<li><p>Extensions such as emission penalties, pumped storage, stochastic scenarios,
or multi-area coupling can be added atop this foundation.</p></li>
<li><p>Fully compatible with Pyomoâ€™s expressive modeling capabilities and solver interface.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="subpackages">
<h4>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">ïƒ</a></h4>
<div class="toctree-wrapper compound">
<span id="document-NaivePyDESSEM.HydraulicGenerator"></span><section id="naivepydessem-hydraulicgenerator-package">
<h5>NaivePyDESSEM.HydraulicGenerator package<a class="headerlink" href="#naivepydessem-hydraulicgenerator-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDESSEM.HydraulicGenerator">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Hydraulic Generation Modeling (HydraulicGenerator)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">HydraulicGenerator</span></code> package provides a modular framework for modeling
hydropower systems in Pyomo-based dispatch and unit commitment models. It
includes flexible hydropower production functions (FPH), reservoir balance
constraints, and terminal storage requirements.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>HydraulicDataTypes</dt><dd><p>Dataclasses defining hydropower unit and system-wide data.</p>
</dd>
<dt>HydraulicVars</dt><dd><p>Initialization routines for Pyomo sets, parameters, and variables.</p>
</dd>
<dt>HydraulicConstraints</dt><dd><p>Constraint builders (generation, reservoir balance, SoC limits, targets).</p>
</dd>
<dt>HydraulicObjectives</dt><dd><p>Objective function definitions for hydro-only models.</p>
</dd>
<dt>HydraulicGeneratorBuilder</dt><dd><p>High-level routines to assemble complete hydropower dispatch models.</p>
</dd>
<dt>ConstantProductivityFPH</dt><dd><p>Simple FPH based on constant productivity.</p>
</dd>
<dt>SimplifiedConstantProductivityFPH</dt><dd><p>Didactic constant productivity model (simplified).</p>
</dd>
<dt>PEFPH</dt><dd><p>Semi-exact FPH with net head representation.</p>
</dd>
<dt>ExactFPH</dt><dd><p>Full DESSEM-style FPH with head- and flow-dependent terms.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Multiple FPH modes are supported (constant, simplified, specific, exact).</p></li>
<li><p>Reservoir mass balance constraints ensure intertemporal consistency.</p></li>
<li><p>Designed for interoperability with Thermal, Renewable, and Storage packages
in hybrid models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.ConstantProductivityFPH">
<span id="naivepydessem-hydraulicgenerator-constantproductivityfph-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.ConstantProductivityFPH module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.ConstantProductivityFPH" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Constant Productivity FPH Function</p>
<section id="id2">
<h6 aria-level="7">Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6 aria-level="7">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>This module provides a simplified hydroelectric production function (FPH)
for use in short-term operation and dispatch models. The generation is
assumed to be proportional to the turbine discharge, scaled by a constant
productivity factor.</p>
<p>The formulation is expressed as:</p>
<blockquote>
<div><p>FPH(Q) = zeta * P * Q</p>
</div></blockquote>
<p>where:
- Q     : turbine discharge (m^3/s)
- P     : global productivity coefficient (dimensionless)
- zeta  : unit conversion constant (e.g., 9.81 / 1000 to convert to MW)</p>
<p>This approximation is particularly useful in didactic or preliminary
planning contexts where detailed head-dependent modeling is unnecessary.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.ConstantProductivityFPH.constant_productivity_fph">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.ConstantProductivityFPH.</span></span><span class="sig-name descname"><span class="pre">constant_productivity_fph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">P</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.ConstantProductivityFPH.constant_productivity_fph" title="Link to this definition">ïƒ</a></dt>
<dd><p>Factory for a constant-productivity hydroelectric generation function.</p>
<p>Constructs a callable object representing the simplified FPH
relationship:</p>
<blockquote>
<div><p>FPH(Q) = zeta * P * Q</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>P</strong> (<em>float</em>) â€“ Constant productivity coefficient (dimensionless).</p></li>
<li><p><strong>zeta</strong> (<em>float</em>) â€“ Conversion constant (e.g., 9.81 / 1000 to scale to MW).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A function of the form <code class="docutils literal notranslate"><span class="pre">f(Q)</span> <span class="pre">=</span> <span class="pre">zeta</span> <span class="pre">*</span> <span class="pre">P</span> <span class="pre">*</span> <span class="pre">Q</span></code>, which accepts
the turbine discharge (Q) in m^3/s and returns the generation
in MW.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">constant_productivity_fph</span><span class="p">(</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">9.81</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">0.8829</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.ExactFPH">
<span id="naivepydessem-hydraulicgenerator-exactfph-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.ExactFPH module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.ExactFPH" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Hydropower Dispatch with Exact FPH Model</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>Implements an exact-form hydropower production function (FPH) aligned with
the DESSEM methodology. The model uses polynomial (or polynomial-like)
approximations for four building blocks:</p>
<ul class="simple">
<li><p>Specific productivity,       rho(Q, h_liq)</p></li>
<li><p>Upstream water head,         h_mont(V)</p></li>
<li><p>Downstream water head,       h_jus(Q + S)</p></li>
<li><p>Hydraulic losses,            h_perdas(Q)</p></li>
</ul>
<p>The electrical power is computed as</p>
<blockquote>
<div><p>FPH(Q, V, S) = rho(Q, h_liq) * Q * h_liq,</p>
</div></blockquote>
<p>where the net head is</p>
<blockquote>
<div><p>h_liq = h_mont(V) - h_jus(Q + S) - h_perdas(Q).</p>
</div></blockquote>
<p>Variables and units:
- Q : turbine discharge (m^3/s)
- V : reservoir volume (hm^3)
- S : spill discharge (m^3/s)
- FPH : electrical power (MW), assuming consistent scaling inside <cite>rho</cite></p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The exact physical fidelity depends on the quality and calibration of the
polynomials/surrogates provided to the factories.</p></li>
<li><p>Unit consistency is essential: typical conversions use zeta = 9.81/1000
within <cite>rho</cite> (or within head-to-power mapping) to yield MW.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.ExactFPH.fph_factory">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.ExactFPH.</span></span><span class="sig-name descname"><span class="pre">fph_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rho_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hmont_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hjus_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hperdas_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.ExactFPH.fph_factory" title="Link to this definition">ïƒ</a></dt>
<dd><p>Compose the exact hydropower generation function (FPH) from components.</p>
<p>The assembled function computes</p>
<blockquote>
<div><p>FPH(Q, V, S) = rho(Q, h_liq) * Q * h_liq,</p>
</div></blockquote>
<p>with net head</p>
<blockquote>
<div><p>h_liq = h_mont(V) - h_jus(Q + S) - h_perdas(Q).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rho_func</strong> (<em>Callable</em>) â€“ Specific productivity surface <code class="docutils literal notranslate"><span class="pre">rho(Q,</span> <span class="pre">h_liq)</span></code>; e.g., from
<a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.ExactFPH.rho_colina_factory" title="NaivePyDESSEM.HydraulicGenerator.ExactFPH.rho_colina_factory"><code class="xref py py-func docutils literal notranslate"><span class="pre">rho_colina_factory()</span></code></a>.</p></li>
<li><p><strong>hmont_func</strong> (<em>Callable</em>) â€“ Upstream head function <code class="docutils literal notranslate"><span class="pre">h_mont(V)</span></code> mapping reservoir volume to head.</p></li>
<li><p><strong>hjus_func</strong> (<em>Callable</em>) â€“ Downstream head function <code class="docutils literal notranslate"><span class="pre">h_jus(Q</span> <span class="pre">+</span> <span class="pre">S)</span></code> mapping total discharge to
tailwater level.</p></li>
<li><p><strong>hperdas_func</strong> (<em>Callable</em>) â€“ Hydraulic-loss function <code class="docutils literal notranslate"><span class="pre">h_perdas(Q)</span></code> mapping discharge to losses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Function <code class="docutils literal notranslate"><span class="pre">FPH(Q,</span> <span class="pre">V,</span> <span class="pre">S)</span></code> returning generation in MW (given consistent
units and scaling inside the components).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rho</span> <span class="o">=</span> <span class="n">rho_colina_factory</span><span class="p">([</span><span class="mf">0.88</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">,</span> <span class="mf">1e-4</span><span class="p">,</span> <span class="o">-</span><span class="mf">5e-5</span><span class="p">,</span> <span class="o">-</span><span class="mf">2e-5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h_mont</span>   <span class="o">=</span> <span class="n">polynomial_factory</span><span class="p">([</span><span class="mi">400</span><span class="p">])</span>                  <span class="c1"># constant upstream head</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h_jus</span>    <span class="o">=</span> <span class="n">polynomial_factory</span><span class="p">([</span><span class="mi">300</span><span class="p">])</span>                  <span class="c1"># constant downstream head</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h_perdas</span> <span class="o">=</span> <span class="n">polynomial_factory</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1e-5</span><span class="p">])</span>       <span class="c1"># losses ~ 1e-5 * Q^2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fph</span> <span class="o">=</span> <span class="n">fph_factory</span><span class="p">(</span><span class="n">rho</span><span class="p">,</span> <span class="n">h_mont</span><span class="p">,</span> <span class="n">h_jus</span><span class="p">,</span> <span class="n">h_perdas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">fph</span><span class="p">(</span><span class="n">Q</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">V</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">rho_func</span></code> and the head functions use consistent units
so that the product yields MW.</p></li>
<li><p>The returned function is suitable for use inside Pyomo expressions.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.ExactFPH.polynomial_factory">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.ExactFPH.</span></span><span class="sig-name descname"><span class="pre">polynomial_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coefs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.ExactFPH.polynomial_factory" title="Link to this definition">ïƒ</a></dt>
<dd><p>Create a univariate polynomial function from coefficients.</p>
<p>The resulting polynomial is</p>
<blockquote>
<div><p>f(x) = c_0 + c_1 x + c_2 xÂ² + â€¦ + c_n xâ¿,</p>
</div></blockquote>
<p>with coefficients given in increasing order of degree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coefs</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Polynomial coefficients [c_0, c_1, â€¦, c_n] in ascending degree.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Function <code class="docutils literal notranslate"><span class="pre">f(x)</span></code> that evaluates the polynomial at a scalar <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">polynomial_factory</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>  <span class="c1"># 2 + 3x + 0.5 x^2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">2.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.ExactFPH.rho_colina_factory">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.ExactFPH.</span></span><span class="sig-name descname"><span class="pre">rho_colina_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coefs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.009810000000000001</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.ExactFPH.rho_colina_factory" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build a colina-type specific productivity surface rho(Q, h_liq).</p>
<p>The parametric surface follows</p>
<blockquote>
<div><dl class="simple">
<dt>rho(Q, h_liq) = zeta * (rho0</dt><dd><ul class="simple">
<li><p>rho1 * Q</p></li>
<li><p>rho2 * h_liq</p></li>
<li><p>rho3 * Q * h_liq</p></li>
<li><p>rho4 * Q^2</p></li>
<li><p>rho5 * h_liq^2)</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coefs</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Six coefficients [rho0, rho1, rho2, rho3, rho4, rho5] for the bilinear/
quadratic surface fitted to efficiency/productivity data.</p></li>
<li><p><strong>zeta</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Unit conversion/scaling constant (default 9.81/1000), typically chosen
so that the final FPH is expressed in MW.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Function <code class="docutils literal notranslate"><span class="pre">rho(Q,</span> <span class="pre">h_liq)</span></code> returning specific productivity consistent
with the downstream power computation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rho</span> <span class="o">=</span> <span class="n">rho_colina_factory</span><span class="p">([</span><span class="mf">0.88</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">,</span> <span class="mf">1e-4</span><span class="p">,</span> <span class="o">-</span><span class="mf">5e-5</span><span class="p">,</span> <span class="o">-</span><span class="mf">2e-5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rho</span><span class="p">(</span><span class="n">Q</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">hliq</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span>  
<span class="gp">...</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Raises <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the coefficient list length is not 6.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints">
<span id="naivepydessem-hydraulicgenerator-hydraulicconstraints-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints" title="Link to this heading">ïƒ</a></h6>
<section id="hydropower-constraints-module-for-multi-mode-generation-modeling">
<h6 aria-level="7">Hydropower Constraints Module for Multi-Mode Generation Modeling<a class="headerlink" href="#hydropower-constraints-module-for-multi-mode-generation-modeling" title="Link to this heading">ïƒ</a></h6>
<p>This module implements hydropower-related constraints for Unit Commitment
and Dispatch models in Pyomo. It supports multiple representations of the
hydraulic production function (FPH), including constant productivity,
specific productivity (fixed head), simplified polynomial approximations,
and exact head-dependent formulations.</p>
<p>The functions herein enforce:
- Generation computation using plant-specific FPH callables;
- Reservoir mass balance via continuity constraints;
- Upstream water aggregation for cascaded systems (no travel time);
- Final storage requirements;
- System-wide demand balance for hydropower-only settings.</p>
<p>Each hydropower mode (constant, specific, exact, simplified) must be
associated with a callable set in the model attribute m.hydro_FPH[h].
The upstream connectivity and inflows must be available as
m.hydro_upstreams[h] and m.hydro_afluencia[h][t-1], respectively.
This module assumes <strong>no routing delay</strong> between cascaded plants.</p>
<p>This interface is compatible with Pyomo-based MILP/MIQP dispatch models
and is intended to interoperate cleanly with thermal subsystems when a
combined balance is used elsewhere.</p>
<section id="imported-dependencies">
<h6 aria-level="8">Imported Dependencies<a class="headerlink" href="#imported-dependencies" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>pyomo.environ.Constraint</p></li>
</ul>
</section>
<section id="functions">
<h6 aria-level="8">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>add_hydro_generation_constraint(m)</p></li>
<li><p>hydro_total_inflow_expr(m, h, t)</p></li>
<li><p>add_hydro_qmin_constraint(m)</p></li>
<li><p>add_hydro_qmax_constraint(m)</p></li>
<li><p>add_hydro_volume_continuity_constraint(m)</p></li>
<li><p>add_hydro_volume_meta_constraint(m)</p></li>
<li><p>add_hydro_volume_max_constraint(m)</p></li>
<li><p>add_hydro_volume_mim_constraint(m)</p></li>
<li><p>add_hydro_balance_constraint(m)</p></li>
</ul>
</section>
<section id="model-requirements">
<h6 aria-level="8">Model Requirements<a class="headerlink" href="#model-requirements" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>Sets</dt><dd><p>m.HG : hydropower units
m.T  : time periods</p>
</dd>
<dt>Variables</dt><dd><p>m.hydro_V[h,t] : storage volume (hm^3)
m.hydro_Q[h,t] : turbined discharge (m^3/s)
m.hydro_S[h,t] : spill discharge (m^3/s)
m.hydro_G[h,t] : hydropower generation (MW)
m.D[t]         : deficit (MW), if used</p>
</dd>
<dt>Parameters</dt><dd><p>m.hydro_zeta_vol : flow-to-volume converter per period (e.g., 3600/1e6)
m.hydro_Vini[h]  : initial storage (hm^3)
m.hydro_Vmeta[h] : terminal storage target (hm^3)
m.hydro_Vmin[h]  : minimum storage (hm^3)
m.hydro_Vmax[h]  : maximum storage (hm^3)
m.hydro_afluencia[h][t-1] : natural inflow (m^3/s), 0-based external array
m.hydro_upstreams[h]      : collection of upstream units for h
m.hydro_FPH[h]            : callable FPH(Q,V,S) =&gt; MW
m.hydro_compute_total_inflow[h] : bool flag to aggregate upstream releases
m.horizon : last period index, if used for terminal constraints
m.d[t]    : demand (MW), if hydropower-only balance is applied</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_balance_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_balance_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_balance_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add hydropower-only system balance constraints.</p>
<dl class="simple">
<dt>For each time period t:</dt><dd><p>sum_h m.hydro_G[h,t] + m.D[t] == m.d[t].</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Model with variables m.hydro_G[h,t], m.D[t] and parameter m.d[t],
and sets m.HG, m.T.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint block m.hydro_balance_constraint enforcing balance per period.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.base.constraint.Constraint</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is intended for pure hydropower settings. If thermal generation is present,
a combined (hydro + thermal) balance should be used instead.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_generation_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_generation_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_generation_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add hydropower generation constraints using plant-specific FPH callables.</p>
<p>For each hydropower unit and time period, this constraint enforces</p>
<p>m.hydro_G[h, t] == m.hydro_FPH[h](m.hydro_Q[h, t], m.hydro_V[h, t], m.hydro_S[h, t])</p>
<p>The callable m.hydro_FPH[h] may represent:</p>
<ul class="simple">
<li><p>Constant productivity</p></li>
<li><p>Specific productivity with fixed head</p></li>
<li><p>Exact head-dependent model (possibly nonlinear)</p></li>
<li><p>Simplified approximations</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Pyomo model containing hydraulic variables and callables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint block m.hydro_generation_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.base.PyomoModel.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Ensure unit consistency across the callable and model variables so that
the right-hand side yields MW.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_qmax_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_qmax_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_qmax_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add maximum turbined flow constraint.</p>
<p>Ensures that, for each hydro unit and period,
m.hydro_Q[h,t] &lt;= m.hydro_Qmax[h].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with variables/parameters:
m.hydro_Q[h,t], m.hydro_Qmax[h]; sets m.HG, m.T.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Model with constraint block m.hydro_qmax_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_qmin_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_qmin_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_qmin_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add minimum turbined flow constraint.</p>
<p>Ensures that, for each hydro unit and period,
m.hydro_Q[h,t] &gt;= m.hydro_Qmin[h].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with variables/parameters:
m.hydro_Q[h,t], m.hydro_Qmin[h]; sets m.HG, m.T.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Model with constraint block m.hydro_qmin_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_continuity_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_volume_continuity_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_continuity_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add reservoir mass balance (water continuity) constraints.</p>
<p>Updates stored volume using natural + upstream inflows (no delay),
turbined discharge, and spill. Uses the initial storage at the first
period.</p>
<dl class="simple">
<dt>For each (h, t):</dt><dd><dl class="simple">
<dt>if t == 1:</dt><dd><dl class="simple">
<dt>m.hydro_V[h,1] == m.hydro_Vini[h]</dt><dd><ul class="simple">
<li><p>m.hydro_zeta_vol * (Inflow(h,1) - Q[h,1] - S[h,1])</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>else:</dt><dd><dl class="simple">
<dt>m.hydro_V[h,t] == m.hydro_V[h,t-1]</dt><dd><ul class="simple">
<li><p>m.hydro_zeta_vol * (Inflow(h,t) - Q[h,t] - S[h,t])</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Model with variables m.hydro_V, m.hydro_Q, m.hydro_S,
sets m.HG, m.T, and parameters
m.hydro_zeta_vol, m.hydro_Vini. Inflow is given by
<a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.hydro_total_inflow_expr" title="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.hydro_total_inflow_expr"><code class="xref py py-func docutils literal notranslate"><span class="pre">hydro_total_inflow_expr()</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint block m.hydro_volume_balance_constraint added to the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.expr.relational.EqualityExpression</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>m.hydro_zeta_vol converts flow (m^3/s) into volume (hm^3) over one period
(e.g., 3600 / 1e6 for hourly steps).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_max_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_volume_max_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_max_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add maximum storage constraints.</p>
<dl class="simple">
<dt>For all (h, t):</dt><dd><p>m.hydro_V[h,t] &lt;= m.hydro_Vmax[h].</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Model with variable m.hydro_V and parameter m.hydro_Vmax.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint block m.hydro_volume_maximal_constraint added to the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.expr.relational.InequalityExpression</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_meta_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_volume_meta_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_meta_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add terminal storage target constraints.</p>
<dl class="simple">
<dt>Enforces a minimum end-of-horizon storage for each plant:</dt><dd><p>m.hydro_V[h, m.horizon] &gt;= m.hydro_Vmeta[h].</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Model with variable m.hydro_V, parameter m.hydro_Vmeta,
and an integer m.horizon indicating the last period.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint block m.hydro_volume_meta_constraint added to the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.expr.relational.InequalityExpression</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_mim_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_volume_mim_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_mim_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add minimum storage constraints.</p>
<dl class="simple">
<dt>For all (h, t):</dt><dd><p>m.hydro_V[h,t] &gt;= m.hydro_Vmin[h].</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Model with variable m.hydro_V and parameter m.hydro_Vmin.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint block m.hydro_volume_minimal_constraint added to the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.expr.relational.InequalityExpression</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function name includes mim for historical reasons; the constraint
enforces a <strong>minimum</strong> volume at each time period.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.hydro_total_inflow_expr">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">hydro_total_inflow_expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicConstraints.hydro_total_inflow_expr" title="Link to this definition">ïƒ</a></dt>
<dd><p>Compute instantaneous total inflow without travel time.</p>
<p>The returned expression equals the sum of:</p>
<ol class="loweralpha simple">
<li><p>natural inflow to plant h at period t, plus</p></li>
<li><p>releases (turbined flow + spill) from all immediate upstream plants
during the <strong>same</strong> period t (no routing delay).</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Pyomo model providing variables m.hydro_Q, m.hydro_S and
parameters/containers m.hydro_afluencia, m.hydro_upstreams,
and the boolean flag m.hydro_compute_total_inflow[h].</p></li>
<li><p><strong>h</strong> (<em>hashable</em>) â€“ Plant identifier (element of m.HG).</p></li>
<li><p><strong>t</strong> (<em>int</em>) â€“ Time period (element of m.T). External arrays are 0-based,
hence access via t-1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pyomo expression for the total inflow to plant h at time t.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.expr.numeric_expr.ExpressionBase</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function assumes <strong>no travel time</strong> between cascaded plants. If
routing is relevant, replace this expression with a routed inflow model.</p>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes">
<span id="naivepydessem-hydraulicgenerator-hydraulicdatatypes-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes" title="Link to this heading">ïƒ</a></h6>
<section id="hydraulic-system-data-classes-for-reservoir-optimization">
<h6 aria-level="7">Hydraulic System Data Classes for Reservoir Optimization<a class="headerlink" href="#hydraulic-system-data-classes-for-reservoir-optimization" title="Link to this heading">ïƒ</a></h6>
<p>This module defines data classes for modeling structural and operational
characteristics of hydroelectric systems in short-term dispatch and
unit-commitment studies. The classes are designed to serve as a clean
interface between problem data and Pyomo-based optimization models.</p>
<section id="overview">
<h6 aria-level="8">Overview<a class="headerlink" href="#overview" title="Link to this heading">ïƒ</a></h6>
<p>Two classes are provided:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code>: describes a single hydro plant, including storage bounds,
turbined-flow limits, initial/terminal volumes, natural inflows, cascade
topology, and optional coefficients for alternative FPH (hydropower
production function) modes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HydraulicData</span></code>: encapsulates system-wide information such as planning
horizon, hourly demand, plant map, and conversion/penalty constants.</p></li>
</ul>
</section>
<section id="conventions-and-units">
<h6 aria-level="8">Conventions and Units<a class="headerlink" href="#conventions-and-units" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time is discretized in periods <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">â€¦,</span> <span class="pre">horizon</span></code> (integers).</p></li>
<li><p>Discharges (Q, S) are in m^3/s.</p></li>
<li><p>Storage volumes (V) are in hm^3.</p></li>
<li><p>Demand is in MW.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zeta</span></code> typically equals 9.81/1000 to convert head * flow to MW.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zeta_vol</span></code> converts flow (m^3/s) into volume (hm^3) over one period
(e.g., 3600/1e6 for hourly steps).</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Cascade routing: this data layer assumes <strong>no travel time</strong>. If routing
delays are relevant, they should be handled in the modeling layer.</p></li>
<li><p>The field <code class="docutils literal notranslate"><span class="pre">mode</span></code> is a selector for FPH modeling choices (e.g., constant,
specific, exact, simplified). The interpretation belongs to the modeling
code that consumes these data.</p></li>
<li><p>Optional vectors (<code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">rho</span></code>, <code class="docutils literal notranslate"><span class="pre">losses</span></code>) can parameterize
alternative FPH formulations; their semantics depend on the chosen mode.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.</span></span><span class="sig-name descname"><span class="pre">HydraulicData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit"><span class="pre">HydraulicUnit</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.009810000000000001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeta_vol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0036</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cdef</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>System-wide hydropower data for planning and dispatch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizon</strong> (<em>int</em>) â€“ Number of time periods in the planning horizon.</p></li>
<li><p><strong>demand</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) â€“ Mapping from period <code class="docutils literal notranslate"><span class="pre">t</span></code> (1-based) to system demand (MW).</p></li>
<li><p><strong>units</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit"><em>HydraulicUnit</em></a><em>]</em>) â€“ Map from plant name to its <code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code> data structure.</p></li>
<li><p><strong>zeta</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Conversion constant for headâ€“flow to power (typ. 9.81/1000). Default
is <code class="docutils literal notranslate"><span class="pre">9.81/1000</span></code>; ensure consistency with the FPH used.</p></li>
<li><p><strong>zeta_vol</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Flow-to-volume conversion over one period (hm^3 per (m^3/s)).
Default is <code class="docutils literal notranslate"><span class="pre">3600/1e6</span></code> for hourly steps.</p></li>
<li><p><strong>Cdef</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Penalty cost for unmet demand (R$/MWh), to be used by objectives in
optimization models. Default is <code class="docutils literal notranslate"><span class="pre">1000.0</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The dictionary <code class="docutils literal notranslate"><span class="pre">demand</span></code> is assumed to be 1-based (<code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1..horizon</span></code>).
If your data are 0-based, map them accordingly before constructing this
object.</p></li>
<li><p>The interpretation of <code class="docutils literal notranslate"><span class="pre">zeta</span></code> depends on where power conversion is
performed (inside the FPH callable or in the model).</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.Cdef">
<span class="sig-name descname"><span class="pre">Cdef</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.Cdef" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.demand" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit"><span class="pre">HydraulicUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.units" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.zeta">
<span class="sig-name descname"><span class="pre">zeta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.009810000000000001</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.zeta" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.zeta_vol">
<span class="sig-name descname"><span class="pre">zeta_vol</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0036</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData.zeta_vol" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.</span></span><span class="sig-name descname"><span class="pre">HydraulicUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Qmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Qmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vmeta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vini</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">afluencia</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upstreams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rho</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">losses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pe</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_total_inflow</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Hydropower plant data container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) â€“ Unique identifier of the hydro plant.</p></li>
<li><p><strong>Qmin</strong> (<em>float</em>) â€“ Minimum allowed turbined flow (m^3/s).</p></li>
<li><p><strong>Qmax</strong> (<em>float</em>) â€“ Maximum allowed turbined flow (m^3/s).</p></li>
<li><p><strong>Vmin</strong> (<em>float</em>) â€“ Minimum storage volume (hm^3).</p></li>
<li><p><strong>Vmax</strong> (<em>float</em>) â€“ Maximum storage volume (hm^3).</p></li>
<li><p><strong>Vmeta</strong> (<em>float</em>) â€“ Terminal target storage at the end of the horizon (hm^3).</p></li>
<li><p><strong>Vini</strong> (<em>float</em>) â€“ Initial storage volume at the beginning of the horizon (hm^3).</p></li>
<li><p><strong>afluencia</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Natural inflow time series (m^3/s); external, 0-based list aligned
with model periods (accessed as <code class="docutils literal notranslate"><span class="pre">afluencia[t-1]</span></code>).</p></li>
<li><p><strong>upstreams</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) â€“ List of immediate upstream plant names that feed this unit.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> (treated as no upstreams).</p></li>
<li><p><strong>a</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) â€“ Optional coefficient vector associated with an FPH/head submodel
(semantics defined by the chosen <code class="docutils literal notranslate"><span class="pre">mode</span></code>).</p></li>
<li><p><strong>b</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) â€“ Optional coefficient vector associated with an FPH/head submodel
(semantics defined by the chosen <code class="docutils literal notranslate"><span class="pre">mode</span></code>).</p></li>
<li><p><strong>rho</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) â€“ Optional weights/coefficients for specific productivity surfaces
(e.g., colina-type fits), depending on the <code class="docutils literal notranslate"><span class="pre">mode</span></code>.</p></li>
<li><p><strong>losses</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) â€“ Optional coefficients for hydraulic-loss approximations.</p></li>
<li><p><strong>pe</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Specific productivity coefficient (dimensionless multiplier used in
simplified models).</p></li>
<li><p><strong>p</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Global productivity coefficient (used in constant/simplified models;
unit interpretation depends on how head is handled in the FPH).</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Generation-mode selector. Valid options include
{â€œconstantâ€, â€œspecificâ€, â€œexactâ€, â€œsimplifiedâ€}.
Default is â€œconstantâ€.</p></li>
<li><p><strong>compute_total_inflow</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, total inflow will include upstream releases in addition
to exogenous natural inflow in expressions that support it.
Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The presence and interpretation of the optional vectors (<code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>,
<code class="docutils literal notranslate"><span class="pre">rho</span></code>, <code class="docutils literal notranslate"><span class="pre">losses</span></code>) are <strong>model-dependent</strong> and only take effect if
the consuming code uses them for the selected <code class="docutils literal notranslate"><span class="pre">mode</span></code>.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmax">
<span class="sig-name descname"><span class="pre">Qmax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmax" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmin">
<span class="sig-name descname"><span class="pre">Qmin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmin" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vini">
<span class="sig-name descname"><span class="pre">Vini</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vini" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmax">
<span class="sig-name descname"><span class="pre">Vmax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmax" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmeta">
<span class="sig-name descname"><span class="pre">Vmeta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmeta" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmin">
<span class="sig-name descname"><span class="pre">Vmin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmin" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.a">
<span class="sig-name descname"><span class="pre">a</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.a" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.afluencia">
<span class="sig-name descname"><span class="pre">afluencia</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.afluencia" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.b">
<span class="sig-name descname"><span class="pre">b</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.b" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.compute_total_inflow">
<span class="sig-name descname"><span class="pre">compute_total_inflow</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.compute_total_inflow" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.losses">
<span class="sig-name descname"><span class="pre">losses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.losses" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'constant'</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.mode" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.p">
<span class="sig-name descname"><span class="pre">p</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.p" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.pe">
<span class="sig-name descname"><span class="pre">pe</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.pe" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.rho">
<span class="sig-name descname"><span class="pre">rho</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.rho" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.upstreams">
<span class="sig-name descname"><span class="pre">upstreams</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.upstreams" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.HydraulicEquations">
<span id="naivepydessem-hydraulicgenerator-hydraulicequations-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.HydraulicEquations module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.HydraulicEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Hydraulic Model Expression Utilities for Pyomo Optimization</p>
<section id="id6">
<h6 aria-level="7">Author<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id7">
<h6 aria-level="7">Description<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to energy hydraulic systems in Pyomo-based optimization models.
These expressions can be incrementally assembled and integrated into
constraints (e.g., energy balance) or cost functions (e.g.,
generation costs).</p>
<p>The functions are designed to support modular model construction and
hybrid system integration. They can be used in conjunction with other
technology modules (e.g., thermal, hydro, renewable) to build power
balance constraints and system-wide cost objectives.</p>
<p>All expressions are symbolic and compatible with Pyomoâ€™s modeling
framework. Each function includes safeguards to ensure that required
model components exist before attempting to generate expressions.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To append hydraulic-related cost and energy balance expressions to lists
that contribute to the overall objective function and constraint set.</p></li>
<li><p>To modularize and standardize hydraulic modeling across different hybrid
energy system configurations.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_hydraulic_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_hydraulic_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_array</span><span class="o">=</span><span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">HydraulicBalance</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This module assumes that hydraulic behavior is modeled using variables such as
<cite>hydro_G</cite>.</p></li>
<li><p>The structure is compatible with Pyomoâ€™s ConstraintList and indexed Constraint(T).</p></li>
<li><p>Expressions are constructed incrementally and can be combined with other
sources (e.g., thermal, renewable) in hybrid dispatch models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023..</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicEquations.add_hydraulic_balance_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicEquations.</span></span><span class="sig-name descname"><span class="pre">add_hydraulic_balance_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicEquations.add_hydraulic_balance_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append hydroelectric generation terms at time t to the power balance expression list.</p>
<p>This function constructs a symbolic expression representing the total hydroelectric
power generation at a given time step <cite>t</cite>, summed over all hydro units defined
in the model. The resulting expression can be integrated into modular power
balance constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing hydro generation variables.</p></li>
<li><p><strong>t</strong> (<em>int</em>) â€“ Time index at which the hydro contribution is evaluated.</p></li>
<li><p><strong>balance_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions representing components of the power balance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list including the hydro generation term at time t.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The model is expected to contain:
â€˜HGâ€™ (set of hydro units), â€˜Tâ€™ (time set), and â€˜hydro_Gâ€™ (generation variable).</p></li>
<li><p>The function returns the input list unchanged if any component is missing.</p></li>
<li><p>This function is designed for integration into hybrid dispatch frameworks
that include thermal, hydraulic, and renewable sources.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicEquations.add_hydraulic_cost_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicEquations.</span></span><span class="sig-name descname"><span class="pre">add_hydraulic_cost_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicEquations.add_hydraulic_cost_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append hydroelectric generation cost terms to the total cost expression list.</p>
<p>This function serves as a placeholder for incorporating cost components
associated with hydroelectric operation into the objective function.
Although hydro generation typically has negligible marginal cost,
certain formulations may include opportunity costs, spill penalties,
or environmental constraints as cost terms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing hydroelectric generation variables.</p></li>
<li><p><strong>cost_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions used in constructing the total system cost.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The input list, optionally extended with hydro-related cost expressions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>In many cases, this function may return the original list unchanged.</p></li>
<li><p>It may be extended to include penalties for deviation from targets,
reservoir violations, or environmental compensation.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder">
<span id="naivepydessem-hydraulicgenerator-hydraulicgeneratorbuilder-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder" title="Link to this heading">ïƒ</a></h6>
<section id="hydropower-dispatch-model-builder">
<h6 aria-level="7">Hydropower Dispatch Model Builder<a class="headerlink" href="#hydropower-dispatch-model-builder" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the construction logic for assembling a <strong>hydropower-only</strong>
optimization model in Pyomo. It integrates the full sequence of:</p>
<ul class="simple">
<li><p>Set and parameter initialization,</p></li>
<li><p>Decision variable declaration,</p></li>
<li><p>Piecewise or analytical hydropower production modeling (FPH),</p></li>
<li><p>Operational constraints,</p></li>
<li><p>Objective function (optional).</p></li>
</ul>
<section id="supported-generation-modes-per-unit">
<h6 aria-level="8">Supported generation modes (per unit)<a class="headerlink" href="#supported-generation-modes-per-unit" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Constant productivity</p></li>
<li><p>Specific productivity with fixed head</p></li>
<li><p>Exact head-dependent generation with nonlinear losses</p></li>
<li><p>Simplified constant productivity (didactic)</p></li>
</ul>
</section>
<section id="id8">
<h6 aria-level="8">Functions<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_FPHs(m, data)</dt><dd><p>Initialize the hydropower production function (FPH) callable for each unit.</p>
</dd>
<dt>build_hydro_dispatch(data, include_objective=True)</dt><dd><p>Assemble a complete Pyomo model for hydropower dispatch optimization.</p>
</dd>
</dl>
</section>
<section id="modeling-conventions-and-units">
<h6 aria-level="8">Modeling Conventions and Units<a class="headerlink" href="#modeling-conventions-and-units" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time periods are indexed as integers t = 1, â€¦, horizon.</p></li>
<li><p>Turbined and spill discharges (Q, S): m^3/s.</p></li>
<li><p>Storage volume (V): hm^3.</p></li>
<li><p>Power (G) and demand (d): MW.</p></li>
<li><p>Typical power conversion constant: zeta = 9.81/1000 (when used within FPH).</p></li>
<li><p>Volume conversion per period: zeta_vol = 3600/1e6 for hourly steps.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This builder targets <strong>pure hydropower</strong> systems. To include thermal units,
couple with a combined system balance elsewhere.</p></li>
<li><p>The callable stored in m.hydro_FPH[h] must accept the signature
FPH(Q, V, S) â†’ MW and be consistent with model units.</p></li>
<li><p>Exact and specific modes rely on coefficient vectors that parameterize
head or loss polynomials supplied via data.units[h].</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.add_hydro_problem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_hydro_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><span class="pre">HydraulicData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.add_hydro_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a hydropower dispatch problem in Pyomo.</p>
<p>This builder configures a Pyomo model for reservoir-based hydropower
optimization. It attaches sets, parameters, decision variables, the
hydropower production functions (FPHs), and all relevant operational
constraints. Optionally, it includes the demand balance and the
cost-minimization objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which the hydropower problem will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Input data object containing planning horizon, demand mapping,
unit definitions, inflows, storage bounds, and productivity
coefficients.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, add the system-wide demand balance and deficit-penalizing
objective function (default is False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated Pyomo model with hydropower sets, parameters, variables,
constraints, and optionally the objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Constraints added:</dt><dd><ul>
<li><p>Hydropower generation equation (FPH-based)</p></li>
<li><p>Minimum/maximum turbined flow</p></li>
<li><p>Reservoir volume balance (continuity)</p></li>
<li><p>Minimum/maximum storage limits</p></li>
<li><p>Terminal storage requirement</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>If include_objective=True, the system-wide balance constraint and
the hydropower objective (deficit + spill penalty) are attached.</p></li>
<li><p>This builder targets <strong>pure hydropower</strong> systems; for mixed
hydrothermal systems, a combined balance and objective should be
used instead.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">add_hydro_problem</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">include_objective</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;class &#39;pyomo.core.base.PyomoModel.ConcreteModel&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.build_FPHs">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_FPHs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><span class="pre">HydraulicData</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.build_FPHs" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initialize hydropower production functions (FPH) for all units.</p>
<p>For each hydro unit h, this function selects and constructs a callable
FPH according to the unitâ€™s declared mode (constant, simplified,
specific, or exact) and assigns it to m.hydro_FPH[h] with
the signature FPH(Q, V, S) =&gt; MW.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Pyomo model into which the FPH callables will be attached.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Configuration object containing unit maos and modes</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model m is modified in place. A dictionary m.hydro_FPH is
created, indexed by unit name, each entry being a callable of the form
FPH(Q, V, S).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><strong>constant</strong>: uses constant_productivity_fph(unit.p, data.zeta).</p></li>
<li><p><strong>simplified</strong>: uses simplified_constant_productivity_fph(unit.p).</p></li>
<li><p><strong>specific</strong>: uses fph_pe_factory(unit.pe, data.zeta, h_mont(.), h_jus(.)),
where h_mont and h_jus are built via polynomial_factory(unit.a)
and polynomial_factory(unit.b).</p></li>
<li><p><strong>exact</strong>: uses
fph_factory(rho(.), h_mont(.), h_jus(.), h_perdas(.)), where
rho = rho_colina_factory(unit.rho, data.zeta) and the three head/loss
components are built via polynomial_factory with the respective
coefficient lists.</p></li>
<li><p>Units with an unknown/unsupported mode raise ValueError.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.build_hydro_dispatch">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_hydro_dispatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDESSEM.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><span class="pre">HydraulicData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicGeneratorBuilder.build_hydro_dispatch" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a complete Pyomo model for hydropower dispatch.</p>
<p>The resulting model includes:</p>
<ul class="simple">
<li><p>Set and parameter definitions (via hydraulyc_add_sets_and_params)</p></li>
<li><p>Continuous decision variables (via hydralic_add_variables_g)</p></li>
<li><p>Per-unit FPH callables (via build_FPHs)</p></li>
<li><p>Operational constraints: generation equation, reservoir mass balance,
Qmin/Qmax, volume bounds, terminal storage target</p></li>
<li><p>Optional system-wide demand balance and cost-minimization objective</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Input data with horizon, demand, unit map, and conversion constants.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, add the hydropower balance constraint and define the
objective function. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Pyomo ConcreteModel ready to be passed to a solver.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.base.PyomoModel.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Designed for hydropower-only settings. For mixed hydro-thermal
systems, use an extended builder with a combined balance equation.</p></li>
<li><p>The order of operations ensures FPH callables are available before
generation constraints are added.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.HydraulicObjectives">
<span id="naivepydessem-hydraulicgenerator-hydraulicobjectives-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.HydraulicObjectives module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.HydraulicObjectives" title="Link to this heading">ïƒ</a></h6>
<section id="objective-function-for-pure-hydropower-dispatch">
<h6 aria-level="7">Objective Function for Pure Hydropower Dispatch<a class="headerlink" href="#objective-function-for-pure-hydropower-dispatch" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the objective for reservoir-based <strong>hydropower-only</strong>
optimization models. The objective minimizes (i) the total cost of unmet
energy (deficit) and (ii) a small penalty on water spillage to discourage
gratuitous releases, thereby promoting more efficient water usage.</p>
<section id="id9">
<h6 aria-level="8">Functions<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_hydro(m)</dt><dd><p>Attach a minimization objective to a Pyomo model that penalizes
deficit and spillage over the planning horizon.</p>
</dd>
</dl>
</section>
<section id="id10">
<h6 aria-level="8">Modeling Conventions and Units<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time periods: integers <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">â€¦,</span> <span class="pre">horizon</span></code>.</p></li>
<li><p>Deficit <code class="docutils literal notranslate"><span class="pre">D[t]</span></code>: MW (interpreted per-period, consistent with objective scaling).</p></li>
<li><p>Spill <code class="docutils literal notranslate"><span class="pre">hydro_S[h,t]</span></code>: m^3/s.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cdef</span></code>: $/MWh (ensure consistency with how deficit is modeled and aggregated).</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Designed for <strong>pure hydropower</strong> systems (no thermal generation).</p></li>
<li><p>The spillage penalty uses a fixed coefficient (0.3). Adjust as needed
to break degeneracy or steer solutions away from unnecessary spill.</p></li>
<li><p>Compatible with NaivePyDESSEM hydropower data and constraints.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicObjectives.set_objective_hydro">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicObjectives.</span></span><span class="sig-name descname"><span class="pre">set_objective_hydro</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicObjectives.set_objective_hydro" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the linear objective function for hydropower-only dispatch.</p>
<dl class="simple">
<dt>The objective minimizes:</dt><dd><ul class="simple">
<li><p>A deficit penalty: <code class="docutils literal notranslate"><span class="pre">Cdef</span> <span class="pre">*</span> <span class="pre">D[t]</span></code> summed over all periods;</p></li>
<li><p>A small spill penalty: <code class="docutils literal notranslate"><span class="pre">0.3</span> <span class="pre">*</span> <span class="pre">hydro_S[h,t]</span></code> summed over plants and periods.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Pyomo model containing:
- <code class="docutils literal notranslate"><span class="pre">m.D[t]</span></code>          : deficit at time <code class="docutils literal notranslate"><span class="pre">t</span></code> (MW),
- <code class="docutils literal notranslate"><span class="pre">m.hydro_S[h,t]</span></code>  : spill discharge (m^3/s),
- <code class="docutils literal notranslate"><span class="pre">m.T</span></code>             : time set,
- <code class="docutils literal notranslate"><span class="pre">m.HG</span></code>            : hydropower unit set,
- <code class="docutils literal notranslate"><span class="pre">m.Cdef</span></code>          : cost of unmet demand ( $/MWh ).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with objective <code class="docutils literal notranslate"><span class="pre">m.OBJ</span></code> attached.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The spill-penalty coefficient is fixed at <code class="docutils literal notranslate"><span class="pre">0.3</span></code> here as a mild
regularizer; tune it to match your studyâ€™s units and priorities.</p></li>
<li><p>If thermal units are present, use a combined objective instead.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.HydraulicVars">
<span id="naivepydessem-hydraulicgenerator-hydraulicvars-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.HydraulicVars module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.HydraulicVars" title="Link to this heading">ïƒ</a></h6>
<section id="hydropower-model-initialization-sets-parameters-and-variables">
<h6 aria-level="7">Hydropower Model Initialization: Sets, Parameters, and Variables<a class="headerlink" href="#hydropower-model-initialization-sets-parameters-and-variables" title="Link to this heading">ïƒ</a></h6>
<p>This module provides initialization routines for setting up the basic
sets, parameters, and continuous variables required by hydropower
optimization models in Pyomo. It accommodates multiple hydropower
generation modes, natural-inflow handling, and head-dependent power
relationships supplied elsewhere in the modeling stack.</p>
<section id="id11">
<h6 aria-level="8">Functions<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>hydraulyc_add_sets_and_params(m, data)</dt><dd><p>Initialize sets and model-level parameters/containers for hydropower units
and system-wide demand.</p>
</dd>
<dt>hydralic_add_variables_g(m)</dt><dd><p>Declare continuous decision variables for hydropower dispatch modeling.</p>
</dd>
</dl>
</section>
<section id="id12">
<h6 aria-level="8">Modeling Conventions and Units<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time periods are indexed as integers <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">â€¦,</span> <span class="pre">horizon</span></code>.</p></li>
<li><p>Turbined/Spill discharges (Q, S): m^3/s.</p></li>
<li><p>Storage volume (V): hm^3.</p></li>
<li><p>Demand and power (d, G): MW.</p></li>
<li><p>Typical period conversion for volume: <code class="docutils literal notranslate"><span class="pre">zeta_vol</span> <span class="pre">=</span> <span class="pre">3600/1e6</span></code> (hourly steps).</p></li>
<li><p>Typical headâ€“flowâ€“power conversion: <code class="docutils literal notranslate"><span class="pre">zeta</span> <span class="pre">=</span> <span class="pre">9.81/1000</span></code> (when used inside FPH).</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The argument <code class="docutils literal notranslate"><span class="pre">data</span></code> is expected to be an instance of <code class="docutils literal notranslate"><span class="pre">HydraulicData</span></code>,
where each unit is a <code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code>.</p></li>
<li><p>Some attributes attached to the model are plain Python containers
(e.g., dictionaries) rather than Pyomo <code class="docutils literal notranslate"><span class="pre">Param</span></code> objects, by design.</p></li>
<li><p>This module targets short-term planning models and is suitable for
integration into MILP/MIQP hydropower (or hydrothermal) formulations.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicVars.hydralic_add_variables_g">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicVars.</span></span><span class="sig-name descname"><span class="pre">hydralic_add_variables_g</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicVars.hydralic_add_variables_g" title="Link to this definition">ïƒ</a></dt>
<dd><p>Declare continuous decision variables for hydropower dispatch.</p>
<p>The following Pyomo variables are added to model <code class="docutils literal notranslate"><span class="pre">m</span></code>:
- <code class="docutils literal notranslate"><span class="pre">hydro_Q[h,t]</span></code> : turbined discharge (m^3/s)
- <code class="docutils literal notranslate"><span class="pre">hydro_V[h,t]</span></code> : storage volume (hm^3)
- <code class="docutils literal notranslate"><span class="pre">hydro_S[h,t]</span></code> : spill discharge (m^3/s)
- <code class="docutils literal notranslate"><span class="pre">hydro_G[h,t]</span></code> : hydropower generation (MW)
- <code class="docutils literal notranslate"><span class="pre">D[t]</span></code>         : system deficit (MW)</p>
<p>All variables are nonnegative and defined over the hydropower units and
the planning horizon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Pyomo model to which the decision variables will be attached.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model <code class="docutils literal notranslate"><span class="pre">m</span></code> with variables declared.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.base.PyomoModel.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Assumes that sets <code class="docutils literal notranslate"><span class="pre">m.HG</span></code> and <code class="docutils literal notranslate"><span class="pre">m.T</span></code> have been initialized previously.</p></li>
<li><p>Both <code class="docutils literal notranslate"><span class="pre">D</span></code> and <code class="docutils literal notranslate"><span class="pre">hydro_D</span></code> are provided to ease integration with
different objective/balance formulations; keep only the one you use.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.HydraulicVars.hydraulyc_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.HydraulicVars.</span></span><span class="sig-name descname"><span class="pre">hydraulyc_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.HydraulicVars.hydraulyc_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initialize hydropower sets and model-level parameters/containers.</p>
<p>Configures the Pyomo model <code class="docutils literal notranslate"><span class="pre">m</span></code> with time and hydropower unit sets,
system-level demand, and per-unit attributes such as flow limits,
storage bounds, initial/terminal storages, natural inflows, cascade
topology, and flags used by inflow aggregation. Values are sourced
from the <code class="docutils literal notranslate"><span class="pre">HydraulicData</span></code>/<code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code> objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Target Pyomo model to be populated with sets and parameters.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Input data object with planning horizon, demand mapping, and the
dictionary of hydropower units.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model <code class="docutils literal notranslate"><span class="pre">m</span></code> with initialized sets and parameters/containers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.base.PyomoModel.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>All plant-specific containers are indexed by the hydropower unit set
<code class="docutils literal notranslate"><span class="pre">m.HG</span></code>.</p></li>
<li><p>Time-varying arrays (e.g., <code class="docutils literal notranslate"><span class="pre">afluencia</span></code>) are assumed to be external,
0-based Python lists that are accessed as <code class="docutils literal notranslate"><span class="pre">[t-1]</span></code> inside constraints.</p></li>
<li><p>Some attributes (e.g., <code class="docutils literal notranslate"><span class="pre">m.hydro_Qmin</span></code>, <code class="docutils literal notranslate"><span class="pre">m.hydro_Vmax</span></code>) are plain
Python dictionaries attached to the model for convenience; others
(e.g., <code class="docutils literal notranslate"><span class="pre">m.d</span></code>, <code class="docutils literal notranslate"><span class="pre">m.hydro_zeta</span></code>) are Pyomo <code class="docutils literal notranslate"><span class="pre">Param</span></code> objects.</p></li>
<li><p>The attribute <code class="docutils literal notranslate"><span class="pre">m.horizon</span></code> stores the number of periods for quick access.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.PEFPH">
<span id="naivepydessem-hydraulicgenerator-pefph-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.PEFPH module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.PEFPH" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Semi-Exact Hydroelectric Generation Function (FPH) with Net Head</p>
<section id="id13">
<h6 aria-level="7">Author<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id14">
<h6 aria-level="7">Description<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<p>Defines a hydropower production function (FPH) that incorporates the net
hydraulic head via upstream and downstream water levels combined with a
constant specific productivity efficiency.</p>
<p>The FPH is given by</p>
<blockquote>
<div><p>FPH(Q, V, S) = zeta * PE * [ h_mont(V) - h_jus(Q + S) ] * Q,</p>
</div></blockquote>
<p>where:
- Q     : turbine discharge (m^3/s)
- V     : reservoir volume (hm^3)
- S     : spill discharge (m^3/s)
- PE    : specific productivity efficiency (dimensionless)
- zeta  : headâ€“flowâ€“power conversion constant (e.g., 9.81 / 1000 to yield MW)</p>
<p>This formulation approximates the physical power output of a hydro unit
while simplifying losses and other complex hydraulic interactions.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Unit consistency is essential for meaningful results (Q in m^3/s, head in m,
output in MW when using <code class="docutils literal notranslate"><span class="pre">zeta</span> <span class="pre">=</span> <span class="pre">9.81/1000</span></code>).</p></li>
<li><p>The downstream head depends on the total discharge <code class="docutils literal notranslate"><span class="pre">Q</span> <span class="pre">+</span> <span class="pre">S</span></code>, capturing
tailwater variations with flow.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.PEFPH.fph_pe_factory">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.PEFPH.</span></span><span class="sig-name descname"><span class="pre">fph_pe_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">PE</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hmont_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hjus_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.PEFPH.fph_pe_factory" title="Link to this definition">ïƒ</a></dt>
<dd><p>Factory for a semi-exact hydropower generation function with net head.</p>
<p>Builds a callable implementing</p>
<blockquote>
<div><p>FPH(Q, V, S) = zeta * PE * ( h_mont(V) - h_jus(Q + S) ) * Q.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>PE</strong> (<em>float</em>) â€“ Specific productivity efficiency (dimensionless).</p></li>
<li><p><strong>zeta</strong> (<em>float</em>) â€“ Headâ€“flowâ€“power conversion constant (e.g., 9.81 / 1000 to express power in MW).</p></li>
<li><p><strong>hmont_func</strong> (<em>Callable</em>) â€“ Function <code class="docutils literal notranslate"><span class="pre">h_mont(V)</span></code> mapping reservoir volume (hm^3) to upstream head (m).</p></li>
<li><p><strong>hjus_func</strong> (<em>Callable</em>) â€“ Function <code class="docutils literal notranslate"><span class="pre">h_jus(Q</span> <span class="pre">+</span> <span class="pre">S)</span></code> mapping total discharge (m^3/s) to downstream head (m).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Function <code class="docutils literal notranslate"><span class="pre">FPH(Q,</span> <span class="pre">V,</span> <span class="pre">S)</span></code> returning generation in MW.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ExactFPH</span><span class="w"> </span><span class="kn">import</span> <span class="n">polynomial_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">fph_pe_factory</span><span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">9.81</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">polynomial_factory</span><span class="p">([</span><span class="mi">400</span><span class="p">]),</span>
<span class="gp">... </span>                   <span class="n">polynomial_factory</span><span class="p">([</span><span class="mi">300</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2500</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">92.0</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">hmont_func</span></code> and <code class="docutils literal notranslate"><span class="pre">hjus_func</span></code> are calibrated so that
head values (m) and flows (m^3/s) combine consistently with <code class="docutils literal notranslate"><span class="pre">zeta</span></code>.</p></li>
<li><p>The returned callable is suitable for embedding in Pyomo expressions.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.HydraulicGenerator.SimplifiedConstantProductivityFPH">
<span id="naivepydessem-hydraulicgenerator-simplifiedconstantproductivityfph-module"></span><h6>NaivePyDESSEM.HydraulicGenerator.SimplifiedConstantProductivityFPH module<a class="headerlink" href="#module-NaivePyDESSEM.HydraulicGenerator.SimplifiedConstantProductivityFPH" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Simplified Constant Productivity FPH Function</p>
<section id="id15">
<h6 aria-level="7">Author<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id16">
<h6 aria-level="7">Description<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<p>Defines a simplified hydropower production function (FPH) for short-term
operation models. The generation is assumed to be proportional to turbine
discharge, scaled by a constant productivity coefficient.</p>
<p>The FPH is expressed as:</p>
<blockquote>
<div><p>FPH(Q) = P * Q</p>
</div></blockquote>
<p>where:
- Q : turbine discharge (m^3/s)
- P : global productivity coefficient (dimensionless)</p>
<p>This formulation is particularly useful for approximate dispatch models,
sensitivity analyses, or didactic examples that do not require head-dependent
hydraulic modeling.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Unlike the more detailed constant-productivity model, this simplified
function does not include the <code class="docutils literal notranslate"><span class="pre">zeta</span></code> scaling factor. If desired, the
conversion constant can be absorbed directly into <code class="docutils literal notranslate"><span class="pre">P</span></code> to yield MW.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.HydraulicGenerator.SimplifiedConstantProductivityFPH.simplified_constant_productivity_fph">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.HydraulicGenerator.SimplifiedConstantProductivityFPH.</span></span><span class="sig-name descname"><span class="pre">simplified_constant_productivity_fph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">P</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#NaivePyDESSEM.HydraulicGenerator.SimplifiedConstantProductivityFPH.simplified_constant_productivity_fph" title="Link to this definition">ïƒ</a></dt>
<dd><p>Factory for a simplified constant-productivity hydropower function.</p>
<p>Builds a callable implementing:</p>
<blockquote>
<div><p>FPH(Q) = P * Q</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>P</strong> (<em>float</em>) â€“ Constant productivity coefficient (dimensionless). If power output
should be in MW, incorporate the appropriate conversion constant
(e.g., 9.81 / 1000) into <code class="docutils literal notranslate"><span class="pre">P</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Function <code class="docutils literal notranslate"><span class="pre">f(Q,</span> <span class="pre">V,</span> <span class="pre">S)</span></code> returning generation as <code class="docutils literal notranslate"><span class="pre">P</span> <span class="pre">*</span> <span class="pre">Q</span></code>. The
arguments <code class="docutils literal notranslate"><span class="pre">V</span></code> and <code class="docutils literal notranslate"><span class="pre">S</span></code> are accepted for signature compatibility
but ignored in the calculation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">simplified_constant_productivity_fph</span><span class="p">(</span><span class="mf">0.9</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2500</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">90.0</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The returned callable is compatible with Pyomo expressions since it
accepts three arguments (Q, V, S), even though only <code class="docutils literal notranslate"><span class="pre">Q</span></code> is used.</p></li>
<li><p>Use this version when a head-independent linear mapping is sufficient.</p></li>
</ul>
</dd></dl>

</section>
</section>
<span id="document-NaivePyDESSEM.RenewableGenerator"></span><section id="naivepydessem-renewablegenerator-package">
<h5>NaivePyDESSEM.RenewableGenerator package<a class="headerlink" href="#naivepydessem-renewablegenerator-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDESSEM.RenewableGenerator">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDESSEM.RenewableGenerator" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Renewable Generation Modeling (RenewableGenerator)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>RenewableGenerator</strong> package provides a modular framework for modeling
renewable energy sources (e.g., wind and solar) in Pyomo-based dispatch and
unit commitment models. It includes standardized data types, sets, parameters,
variables, constraints, objectives, and builder functions.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>RenewableDataTypes</dt><dd><p>Dataclasses defining renewable units (e.g., expected generation profiles).</p>
</dd>
<dt>RenewableVars</dt><dd><p>Initialization routines for Pyomo sets, parameters, and variables.</p>
</dd>
<dt>RenewableConstraints</dt><dd><p>Constraint builders enforcing availability limits and system balance.</p>
</dd>
<dt>RenewableObjectives</dt><dd><p>Objective function definitions for renewable-only systems.</p>
</dd>
<dt>RenewableBuilder</dt><dd><p>High-level routines to assemble complete renewable generation models.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The renewable availability profiles (<strong>gbar</strong>) are treated as exogenous,
typically coming from forecasts.</p></li>
<li><p>The package is interoperable with the Hydro, Thermal, and Storage packages,
enabling hybrid model construction.</p></li>
<li><p>Consistent naming and structure ensure clarity and maintainability across
subsystems.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDESSEM.RenewableGenerator.RenewableConstraints">
<span id="naivepydessem-renewablegenerator-renewableconstraints-module"></span><h6>NaivePyDESSEM.RenewableGenerator.RenewableConstraints module<a class="headerlink" href="#module-NaivePyDESSEM.RenewableGenerator.RenewableConstraints" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Constraints</p>
<section id="id2">
<h6 aria-level="7">Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6 aria-level="7">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the operational constraints for renewable generation
within Pyomo-based unit commitment and dispatch models. It enforces both
the per-unit generation availability limits and the system-wide energy
balance when only renewable units and deficit are considered.</p>
</section>
<section id="functions">
<h6 aria-level="7">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_renewable_capacity_constraints(m)</dt><dd><p>Enforce that renewable generation for each unit and period does not
exceed the exogenous availability profile <code class="docutils literal notranslate"><span class="pre">gbar</span></code>.</p>
</dd>
<dt>add_renewable_balance_constraint(m)</dt><dd><p>Enforce the energy balance by equating total renewable generation
plus deficit to the system demand at each time period.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The capacity constraints guarantee that <code class="docutils literal notranslate"><span class="pre">renewable_gen[r,t]</span></code> is bounded
above by <code class="docutils literal notranslate"><span class="pre">renewable_gbar[r,t]</span></code>, which typically comes from forecasts.</p></li>
<li><p>The balance constraint is suitable for renewable-only models. In hybrid
models (thermal + hydro + renewables), a combined balance formulation
must be applied instead.</p></li>
<li><p>The deficit variable <code class="docutils literal notranslate"><span class="pre">D[t]</span></code> provides feasibility when renewable
generation cannot meet demand.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableConstraints.add_renewable_balance_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableConstraints.</span></span><span class="sig-name descname"><span class="pre">add_renewable_balance_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableConstraints.add_renewable_balance_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the system-wide energy balance constraint for renewable-only models.</p>
<p>Enforces, for each period <code class="docutils literal notranslate"><span class="pre">t</span></code>, that the total renewable generation
plus the deficit variable equals the system demand:</p>
<blockquote>
<div><p>sum_r renewable_gen[r,t] + D[t] == d[t]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model containing:
- Sets: <code class="docutils literal notranslate"><span class="pre">m.RU</span></code> (renewable units), <code class="docutils literal notranslate"><span class="pre">m.T</span></code> (time periods)
- Variables: <code class="docutils literal notranslate"><span class="pre">m.renewable_gen[r,t]</span></code> (MW), <code class="docutils literal notranslate"><span class="pre">m.D[t]</span></code> (MW, deficit)
- Parameters: <code class="docutils literal notranslate"><span class="pre">m.d[t]</span></code> (MW, demand)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with constraint block
<code class="docutils literal notranslate"><span class="pre">m.renewable_balance_constraint</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This balance assumes a system composed solely of renewable units
and deficit. For hybrid systems (hydro, thermal, renewables),
a combined balance constraint should be implemented.</p></li>
<li><p>The deficit variable <code class="docutils literal notranslate"><span class="pre">m.D[t]</span></code> allows feasibility in case
renewable generation is insufficient to meet demand.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableConstraints.add_renewable_capacity_constraints">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableConstraints.</span></span><span class="sig-name descname"><span class="pre">add_renewable_capacity_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableConstraints.add_renewable_capacity_constraints" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add renewable capacity (availability) constraints.</p>
<p>For each renewable unit <code class="docutils literal notranslate"><span class="pre">r</span></code> and time period <code class="docutils literal notranslate"><span class="pre">t</span></code>, the dispatched
renewable generation cannot exceed its available potential
(exogenous profile <code class="docutils literal notranslate"><span class="pre">gbar</span></code>):</p>
<blockquote>
<div><p>renewable_gen[r,t] &lt;= renewable_gbar[r,t]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model containing:
- Sets: <code class="docutils literal notranslate"><span class="pre">m.RU</span></code> (renewable units), <code class="docutils literal notranslate"><span class="pre">m.T</span></code> (time periods)
- Variables: <code class="docutils literal notranslate"><span class="pre">m.renewable_gen[r,t]</span></code> (MW)
- Parameters: <code class="docutils literal notranslate"><span class="pre">m.renewable_gbar[r,t]</span></code> (MW, availability profile)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with constraint block
<code class="docutils literal notranslate"><span class="pre">m.renewable_cap_constraint</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensures that renewable generation respects exogenous availability.</p></li>
<li><p>The availability parameter <code class="docutils literal notranslate"><span class="pre">m.renewable_gbar</span></code> is typically
initialized from forecast profiles or scenario data.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.RenewableGenerator.RenewableDataTypes">
<span id="naivepydessem-renewablegenerator-renewabledatatypes-module"></span><h6>NaivePyDESSEM.RenewableGenerator.RenewableDataTypes module<a class="headerlink" href="#module-NaivePyDESSEM.RenewableGenerator.RenewableDataTypes" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Generation Data Structures</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines lightweight data classes for representing renewable
generation units (e.g., wind and solar) and their aggregated system-level
data. These structures serve as standardized inputs for optimization
models of unit commitment and dispatch in Pyomo.</p>
</section>
<section id="classes">
<h6 aria-level="7">Classes<a class="headerlink" href="#classes" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>RenewableUnit</dt><dd><p>Encapsulates the characteristics of a single renewable unit, including
identifier and time-varying availability profile.</p>
</dd>
<dt>RenewableData</dt><dd><p>Aggregates renewable units with system-wide parameters such as horizon,
demand profile, and deficit penalty cost.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The exogenous availability profiles are represented as deterministic
time series (MW) and aligned with the planning horizon.</p></li>
<li><p>The classes are designed for seamless integration into Pyomo-based
optimization formulations, ensuring consistency with similar structures
for thermal and hydro subsystems.</p></li>
<li><p>Extend these classes as needed to incorporate stochastic scenarios or
uncertainty modeling for renewable availability.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.</span></span><span class="sig-name descname"><span class="pre">RenewableData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit"><span class="pre">RenewableUnit</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cdef</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>System-wide data structure for renewable generation modeling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizon</strong> (<em>int</em>) â€“ Number of periods in the planning horizon.</p></li>
<li><p><strong>demand</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) â€“ Mapping of each period <code class="docutils literal notranslate"><span class="pre">t</span></code> (1-based) to system demand (MW).</p></li>
<li><p><strong>units</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit"><em>RenewableUnit</em></a><em>]</em>) â€“ Dictionary mapping unit identifiers to their respective
<a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">RenewableUnit</span></code></a> objects.</p></li>
<li><p><strong>Cdef</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Penalty cost for unmet demand (R$/MWh), default is <code class="docutils literal notranslate"><span class="pre">1000.0</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">units</span></code> can include heterogeneous renewable technologies such as
wind turbines, photovoltaic plants, or run-of-river hydro, provided
they are represented by <a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">RenewableUnit</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cdef</span></code> defines the cost of deficit used in the optimization
objective when renewables are integrated into dispatch problems.</p></li>
<li><p>This class is typically consumed by Pyomo-based optimization models
for renewable-aware unit commitment or economic dispatch.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.Cdef">
<span class="sig-name descname"><span class="pre">Cdef</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.Cdef" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.demand" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit"><span class="pre">RenewableUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData.units" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.</span></span><span class="sig-name descname"><span class="pre">RenewableUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gbar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data container for a renewable generating unit (e.g., wind or solar).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) â€“ Unique identifier for the renewable unit (e.g., <code class="docutils literal notranslate"><span class="pre">'PV1'</span></code>, <code class="docutils literal notranslate"><span class="pre">'WTG3'</span></code>).</p></li>
<li><p><strong>gbar</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Time series of expected available generation (MW) for each
planning period. Typically derived from forecasts or
historical profiles.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The list <code class="docutils literal notranslate"><span class="pre">gbar</span></code> is assumed to have length equal to the system
planning horizon. Access is usually aligned as <code class="docutils literal notranslate"><span class="pre">gbar[t-1]</span></code> for
period <code class="docutils literal notranslate"><span class="pre">t</span></code> (1-based index).</p></li>
<li><p>Variability and uncertainty of renewables are represented through
this exogenous availability profile rather than decision variables.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit.gbar">
<span class="sig-name descname"><span class="pre">gbar</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit.gbar" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-NaivePyDESSEM.RenewableGenerator.RenewableEquations">
<span id="naivepydessem-renewablegenerator-renewableequations-module"></span><h6>NaivePyDESSEM.RenewableGenerator.RenewableEquations module<a class="headerlink" href="#module-NaivePyDESSEM.RenewableGenerator.RenewableEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Renewable Model Expression Utilities for Pyomo Optimization</p>
<section id="id6">
<h6 aria-level="7">Author<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id7">
<h6 aria-level="7">Description<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to renewable energy generation in Pyomo-based optimization models.
The expressions generated here can be used to assemble power balance
constraints and, when applicable, cost functions that include renewable
generation impacts such as curtailment penalties or contractual delivery.</p>
<p>The functions are designed to operate modularly, enabling integration
into hybrid models that combine thermal, hydro, storage, and renewable
sources in a unified dispatch or expansion framework.</p>
<p>Each function verifies the availability of required model components
before contributing expressions, allowing for flexible integration
without error propagation in partially defined models.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To support the incremental construction of power balance constraints
by including generation terms from renewable units.</p></li>
<li><p>To optionally incorporate renewable-related cost components, including
penalties or market mechanisms.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_renewable_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_renewable_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_array</span><span class="o">=</span><span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">PowerBalance</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This module assumes the existence of model components such as:
<cite>RU</cite> (set of renewable units), <cite>T</cite> (time set), and <cite>renewable_gen</cite> (generation variable).</p></li>
<li><p>Cost expressions are optional and can be enabled based on use case (e.g., curtailment penalties).</p></li>
<li><p>The symbolic expressions returned can be used with ConstraintList or Constraint(model.T).</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. (2023). IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica,  Lecture Notes EELT7030/UFPR.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableEquations.add_renewable_balance_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableEquations.</span></span><span class="sig-name descname"><span class="pre">add_renewable_balance_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableEquations.add_renewable_balance_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append renewable generation terms at time t to the power balance expression list.</p>
<p>This function constructs a symbolic expression representing the total power
injected by renewable sources at a given time step <cite>t</cite>, and appends it to
the power balance equation. The function is compatible with modular power
balance construction in hybrid energy system models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing renewable generation variables.</p></li>
<li><p><strong>t</strong> (<em>int</em>) â€“ Time index for which the renewable generation is evaluated.</p></li>
<li><p><strong>balance_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions contributing to the power balance equation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list including the total renewable generation at time t.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The model is expected to contain the following components:
â€˜RUâ€™ (renewable unit set), â€˜Tâ€™ (time set), and â€˜renewable_genâ€™ (generation variable).</p></li>
<li><p>This function is designed for use within a larger balance constraint rule
such as <cite>Constraint(model.T, rule=â€¦)</cite> or within a ConstraintList.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableEquations.add_renewable_cost_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableEquations.</span></span><span class="sig-name descname"><span class="pre">add_renewable_cost_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableEquations.add_renewable_cost_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append renewable generation cost terms to the total cost expression list.</p>
<p>This function is a placeholder or extension point for incorporating
renewable energy cost terms into the objective function. While many
renewable sources (e.g., wind, solar) have negligible marginal costs,
this function allows the inclusion of opportunity costs, curtailment
penalties, or tariffs if applicable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing renewable variables and parameters.</p></li>
<li><p><strong>cost_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions that contribute to the total cost.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The input list, optionally extended with renewable cost expressions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If no cost expression is required for renewables, the function simply
returns the list unchanged.</p></li>
<li><p>This function can be expanded to include curtailment penalties or
contracted delivery costs based on <cite>renewable_gen</cite> variables.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder">
<span id="naivepydessem-renewablegenerator-renewablegeneratorbuilder-module"></span><h6>NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder module<a class="headerlink" href="#module-NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Model Builder</p>
<section id="id8">
<h6 aria-level="7">Author<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id9">
<h6 aria-level="7">Description<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>This module provides high-level builders for renewable-only optimization
models in Pyomo. It assembles the complete model structure by combining
sets, parameters, variables, constraints, and optionally the objective
function for renewable generation systems.</p>
</section>
<section id="id10">
<h6 aria-level="7">Functions<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_renewables(data, include_objective=True)</dt><dd><p>Create a new <code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code> pre-populated with renewable unit
commitment and dispatch components.</p>
</dd>
<dt>add_renewable_problem(m, data, include_objective=False)</dt><dd><p>Add renewable-related sets, parameters, variables, constraints,
and optionally the objective function to an existing Pyomo model.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Suitable for renewable-only systems (e.g., wind and solar). For hybrid
hydrothermal-renewable systems, the balance constraint and objective
must be adapted accordingly.</p></li>
<li><p>The availability profiles are deterministic and exogenous, provided
by the <code class="docutils literal notranslate"><span class="pre">RenewableData</span></code> structure.</p></li>
<li><p>The optional objective minimizes deficit costs and enforces demand
balance when <code class="docutils literal notranslate"><span class="pre">include_objective=True</span></code>.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.add_renewable_problem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_renewable_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><span class="pre">RenewableData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.add_renewable_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add renewable dispatch problem structure to a Pyomo model.</p>
<p>This routine attaches all renewable-related components to an existing
<code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code>. It initializes sets, parameters, variables, and the
renewable capacity constraints. Optionally, it also includes the balance
constraint and renewable objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which renewable problem components will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><em>RenewableData</em></a>) â€“ Input data structure containing horizon, demand, units, and
availability profiles.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, add the balance constraint and renewable objective
function (default is <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with renewable sets, parameters, variables,
constraints, and optionally the objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Constraints added:</dt><dd><ul>
<li><p>Renewable generation capacity limits</p></li>
<li><p>Renewable balance (if <code class="docutils literal notranslate"><span class="pre">include_objective=True</span></code>)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>The objective minimizes deficit cost and optionally penalizes
renewable spill (depending on implementation of
<code class="xref py py-func docutils literal notranslate"><span class="pre">set_objective_renewable()</span></code>).</p></li>
<li><p>This builder is intended for renewable-only systems. For mixed
hydro/thermal/renewable dispatch, a combined balance formulation
is required.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.build_renewables">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_renewables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><span class="pre">RenewableData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.build_renewables" title="Link to this definition">ïƒ</a></dt>
<dd><p>Construct a complete Pyomo model for renewable-only dispatch.</p>
<p>This high-level builder creates a new <code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code> instance and
populates it with sets, parameters, variables, constraints, and optionally
the objective for renewable generation systems. It calls
<a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.add_renewable_problem" title="NaivePyDESSEM.RenewableGenerator.RenewableGeneratorBuilder.add_renewable_problem"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_renewable_problem()</span></code></a> internally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><em>RenewableData</em></a>) â€“ Input data structure with horizon, demand profile, deficit penalty,
and renewable units with their availability profiles.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, add the renewable balance constraint and objective
function (default is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new Pyomo model fully configured for renewable-only dispatch.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The model contains:</dt><dd><ul>
<li><p>Sets: time periods, renewable units</p></li>
<li><p>Parameters: demand, availability (<code class="docutils literal notranslate"><span class="pre">gbar</span></code>), deficit penalty</p></li>
<li><p>Variables: renewable generation, deficit</p></li>
<li><p>Constraints: capacity limits, and optionally balance</p></li>
<li><p>Objective: deficit-penalizing minimization (if enabled)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>For integration with hydro/thermal systems, use combined builders.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.RenewableGenerator.RenewableObjectives">
<span id="naivepydessem-renewablegenerator-renewableobjectives-module"></span><h6>NaivePyDESSEM.RenewableGenerator.RenewableObjectives module<a class="headerlink" href="#module-NaivePyDESSEM.RenewableGenerator.RenewableObjectives" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Objective Function</p>
<section id="id11">
<h6 aria-level="7">Author<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id12">
<h6 aria-level="7">Description<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>Defines the objective function for renewable-only dispatch models in Pyomo.
The objective minimizes the total cost of unmet demand (deficit) over the
planning horizon. It uses the deficit penalty parameter <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> to quantify
the economic impact of unserved energy.</p>
</section>
<section id="id13">
<h6 aria-level="7">Functions<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_renewable(m)</dt><dd><p>Attach a minimization objective to the model, penalizing unmet demand.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This objective is designed for renewable-only systems, where generation
is fully determined by availability and no explicit fuel costs exist.</p></li>
<li><p>The deficit variable <code class="docutils literal notranslate"><span class="pre">D[t]</span></code> ensures feasibility when renewable
generation cannot meet the demand <code class="docutils literal notranslate"><span class="pre">d[t]</span></code>.</p></li>
<li><p>The penalty coefficient <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> should be chosen high enough to
discourage deficits under normal conditions.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableObjectives.set_objective_renewable">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableObjectives.</span></span><span class="sig-name descname"><span class="pre">set_objective_renewable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableObjectives.set_objective_renewable" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define the objective function for renewable-only dispatch models.</p>
<p>The objective minimizes the total penalty associated with unmet demand
(deficit) across the planning horizon. This is expressed as:</p>
<blockquote>
<div><p>minimize  sum_t Cdef * D[t]</p>
</div></blockquote>
<p>where:
- <code class="docutils literal notranslate"><span class="pre">D[t]</span></code> is the deficit variable (MW) at time period <code class="docutils literal notranslate"><span class="pre">t</span></code>.
- <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> is the penalty coefficient for unserved energy (e.g., $/MWh).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model with:
- Set: <code class="docutils literal notranslate"><span class="pre">m.T</span></code> (time periods)
- Variable: <code class="docutils literal notranslate"><span class="pre">m.D[t]</span></code> (deficit at time <code class="docutils literal notranslate"><span class="pre">t</span></code>)
- Parameter: <code class="docutils literal notranslate"><span class="pre">m.Cdef</span></code> (deficit penalty cost)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with objective function <code class="docutils literal notranslate"><span class="pre">m.OBJ</span></code> attached, set for
minimization.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This formulation is intended for renewable-only systems, where
generation costs are absent and the only economic penalty comes
from unmet demand.</p></li>
<li><p>Ensure that the penalty <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> is set to a sufficiently high value
so that the optimizer prioritizes meeting demand whenever possible.</p></li>
<li><p>The objective does not account for renewable curtailment or spill
penalties. If such penalties are desired, they must be added explicitly.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="n">t</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">T</span><span class="p">}</span>  <span class="c1"># deficit variables (mocked here)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">Cdef</span> <span class="o">=</span> <span class="mf">1000.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">set_objective_renewable</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">OBJ</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>  
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.RenewableGenerator.RenewableVars">
<span id="naivepydessem-renewablegenerator-renewablevars-module"></span><h6>NaivePyDESSEM.RenewableGenerator.RenewableVars module<a class="headerlink" href="#module-NaivePyDESSEM.RenewableGenerator.RenewableVars" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Sets, Parameters, and Variables</p>
<section id="id14">
<h6 aria-level="7">Author<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id15">
<h6 aria-level="7">Description<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<p>This module provides initialization routines for renewable generation
within unit-commitment and dispatch models in Pyomo. It defines the sets,
parameters, and decision variables required to incorporate renewable
units (e.g., wind or solar) into short-term planning formulations.</p>
</section>
<section id="id16">
<h6 aria-level="7">Functions<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>renewable_add_sets_and_params(m, data)</dt><dd><p>Initialize sets and parameters for renewable units, including the
renewable unit set and availability profiles <code class="docutils literal notranslate"><span class="pre">gbar</span></code>.</p>
</dd>
<dt>renewable_add_variables(m)</dt><dd><p>Declare renewable generation decision variables and, if not present,
the deficit variable.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Availability profiles <code class="docutils literal notranslate"><span class="pre">gbar</span></code> are assumed to be exogenous, deterministic,
and aligned with the planning horizon.</p></li>
<li><p>The module is designed for integration with hydro and thermal
subsystems, ensuring that common components such as time set <code class="docutils literal notranslate"><span class="pre">m.T</span></code>,
demand <code class="docutils literal notranslate"><span class="pre">m.d</span></code>, and deficit penalty <code class="docutils literal notranslate"><span class="pre">m.Cdef</span></code> are not redefined if
already present.</p></li>
<li><p>Renewable generation is always bounded above by its availability; the
actual capacity constraint should be added separately.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableVars.renewable_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableVars.</span></span><span class="sig-name descname"><span class="pre">renewable_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><span class="pre">RenewableData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableVars.renewable_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initialize sets and parameters for renewable units in a Pyomo model.</p>
<p>Adds the renewable unit set, the renewable availability parameter
<code class="docutils literal notranslate"><span class="pre">renewable_gbar[r,t]</span></code>, and ensures that the time set <code class="docutils literal notranslate"><span class="pre">m.T</span></code>, demand
<code class="docutils literal notranslate"><span class="pre">m.d</span></code>, and deficit penalty <code class="docutils literal notranslate"><span class="pre">m.Cdef</span></code> exist. If those components are
already present in the model, they are not overwritten.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which renewable sets and parameters will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><em>RenewableData</em></a>) â€“ Input data structure containing the planning horizon, demand profile,
deficit penalty, and renewable units with their availability series.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with renewable sets and parameters attached.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The set <code class="docutils literal notranslate"><span class="pre">m.RU</span></code> indexes renewable units.</p></li>
<li><p>The parameter <code class="docutils literal notranslate"><span class="pre">m.renewable_gbar[r,t]</span></code> stores the available generation
(MW) of unit <code class="docutils literal notranslate"><span class="pre">r</span></code> at period <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></li>
<li><p>The list <code class="docutils literal notranslate"><span class="pre">gbar</span></code> in each <code class="xref py py-class docutils literal notranslate"><span class="pre">RenewableUnit</span></code> is assumed to be 0-based,
so initialization uses <code class="docutils literal notranslate"><span class="pre">t-1</span></code> when accessing it.</p></li>
<li><p>If the model already contains <code class="docutils literal notranslate"><span class="pre">m.T</span></code>, <code class="docutils literal notranslate"><span class="pre">m.d</span></code>, or <code class="docutils literal notranslate"><span class="pre">m.Cdef</span></code>, they are
left unchanged to allow integration with thermal/hydro subsystems.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.RenewableGenerator.RenewableVars.renewable_add_variables">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.RenewableGenerator.RenewableVars.</span></span><span class="sig-name descname"><span class="pre">renewable_add_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.RenewableGenerator.RenewableVars.renewable_add_variables" title="Link to this definition">ïƒ</a></dt>
<dd><p>Declare renewable generation and deficit decision variables.</p>
<p>Adds the continuous non-negative variable <code class="docutils literal notranslate"><span class="pre">m.renewable_gen[r,t]</span></code> for
renewable generation and, if not already present, the deficit variable
<code class="docutils literal notranslate"><span class="pre">m.D[t]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which renewable variables will be added.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with renewable generation and deficit variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">m.renewable_gen[r,t]</span></code> represents the actual dispatched renewable
generation (MW) for unit <code class="docutils literal notranslate"><span class="pre">r</span></code> at time <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m.D[t]</span></code> represents unmet demand (MW) at time <code class="docutils literal notranslate"><span class="pre">t</span></code>. It is created
only if not already defined in the model, ensuring compatibility with
other subsystems (thermal, hydro, batteries).</p></li>
<li><p>Both variables are continuous and non-negative.</p></li>
</ul>
</dd></dl>

</section>
</section>
<span id="document-NaivePyDESSEM.Storage"></span><section id="naivepydessem-storage-package">
<h5>NaivePyDESSEM.Storage package<a class="headerlink" href="#naivepydessem-storage-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDESSEM.Storage">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDESSEM.Storage" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Energy Storage Modeling (Storage)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>Storage</strong> package provides a modular framework for incorporating
battery energy storage systems (BESS) into Pyomo-based dispatch and unit
commitment models. It defines the necessary data structures, sets,
parameters, variables, constraints, objectives, and builder functions
to assemble storage-only or hybrid optimization models.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>StorageDataTypes</dt><dd><p>Dataclasses for storage units and system-level configuration.</p>
</dd>
<dt>StorageVars</dt><dd><p>Initialization of Pyomo sets, parameters, and variables.</p>
</dd>
<dt>StorageConstraints</dt><dd><p>Constraint builders (SoC balance, bounds, power limits, etc.).</p>
</dd>
<dt>StorageObjectives</dt><dd><p>Objective function definitions for storage-only models.</p>
</dd>
<dt>StorageBuilder</dt><dd><p>High-level routines to assemble complete storage models.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The package is designed to be interoperable with the Hydro, Thermal,
and Renewable packages, enabling the construction of hybrid models.</p></li>
<li><p>Naming conventions are consistent across subsystems for clarity and
maintainability.</p></li>
<li><p>Extensions (e.g., cycling cost, degradation models) can be added
within this package without altering the external interface.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDESSEM.Storage.StorageBuilder">
<span id="naivepydessem-storage-storagebuilder-module"></span><h6>NaivePyDESSEM.Storage.StorageBuilder module<a class="headerlink" href="#module-NaivePyDESSEM.Storage.StorageBuilder" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage â€” Model Builder</p>
<section id="id2">
<h6 aria-level="7">Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6 aria-level="7">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>High-level builders for storage-only optimization models in Pyomo. This
module assembles the complete model structure by combining storage sets,
parameters, variables, constraints, and an optional objective function.</p>
</section>
<section id="functions">
<h6 aria-level="7">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_storage(data, include_objective=True)</dt><dd><p>Create a new <code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code> with storage components and, optionally,
the balance constraint and objective.</p>
</dd>
<dt>add_storage_problem(m, data, include_objective=False)</dt><dd><p>Add storage components (sets/params/vars/constraints) to an existing
model and, optionally, attach the balance constraint and objective.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The default objective minimizes deficit cost (no explicit storage
operating costs). If you have cycling costs or degradation penalties,
replace the objective accordingly.</p></li>
<li><p>For hybrid systems (hydro/thermal/renewables + storage), prefer a
combined system balance and a joint objective in a higher-level builder.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageBuilder.add_storage_problem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageBuilder.</span></span><span class="sig-name descname"><span class="pre">add_storage_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageData"><span class="pre">StorageData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageBuilder.add_storage_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add storage dispatch problem structure to an existing model.</p>
<p>This routine initializes storage sets and parameters, declares decision
variables, and attaches operational constraints. Optionally, it enforces
a storage-only system balance and adds a deficit-penalizing objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Target model to be updated.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><em>StorageData</em></a>) â€“ Input container with horizon, units, and time-step duration.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, add the storage-only balance constraint and attach the
deficit objective (default is <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with storage components and, optionally, the
balance constraint and objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Constraints added (always):</dt><dd><ul>
<li><p>Energy (SoC) balance</p></li>
<li><p>SoC bounds (min/max)</p></li>
<li><p>Charge/discharge power limits</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">include_objective=True</span></code>:</dt><dd><ul>
<li><p>Add storage-only balance: Î£(dis âˆ’ ch) + D = d</p></li>
<li><p>Attach deficit objective</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageBuilder.build_storage">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageBuilder.</span></span><span class="sig-name descname"><span class="pre">build_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageData"><span class="pre">StorageData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageBuilder.build_storage" title="Link to this definition">ïƒ</a></dt>
<dd><p>Construct a complete Pyomo model for storage-only dispatch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><em>StorageData</em></a>) â€“ Input container with horizon, storage units, and time-step duration.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, add the storage-only balance constraint and attach the
deficit objective (default is <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new model configured with storage sets/params/vars/constraints and,
optionally, the balance constraint and objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>The model contains:</dt><dd><ul>
<li><p>Sets: time periods (<code class="docutils literal notranslate"><span class="pre">m.T</span></code>), storage units (<code class="docutils literal notranslate"><span class="pre">m.SU</span></code>)</p></li>
<li><p>Parameters: SoC bounds/initial, power limits, efficiencies, Î”t</p></li>
<li><p>Variables: SoC, charge, discharge, and (if missing) deficit</p></li>
<li><p>Constraints: SoC balance, SoC bounds, power limits</p></li>
<li><p>Optional: system balance and deficit objective</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Storage.StorageConstraints">
<span id="naivepydessem-storage-storageconstraints-module"></span><h6>NaivePyDESSEM.Storage.StorageConstraints module<a class="headerlink" href="#module-NaivePyDESSEM.Storage.StorageConstraints" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Energy Storage â€” Constraints</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the operational constraints for battery energy storage
systems (BESS) within Pyomo-based dispatch and unit commitment models.
The formulation is consistent with the hydraulic and renewable modules,
ensuring interoperability in hybrid optimization frameworks.</p>
</section>
<section id="id6">
<h6 aria-level="7">Functions<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_storage_energy_balance_constraint(m)</dt><dd><p>Enforce intertemporal state-of-charge balance with charge/discharge
efficiencies and time-step duration.</p>
</dd>
<dt>add_storage_soc_bounds_constraint(m)</dt><dd><p>Impose minimum and maximum state-of-charge limits.</p>
</dd>
<dt>add_storage_power_limits_constraint(m)</dt><dd><p>Impose per-period charging and discharging power limits.</p>
</dd>
<dt>add_storage_mutual_exclusion_constraint(m)</dt><dd><p>(Optional) Prohibit simultaneous charging and discharging through a
big-M formulation with binary mode variables.</p>
</dd>
<dt>add_storage_only_balance_constraint(m)</dt><dd><p>Enforce system-wide balance for storage-only models, equating net
injection plus deficit to the demand at each period.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The efficiencies (<code class="docutils literal notranslate"><span class="pre">eta_c</span></code>, <code class="docutils literal notranslate"><span class="pre">eta_d</span></code>) can be specified per stage or
derived from a round-trip value split by the user.</p></li>
<li><p>For hybrid models (hydro, thermal, renewable, storage), the global
balance should be implemented at a higher builder level.</p></li>
<li><p>The formulation assumes a fixed period duration <code class="docutils literal notranslate"><span class="pre">delta_t</span></code> in hours,
used to convert power (MW) to energy (MWh).</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageConstraints.add_storage_energy_balance_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_energy_balance_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageConstraints.add_storage_energy_balance_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add storage energy (SoC) balance constraints.</p>
<p>Enforces conservation of energy per unit and period:</p>
<blockquote>
<div><p>E[s,1] = Eini[s] + eta_c[s] * ch[s,1] * Î”t - (dis[s,1] / eta_d[s]) * Î”t
E[s,t] = E[s,t-1] + eta_c[s] * ch[s,t] * Î”t - (dis[s,t] / eta_d[s]) * Î”t,  t&gt;1</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with sets <code class="docutils literal notranslate"><span class="pre">m.SU</span></code>, <code class="docutils literal notranslate"><span class="pre">m.T</span></code>; variables <code class="docutils literal notranslate"><span class="pre">m.storage_E</span></code>,
<code class="docutils literal notranslate"><span class="pre">m.storage_ch</span></code>, <code class="docutils literal notranslate"><span class="pre">m.storage_dis</span></code>; per-unit parameters
<code class="docutils literal notranslate"><span class="pre">m.storage_Eini</span></code>, <code class="docutils literal notranslate"><span class="pre">m.storage_eta_c</span></code>, <code class="docutils literal notranslate"><span class="pre">m.storage_eta_d</span></code>; and
scalar <code class="docutils literal notranslate"><span class="pre">m.storage_delta_t</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with constraint block
<code class="docutils literal notranslate"><span class="pre">m.storage_energy_balance_constraint</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageConstraints.add_storage_mutual_exclusion_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_mutual_exclusion_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageConstraints.add_storage_mutual_exclusion_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>(Optional) Prohibit simultaneous charge and discharge.</p>
<p>Uses a big-M logic with a binary mode variable:</p>
<blockquote>
<div><p>storage_ch[s,t]  &lt;=  M[s] * storage_mode[s,t]
storage_dis[s,t] &lt;=  M[s] * (1 - storage_mode[s,t])</p>
</div></blockquote>
<p>Assumes <code class="docutils literal notranslate"><span class="pre">m.storage_mode[s,t]</span></code> (binary) and <code class="docutils literal notranslate"><span class="pre">m.storage_M[s]</span></code> (big-M)
exist in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with sets <code class="docutils literal notranslate"><span class="pre">m.SU</span></code>, <code class="docutils literal notranslate"><span class="pre">m.T</span></code>; variables <code class="docutils literal notranslate"><span class="pre">m.storage_ch</span></code>,
<code class="docutils literal notranslate"><span class="pre">m.storage_dis</span></code>, binary <code class="docutils literal notranslate"><span class="pre">m.storage_mode</span></code>; and parameter
<code class="docutils literal notranslate"><span class="pre">m.storage_M</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with mutual exclusion constraints.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageConstraints.add_storage_only_balance_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_only_balance_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageConstraints.add_storage_only_balance_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add system-wide balance for storage-only models.</p>
<p>Net injection from storage plus deficit must meet demand:</p>
<blockquote>
<div><p>Î£_s ( storage_dis[s,t] - storage_ch[s,t] )  +  D[t]  =  d[t]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with set <code class="docutils literal notranslate"><span class="pre">m.T</span></code>; variables <code class="docutils literal notranslate"><span class="pre">m.storage_ch</span></code>, <code class="docutils literal notranslate"><span class="pre">m.storage_dis</span></code>,
<code class="docutils literal notranslate"><span class="pre">m.D</span></code>; and parameter <code class="docutils literal notranslate"><span class="pre">m.d</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with <code class="docutils literal notranslate"><span class="pre">m.storage_only_balance_constraint</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageConstraints.add_storage_power_limits_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_power_limits_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageConstraints.add_storage_power_limits_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add charging and discharging power limits.</p>
<blockquote>
<div><p>0 &lt;= storage_ch[s,t]  &lt;= storage_Pch_max[s]
0 &lt;= storage_dis[s,t] &lt;= storage_Pdis_max[s]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with sets <code class="docutils literal notranslate"><span class="pre">m.SU</span></code>, <code class="docutils literal notranslate"><span class="pre">m.T</span></code>; variables <code class="docutils literal notranslate"><span class="pre">m.storage_ch</span></code>,
<code class="docutils literal notranslate"><span class="pre">m.storage_dis</span></code>; and parameters <code class="docutils literal notranslate"><span class="pre">m.storage_Pch_max</span></code>,
<code class="docutils literal notranslate"><span class="pre">m.storage_Pdis_max</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with power limit constraints.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageConstraints.add_storage_soc_bounds_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_soc_bounds_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageConstraints.add_storage_soc_bounds_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add minimum/maximum SoC constraints.</p>
<blockquote>
<div><p>storage_Emin[s] &lt;= storage_E[s,t] &lt;= storage_Emax[s]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with sets <code class="docutils literal notranslate"><span class="pre">m.SU</span></code>, <code class="docutils literal notranslate"><span class="pre">m.T</span></code>; variable <code class="docutils literal notranslate"><span class="pre">m.storage_E</span></code>; and
parameters <code class="docutils literal notranslate"><span class="pre">m.storage_Emin</span></code>, <code class="docutils literal notranslate"><span class="pre">m.storage_Emax</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with upper and lower SoC bounds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Storage.StorageDataTypes">
<span id="naivepydessem-storage-storagedatatypes-module"></span><h6>NaivePyDESSEM.Storage.StorageDataTypes module<a class="headerlink" href="#module-NaivePyDESSEM.Storage.StorageDataTypes" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage Bank â€” Data Structures</p>
<section id="id7">
<h6 aria-level="7">Author<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id8">
<h6 aria-level="7">Description<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>Lightweight data classes for battery energy storage systems (BESS). These
structures provide standardized inputs for Pyomo-based unit commitment and
dispatch models.</p>
</section>
<section id="classes">
<h6 aria-level="7">Classes<a class="headerlink" href="#classes" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>StorageUnit</dt><dd><p>Parameters of a single storage unit (SoC bounds, power limits,
efficiencies, initial state).</p>
</dd>
<dt>StorageData</dt><dd><p>System-level container that aggregates storage units and common
parameters such as time-step duration.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The efficiencies can be specified per stage (charge/discharge) or derived
from a round-trip value split across both stages by the user before
instantiation.</p></li>
<li><p>The time-step duration <code class="docutils literal notranslate"><span class="pre">delta_t</span></code> (hours) converts power (MW) to energy
(MWh) in the state-of-charge balance.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageDataTypes.</span></span><span class="sig-name descname"><span class="pre">StorageData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit"><span class="pre">StorageUnit</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cdef</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>System-wide data container for storage modeling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizon</strong> (<em>int</em>) â€“ Number of time periods in the planning horizon.</p></li>
<li><p><strong>demand</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) â€“ Mapping of each period <code class="docutils literal notranslate"><span class="pre">t</span></code> (1-based) to system demand (MW).</p></li>
<li><p><strong>units</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit"><em>StorageUnit</em></a><em>]</em>) â€“ Mapping from unit identifier to <a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">StorageUnit</span></code></a>.</p></li>
<li><p><strong>delta_t</strong> (<em>float</em>) â€“ Time-step duration (hours), used to convert MW to MWh.</p></li>
<li><p><strong>Cdef</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Sets the deficit cost. Default is 1000.0</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Typical values for <code class="docutils literal notranslate"><span class="pre">delta_t</span></code> are 1.0 (hourly) or 0.5 (30 minutes).</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageData.Cdef">
<span class="sig-name descname"><span class="pre">Cdef</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData.Cdef" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageData.delta_t">
<span class="sig-name descname"><span class="pre">delta_t</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData.delta_t" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData.demand" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageData.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit"><span class="pre">StorageUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData.units" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageDataTypes.</span></span><span class="sig-name descname"><span class="pre">StorageUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Emin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Emax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Eini</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pch_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pdis_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta_c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta_d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data container for a battery energy storage unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) â€“ Unique identifier of the storage unit.</p></li>
<li><p><strong>Emin</strong> (<em>float</em>) â€“ Minimum energy content (MWh).</p></li>
<li><p><strong>Emax</strong> (<em>float</em>) â€“ Maximum energy content (MWh).</p></li>
<li><p><strong>Eini</strong> (<em>float</em>) â€“ Initial energy content at the beginning of the horizon (MWh).</p></li>
<li><p><strong>Pch_max</strong> (<em>float</em>) â€“ Maximum charging power (MW).</p></li>
<li><p><strong>Pdis_max</strong> (<em>float</em>) â€“ Maximum discharging power (MW).</p></li>
<li><p><strong>eta_c</strong> (<em>float</em>) â€“ Charging efficiency in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>.</p></li>
<li><p><strong>eta_d</strong> (<em>float</em>) â€“ Discharging efficiency in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">Emin</span> <span class="pre">&lt;=</span> <span class="pre">Eini</span> <span class="pre">&lt;=</span> <span class="pre">Emax</span></code> for feasibility at the first period.</p></li>
<li><p>If a round-trip efficiency is provided externally, split it into
<code class="docutils literal notranslate"><span class="pre">eta_c</span></code> and <code class="docutils literal notranslate"><span class="pre">eta_d</span></code> before creating the instance.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Eini">
<span class="sig-name descname"><span class="pre">Eini</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Eini" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Emax">
<span class="sig-name descname"><span class="pre">Emax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Emax" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Emin">
<span class="sig-name descname"><span class="pre">Emin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Emin" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Pch_max">
<span class="sig-name descname"><span class="pre">Pch_max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Pch_max" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Pdis_max">
<span class="sig-name descname"><span class="pre">Pdis_max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.Pdis_max" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.eta_c">
<span class="sig-name descname"><span class="pre">eta_c</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.eta_c" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.eta_d">
<span class="sig-name descname"><span class="pre">eta_d</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.eta_d" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Storage.StorageEquations">
<span id="naivepydessem-storage-storageequations-module"></span><h6>NaivePyDESSEM.Storage.StorageEquations module<a class="headerlink" href="#module-NaivePyDESSEM.Storage.StorageEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Storage Model Expression Utilities for Pyomo Optimization</p>
<section id="id9">
<h6 aria-level="7">Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h6 aria-level="7">Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to energy storage systems in Pyomo-based optimization models.
These expressions can be incrementally assembled and integrated into
constraints (e.g., state-of-charge evolution) or cost functions (e.g.,
charging/discharging costs).</p>
<p>The functions are designed to support modular model construction and
hybrid system integration. They can be used in conjunction with other
technology modules (e.g., thermal, hydro, renewable) to build power
balance constraints and system-wide cost objectives.</p>
<p>All expressions are symbolic and compatible with Pyomoâ€™s modeling
framework. Each function includes safeguards to ensure that required
model components exist before attempting to generate expressions.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To append storage-related cost and energy balance expressions to lists
that contribute to the overall objective function and constraint set.</p></li>
<li><p>To modularize and standardize storage modeling across different hybrid
energy system configurations.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_storage_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_storage_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_array</span><span class="o">=</span><span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">StorageBalance</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This module assumes that storage behavior is modeled using variables such as:
<cite>storage_E</cite>, <cite>storage_ch</cite>, <cite>storage_dis</cite>, <cite>storage_Eini</cite>,
and parameters like <cite>storage_eta_c</cite>, <cite>storage_eta_d</cite>, and <cite>storage_delta_t</cite>.</p></li>
<li><p>The structure is compatible with Pyomoâ€™s ConstraintList and indexed Constraint(T).</p></li>
<li><p>Expressions are constructed incrementally and can be combined with other
sources (e.g., thermal, hydro) in hybrid dispatch models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023..</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageEquations.add_storage_balance_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageEquations.</span></span><span class="sig-name descname"><span class="pre">add_storage_balance_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageEquations.add_storage_balance_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append energy balance equations for storage units at time t to the constraint expression list.</p>
<p>This function constructs and appends symbolic expressions that enforce the
state-of-charge (SoC) evolution for each storage unit at time step <cite>t</cite>. The energy
balance accounts for charging and discharging flows, adjusted by their respective
efficiencies, and scaled by the time step duration.</p>
<p>The function distinguishes between the initial period (<cite>t == 1</cite>), where it uses the
initial energy level <cite>storage_Eini</cite>, and subsequent periods (<cite>t &gt; 1</cite>), where it uses
the SoC from the previous period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing storage variables and parameters.</p></li>
<li><p><strong>t</strong> (<em>int</em>) â€“ Time index at which the storage energy balance is evaluated.</p></li>
<li><p><strong>balance_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of constraint expressions to which the storage energy balance equation is appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list including the storage energy balance constraint at time t.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The expected model components are: SU, T, storage_E</p></li>
<li><p>If any required component is missing, the function returns the input list unchanged.</p></li>
<li><p>The returned expressions can be used with <cite>ConstraintList</cite> or indexed <cite>Constraint(T)</cite>.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_storage_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">balance_array</span><span class="o">=</span><span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">StorageBalance</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageEquations.add_storage_cost_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageEquations.</span></span><span class="sig-name descname"><span class="pre">add_storage_cost_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageEquations.add_storage_cost_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append storage-related cost terms to the total cost expression list.</p>
<p>This function is intended as a placeholder or extension point for
including storage system costs in the objective function of a Pyomo model.
Typical terms may include degradation penalties, charging/discharging costs,
or time-of-use price adjustments.</p>
<p>If no relevant storage cost expressions are defined or required, the function
simply returns the input list unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing storage system variables.</p></li>
<li><p><strong>cost_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions used to build the total cost function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The input list, optionally extended with storage-related cost expressions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function is designed to be compatible with modular cost composition
involving multiple technologies (e.g., thermal, hydro, storage).</p></li>
<li><p>Actual expressions should be added based on model-specific variables
such as <cite>Pch</cite>, <cite>Pdis</cite>, <cite>SoC</cite>, or energy tariffs if available.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Storage.StorageObjective">
<span id="naivepydessem-storage-storageobjective-module"></span><h6>NaivePyDESSEM.Storage.StorageObjective module<a class="headerlink" href="#module-NaivePyDESSEM.Storage.StorageObjective" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage â€” Objective Function</p>
<section id="id11">
<h6 aria-level="7">Author<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id12">
<h6 aria-level="7">Description<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>Defines the objective function for storage-only dispatch models in Pyomo.
The formulation minimizes the total penalty cost associated with unmet
demand (deficit) over the planning horizon, using the parameter <code class="docutils literal notranslate"><span class="pre">Cdef</span></code>.</p>
</section>
<section id="id13">
<h6 aria-level="7">Functions<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_storage(m)</dt><dd><p>Attach a minimization objective to the model that penalizes unmet
demand through <code class="docutils literal notranslate"><span class="pre">Cdef</span> <span class="pre">*</span> <span class="pre">D[t]</span></code>.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This objective is tailored for storage-only systems without explicit
operating or cycling costs.</p></li>
<li><p>The penalty coefficient <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> should be chosen sufficiently high
to discourage deficits under normal operating conditions.</p></li>
<li><p>For hybrid models (hydro, thermal, renewable, storage), a combined
system-wide objective should be defined at a higher level.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageObjective.set_objective_storage">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageObjective.</span></span><span class="sig-name descname"><span class="pre">set_objective_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageObjective.set_objective_storage" title="Link to this definition">ïƒ</a></dt>
<dd><p>Attach a deficit-penalizing objective for storage-only models.</p>
<section id="objective">
<h6 aria-level="7">Objective<a class="headerlink" href="#objective" title="Link to this heading">ïƒ</a></h6>
<p>Minimize the total cost of unmet demand across the horizon:</p>
<blockquote>
<div><p>minimize  sum_t Cdef * D[t]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">param m<span class="colon">:</span></dt>
<dd class="field-odd"><p>Model with set <code class="docutils literal notranslate"><span class="pre">m.T</span></code>, variable <code class="docutils literal notranslate"><span class="pre">m.D[t]</span></code> and parameter <code class="docutils literal notranslate"><span class="pre">m.Cdef</span></code>.</p>
</dd>
<dt class="field-even">type m<span class="colon">:</span></dt>
<dd class="field-even"><p>pyomo.environ.ConcreteModel</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The same model with objective <code class="docutils literal notranslate"><span class="pre">m.OBJ</span></code> attached.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Storage.StorageVars">
<span id="naivepydessem-storage-storagevars-module"></span><h6>NaivePyDESSEM.Storage.StorageVars module<a class="headerlink" href="#module-NaivePyDESSEM.Storage.StorageVars" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage â€” Sets, Parameters, and Variables</p>
<section id="id14">
<h6 aria-level="7">Author<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id15">
<h6 aria-level="7">Description<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<p>Provides initialization routines for adding storage-related sets, parameters,
and decision variables to Pyomo-based dispatch and unit commitment models.
This module ensures a consistent interface for modeling battery energy storage
systems (BESS) across different formulations.</p>
</section>
<section id="id16">
<h6 aria-level="7">Functions<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>storage_add_sets_and_params(m, data)</dt><dd><p>Initialize sets and Pyomo parameters for storage units, including
state-of-charge bounds, initial conditions, power limits, efficiencies,
and time-step duration.</p>
</dd>
<dt>storage_add_variables(m)</dt><dd><p>Declare continuous decision variables for state-of-charge, charging
power, and discharging power. If absent, also define a deficit variable
for feasibility.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Parameters are namespaced with the prefix <code class="docutils literal notranslate"><span class="pre">storage_</span></code> for clarity and
compatibility with other subsystems (hydro, thermal, renewable).</p></li>
<li><p>The time-step duration (<code class="docutils literal notranslate"><span class="pre">delta_t</span></code>) converts power (MW) to energy (MWh)
within the state-of-charge balance equation.</p></li>
<li><p>The variables are declared as non-negative and continuous. Binary
variables may be added in other modules if mutual exclusion between
charge and discharge is required.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageVars.storage_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageVars.</span></span><span class="sig-name descname"><span class="pre">storage_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageData"><span class="pre">StorageData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageVars.storage_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initialize storage sets and parameters.</p>
<p>Adds the storage unit set, state-of-charge bounds and initial values,
power limits, (dis)charging efficiencies, and the time-step duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Target model to be updated.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><em>StorageData</em></a>) â€“ Input container with horizon, units, and <code class="docutils literal notranslate"><span class="pre">delta_t</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with storage sets/parameters attached.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">m.T</span></code> already exists it is preserved; otherwise it is created
as <code class="docutils literal notranslate"><span class="pre">RangeSet(1,</span> <span class="pre">data.horizon)</span></code>.</p></li>
<li><p>Parameters are prefixed with <code class="docutils literal notranslate"><span class="pre">storage_</span></code> for namespacing.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Storage.StorageVars.storage_add_variables">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Storage.StorageVars.</span></span><span class="sig-name descname"><span class="pre">storage_add_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Storage.StorageVars.storage_add_variables" title="Link to this definition">ïƒ</a></dt>
<dd><p>Declare storage decision variables.</p>
<p>Adds state-of-charge and charge/discharge power variables. If a deficit
variable does not exist in the model, a non-negative <code class="docutils literal notranslate"><span class="pre">D[t]</span></code> is created.</p>
<section id="variables">
<h6 aria-level="7">Variables<a class="headerlink" href="#variables" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>storage_E[s,t]<span class="classifier">NonNegativeReals</span></dt><dd><p>Energy stored at the end of period <code class="docutils literal notranslate"><span class="pre">t</span></code> (MWh).</p>
</dd>
<dt>storage_ch[s,t]<span class="classifier">NonNegativeReals</span></dt><dd><p>Charging power (MW) in period <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
</dd>
<dt>storage_dis[s,t]<span class="classifier">NonNegativeReals</span></dt><dd><p>Discharging power (MW) in period <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
</dd>
<dt>D[t]<span class="classifier">NonNegativeReals</span></dt><dd><p>Deficit (MW), created only if absent.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">param m<span class="colon">:</span></dt>
<dd class="field-odd"><p>Target model (expects sets <code class="docutils literal notranslate"><span class="pre">m.SU</span></code> and <code class="docutils literal notranslate"><span class="pre">m.T</span></code>).</p>
</dd>
<dt class="field-even">type m<span class="colon">:</span></dt>
<dd class="field-even"><p>pyomo.environ.ConcreteModel</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The same model with storage variables attached.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</section>
</dd></dl>

</section>
</section>
<span id="document-NaivePyDESSEM.ThermalGenerator"></span><section id="naivepydessem-thermalgenerator-package">
<h5>NaivePyDESSEM.ThermalGenerator package<a class="headerlink" href="#naivepydessem-thermalgenerator-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDESSEM.ThermalGenerator">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Thermal Generation Modeling (ThermalGenerator)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>ThermalGenerator</strong> package provides a modular framework for modeling
thermal generation units in Pyomo-based unit commitment and dispatch models.
It includes data structures, sets, parameters, variables, constraints,
objectives, and builder functions for both quadratic (MIQP) and piecewise-linear
(MILP) cost formulations.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>ThermalDataTypes</dt><dd><p>Dataclasses defining thermal unit parameters and system-wide data.</p>
</dd>
<dt>ThermalVars</dt><dd><p>Initialization routines for Pyomo sets, parameters, and variables.</p>
</dd>
<dt>ThermalConstraints</dt><dd><p>Constraint builders (balance, capacity, reserve, ramping, min up/down).</p>
</dd>
<dt>ThermalObjectives</dt><dd><p>Objective function definitions (quadratic and piecewise-linear).</p>
</dd>
<dt>ThermalPiecewiseCost</dt><dd><p>Utilities for building piecewise-linear cost functions.</p>
</dd>
<dt>ThermalBuilder</dt><dd><p>High-level routines to assemble complete thermal generation models.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Supports MIQP and MILP formulations, enabling flexibility in solver choice.</p></li>
<li><p>Reserve, emissions, and startup/shutdown costs can be included as needed.</p></li>
<li><p>Designed for interoperability with Hydro, Renewable, and Storage packages
to support hybrid hydrothermal-renewable models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDESSEM.ThermalGenerator.ThermalConstraints">
<span id="naivepydessem-thermalgenerator-thermalconstraints-module"></span><h6>NaivePyDESSEM.ThermalGenerator.ThermalConstraints module<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator.ThermalConstraints" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Constraints</p>
<section id="id2">
<h6 aria-level="7">Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6 aria-level="7">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>Constraint builders for thermal unit commitment (UC) formulations in Pyomo.
Each function attaches a specific block of constraints to a
ConcreteModel, enabling modular construction of MILP/MIQP/MINLP UC
models. The naming convention uses the thermal_* prefix for variables,
parameters, and constraint blocks attached to the model.</p>
</section>
<section id="constraint-families">
<h6 aria-level="7">Constraint Families<a class="headerlink" href="#constraint-families" title="Link to this heading">ïƒ</a></h6>
<ol class="arabic simple">
<li><p>Balance (system-wide):</p>
<ul class="simple">
<li><p>sum_g thermal_p[g,t] + D[t] = d[t]</p></li>
</ul>
</li>
<li><p>Capacity (per unit and period):</p>
<ul class="simple">
<li><p>Lower bound: thermal_Pmin[g] * thermal_u[g,t] &lt;= thermal_p[g,t]</p></li>
<li><p>Upper bound (no reserve): thermal_p[g,t] &lt;= thermal_Pmax[g] * thermal_u[g,t]</p></li>
<li><p>Upper bound (with reserve): thermal_p[g,t] + thermal_r[g,t] &lt;= thermal_Pmax[g] * thermal_u[g,t]</p></li>
</ul>
</li>
<li><p>Spinning reserve:
sum_g thermal_r[g,t] &gt;= thermal_Rreq[t]</p></li>
<li><p>Commitment logic:</p>
<ul class="simple">
<li><p>Mutual exclusivity: thermal_y[g,t] + thermal_w[g,t] &lt;= 1</p></li>
<li><p>State transition:</p>
<ul>
<li><p>t=1: thermal_u[g,1] - thermal_u0[g] = thermal_y[g,1] - thermal_w[g,1]</p></li>
<li><p>t&gt;1: thermal_u[g,t] - thermal_u[g,t-1] = thermal_y[g,t] - thermal_w[g,t]</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Ramping (with start/shut effects):</p>
<ul class="simple">
<li><p>Up: thermal_p[g,t] - thermal_p[g,t-1] &lt;= thermal_RU[g] + thermal_Pmax[g] * thermal_y[g,t]</p></li>
<li><p>Down: thermal_p[g,t-1] - thermal_p[g,t] &lt;= thermal_RD[g] + thermal_Pmax[g] * thermal_w[g,t]
At t=1, use thermal_p0[g] in place of the previous-period power.)</p></li>
</ul>
</li>
<li><p>Minimum up/down time:</p>
<ul class="simple">
<li><p>Up: SUM_{t=t-Tu+1}^{t} thermal_y[g,t] &lt;= thermal_u[g,t]</p></li>
<li><p>Down: SUM_{t=t-Td+1}^{t} thermal_w[g,t] &lt;= 1 - thermal_u[g,t]</p></li>
</ul>
</li>
</ol>
</section>
<section id="usage">
<h6 aria-level="7">Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h6>
<p>Combine these builders with:</p>
<ul class="simple">
<li><p>set/parameter/variable definitions for thermal UC, and</p></li>
<li><p>an appropriate objective (quadratic or piecewise linear).</p></li>
</ul>
<p>By composing the blocks, one can construct MIQP (quadratic costs) or
MILP (piecewise linear costs) UC formulations, optionally with reserve constraints.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_balance_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_balance_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_balance_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the system-wide energy balance constraint.</p>
<p>For each period t, the total thermal generation plus the deficit
must match the demand:</p>
<blockquote>
<div><p>sum_g thermal_p[g,t] + D[t] == d[t]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model with thermal parameters and variables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint block
m.thermal_balance_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume m has sets/vars/params defined; then:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_balance_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">thermal_balance_constraint</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_capacity_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_capacity_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_reserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_capacity_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add generation capacity limits for all units and periods.</p>
<p>Enforces unit-wise lower and upper bounds linked to the on/off status.
When include_reserve is True, the upper bound also accounts for
spinning reserve provision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model containing thermal parameters and variables</p></li>
<li><p><strong>include_reserve</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, apply thermal_p + thermal_r &lt;= Pmax * u as the upper
bound. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint blocks
m.thermal_cap_lower_constraint and
m.thermal_cap_upper_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Upper bound includes reserve if requested:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_capacity_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">include_reserve</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_min_up_down_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_min_up_down_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_min_up_down_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add minimum up-time and down-time constraints with initial state consideration.</p>
<p>These constraints ensure logical consistency of operating sequences:</p>
<ul class="simple">
<li><p><strong>Minimum up-time</strong>: if a unit is started, it must remain ON for at least
thermal_t_up[g] periods. If the unit has already been ON before the
optimization window (according to thermal_init_status[g] &gt; 0),
the remaining required ON time is reduced accordingly.</p></li>
<li><p><strong>Minimum down-time</strong>: if a unit is shut down, it must remain OFF for at least
thermal_t_dn[g] periods. If the unit has already been OFF before the
optimization window (according to thermal_init_status[g] &lt; 0),
the remaining required OFF time is reduced accordingly.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with thermal paraeters and variables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Model with added constraint blocks:
- m.thermal_min_up_constraint
- m.thermal_min_dn_constraint</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_min_up_down_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_ramps_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_ramps_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_ramps_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add ramp-up and ramp-down constraints.</p>
<p>Limits the change in generation between consecutive periods according
to thermal_RU[g] and thermal_RD[g], with allowances when a unit
starts up or shuts down. At t=1, the previous-period generation is
given by thermal_p0[g].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with thermal paraeters and variables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint blocks
m.thermal_ramp_up_constraint and m.thermal_ramp_dn_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_ramps_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_reserve_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_reserve_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_reserve_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add spinning reserve requirement constraints.</p>
<p>For each period t, total spinning reserve must satisfy:</p>
<blockquote>
<div><p>sum_g thermal_r[g,t] &gt;= thermal_Rreq[t].</p>
</div></blockquote>
<p class="rubric">Notes</p>
<p>This constraint assumes that reserve variables and requirements are
present, and that capacity limits were added with
include_reserve=True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with thermal parameters and variables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint block
m.thermal_reserve_req_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_reserve_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">thermal_reserve_req_constraint</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_startup_shutdown_logic_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_startup_shutdown_logic_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalConstraints.thermal_add_startup_shutdown_logic_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add startup/shutdown logical consistency constraints.</p>
<p>Imposes:</p>
<ul class="simple">
<li><p>Mutual exclusivity of start and shut in the same period:
thermal_y[g,t] + thermal_w[g,t] &lt;= 1.</p></li>
<li><p>State transition linking on/off status to start/shut variables:</p>
<ul>
<li><p>t=1: thermal_u[g,1] - thermal_u0[g] = thermal_y[g,1] - thermal_w[g,1]</p></li>
<li><p>t&gt;1: thermal_u[g,t] - thermal_u[g,t-1] = thermal_y[g,t] - thermal_w[g,t]</p></li>
</ul>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model with thermal paraeters and variables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint blocks
m.thermal_f_ss_constraint and m.thermal_logic_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_startup_shutdown_logic_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ThermalGenerator.ThermalDataTypes">
<span id="naivepydessem-thermalgenerator-thermaldatatypes-module"></span><h6>NaivePyDESSEM.ThermalGenerator.ThermalDataTypes module<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator.ThermalDataTypes" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Data Structures and Problem Skeleton</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the canonical data structures for short-term thermal
unit commitment (UC) and economic dispatch problems. It is designed to be
paired with Pyomo model builders that assemble:</p>
<ul class="simple">
<li><p>Mixed-Integer Quadratic Programs (MIQP) with quadratic variable cost
a * u + b * p + c * pÂ² and start-up cost SC * y.</p></li>
<li><p>Mixed-Integer Linear Programs (MILP) using piecewise-linear (PWL) cost
curves via SOS2/convex-combination.</p></li>
<li><p>Optional spinning reserve coupling and global emissions/fuel caps.</p></li>
</ul>
</section>
<section id="notation-per-unit-g-and-time-t">
<h6 aria-level="7">Notation (per unit g and time t)<a class="headerlink" href="#notation-per-unit-g-and-time-t" title="Link to this heading">ïƒ</a></h6>
<p>Decision variables (model side):</p>
<blockquote>
<div><p>u_{g,t} in {0,1}   : on/off state
y_{g,t}, w_{g,t}  : start-up / shut-down flags (binary)
p_{g,t} &gt;= 0       : electrical output (MW)
r_{g,t} &gt;= 0       : spinning reserve (MW, optional)
D_t &gt;= 0           : demand deficit (MW, optional)</p>
</div></blockquote>
<p>Core parameters (this module):</p>
<blockquote>
<div><p>Pmin_g, Pmax_g    : power bounds (MW)
RU_g, RD_g        : ramp-up / ramp-down limits (MW/Î”t)
a_g, b_g, c_g     : cost coefficients for a * u + b * p + c * pÂ²
SC_g              : hot start cost
t_up_g, t_down_g  : minimum up/down times (periods)
u0_g, p0_g        : initial state and output
pw_breaks, pw_costs : PWL points for variable cost C(p)
Î³_g               : emissions factor (tCOâ‚‚/MWh), optional</p>
</div></blockquote>
</section>
<section id="typical-objective-miqp-form">
<h6 aria-level="7">Typical objective (MIQP form)<a class="headerlink" href="#typical-objective-miqp-form" title="Link to this heading">ïƒ</a></h6>
<p>Minimize over t,g:</p>
<blockquote>
<div><p>sum ( a_g u_{g,t} + b_g p_{g,t} + c_g p_{g,t}^2 + SC_g y_{g,t} ) + C_def sum(D_t)</p>
</div></blockquote>
<p>subject to balance, capacity, ramping, min up/down, and (optionally)
reserve and emissions constraints.</p>
</section>
<section id="id6">
<h6 aria-level="7">Usage<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><em>ThermalUnit</em>: describes a single thermal unit, including technical
limits, cost curve, start-up, ramping, and optional PWL and emissions.</p></li>
<li><p><em>ThermalData</em>: wraps the system horizon, hourly demand, the unit map,
and optional reserve/emissions settings to feed a Pyomo builder.</p></li>
</ul>
</section>
<section id="intended-pairing">
<h6 aria-level="7">Intended pairing<a class="headerlink" href="#intended-pairing" title="Link to this heading">ïƒ</a></h6>
<p>This module is agnostic to the specific Pyomo modeling choices. It is
compatible with builders that: (i) set MIQP objectives directly from
(a,b,c); or (ii) construct MILP PWL costs from (pw_breaks, pw_costs),
keeping a * u and SC * y in the linear objective.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.</span></span><span class="sig-name descname"><span class="pre">ThermalData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit"><span class="pre">ThermalUnit</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cdef</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Rreq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_history</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>System-wide data container for thermal unit commitment problems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizon</strong> (<em>int</em>) â€“ Number of time periods in the planning horizon.</p></li>
<li><p><strong>demand</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) â€“ Mapping of each period <code class="docutils literal notranslate"><span class="pre">t</span></code> to system demand (MW).</p></li>
<li><p><strong>units</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit"><em>ThermalUnit</em></a><em>]</em>) â€“ Dictionary mapping unit identifiers to their <code class="docutils literal notranslate"><span class="pre">ThermalUnit</span></code> objects.</p></li>
<li><p><strong>Cdef</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Deficit penalty cost ($/MWh), default is 1000.0.</p></li>
<li><p><strong>Rreq</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em><em>, </em><em>optional</em>) â€“ Mapping of each period <code class="docutils literal notranslate"><span class="pre">t</span></code> to spinning reserve requirement (MW).
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>has_history</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Consider previous states or not. Default is false</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This class serves as a structured input for Pyomo-based UC models.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Rreq</span></code> is optional; if not provided, reserve constraints must be disabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cdef</span></code> penalizes unmet demand in the optimization objective.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.Cdef">
<span class="sig-name descname"><span class="pre">Cdef</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.Cdef" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.Rreq">
<span class="sig-name descname"><span class="pre">Rreq</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.Rreq" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.demand" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.has_history">
<span class="sig-name descname"><span class="pre">has_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.has_history" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit"><span class="pre">ThermalUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData.units" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.</span></span><span class="sig-name descname"><span class="pre">ThermalUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RU</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RD</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SC</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_up</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_down</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_status_h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pw_breaks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pw_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data container for a thermal generating unit with unit commitment attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) â€“ Unique identifier of the thermal unit.</p></li>
<li><p><strong>Pmin</strong> (<em>float</em>) â€“ Minimum operating power output (MW).</p></li>
<li><p><strong>Pmax</strong> (<em>float</em>) â€“ Maximum operating power output (MW).</p></li>
<li><p><strong>RU</strong> (<em>float</em>) â€“ Ramp-up limit (MW per period).</p></li>
<li><p><strong>RD</strong> (<em>float</em>) â€“ Ramp-down limit (MW per period).</p></li>
<li><p><strong>a</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Fixed cost coefficient ($/h), default is 0.0.</p></li>
<li><p><strong>b</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Linear generation cost coefficient ($/MWh), default is 0.0.</p></li>
<li><p><strong>c</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Quadratic generation cost coefficient ($/MWhÂ²), default is 0.0.</p></li>
<li><p><strong>SC</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Hot start-up cost ($), default is 0.0.</p></li>
<li><p><strong>t_up</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Minimum up-time (hours/periods), default is 1.</p></li>
<li><p><strong>t_down</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Minimum down-time (hours/periods), default is 1.</p></li>
<li><p><strong>init_status_h</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Value to compute initial t_min_up/t_min_down</p></li>
<li><p><strong>u0</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Initial commitment status at t=0 (1=ON, 0=OFF), default is 0.</p></li>
<li><p><strong>p0</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Initial generation level at t=0 (MW), default is 0.0.</p></li>
<li><p><strong>pw_breaks</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) â€“ Breakpoints for piecewise-linear cost approximation.</p></li>
<li><p><strong>pw_costs</strong> (<em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><em>optional</em>) â€“ Cost values corresponding to the piecewise breakpoints.</p></li>
<li><p><strong>gamma</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Emission factor or auxiliary cost coefficient (unit-dependent),
default is 0.0.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The quadratic cost curve is typically defined as:
<code class="docutils literal notranslate"><span class="pre">C(p)</span> <span class="pre">=</span> <span class="pre">a</span> <span class="pre">*</span> <span class="pre">u</span> <span class="pre">+</span> <span class="pre">b</span> <span class="pre">*</span> <span class="pre">p</span> <span class="pre">+</span> <span class="pre">c</span> <span class="pre">*</span> <span class="pre">pÂ²</span> <span class="pre">+</span> <span class="pre">SC</span> <span class="pre">*</span> <span class="pre">y</span></code>,
where <code class="docutils literal notranslate"><span class="pre">u</span></code> is the commitment status and <code class="docutils literal notranslate"><span class="pre">y</span></code> the startup indicator.</p></li>
<li><p>Piecewise approximations use <code class="docutils literal notranslate"><span class="pre">pw_breaks</span></code> and <code class="docutils literal notranslate"><span class="pre">pw_costs</span></code> for MILP models.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.Pmax">
<span class="sig-name descname"><span class="pre">Pmax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.Pmax" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.Pmin">
<span class="sig-name descname"><span class="pre">Pmin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.Pmin" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.RD">
<span class="sig-name descname"><span class="pre">RD</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.RD" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.RU">
<span class="sig-name descname"><span class="pre">RU</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.RU" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.SC">
<span class="sig-name descname"><span class="pre">SC</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.SC" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.a">
<span class="sig-name descname"><span class="pre">a</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.a" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.b">
<span class="sig-name descname"><span class="pre">b</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.b" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.c">
<span class="sig-name descname"><span class="pre">c</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.c" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.gamma">
<span class="sig-name descname"><span class="pre">gamma</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.gamma" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.init_status_h">
<span class="sig-name descname"><span class="pre">init_status_h</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.init_status_h" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.p0">
<span class="sig-name descname"><span class="pre">p0</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.p0" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.pw_breaks">
<span class="sig-name descname"><span class="pre">pw_breaks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.pw_breaks" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.pw_costs">
<span class="sig-name descname"><span class="pre">pw_costs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.pw_costs" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.t_down">
<span class="sig-name descname"><span class="pre">t_down</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.t_down" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.t_up">
<span class="sig-name descname"><span class="pre">t_up</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.t_up" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.u0">
<span class="sig-name descname"><span class="pre">u0</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalUnit.u0" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ThermalGenerator.ThermalEquations">
<span id="naivepydessem-thermalgenerator-thermalequations-module"></span><h6>NaivePyDESSEM.ThermalGenerator.ThermalEquations module<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator.ThermalEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Model Expression Utilities for Pyomo Optimization</p>
<section id="id7">
<h6 aria-level="7">Author<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id8">
<h6 aria-level="7">Description<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to thermal power generation in Pyomo models. These expressions
can be incrementally assembled and used in constraints (e.g., power balance)
or in the objective function (e.g., cost minimization).</p>
<p>Functions are designed to be modular and composable, allowing the user to
build lists of partial expressions from multiple sources (e.g., thermal,
hydro, renewable, storage) and sum them later into complete constraints
or cost functions.</p>
<p>All functions operate safely: they first verify the presence of required
model components (e.g., sets, variables, parameters) before contributing
expressions. If components are missing, the expressions are skipped
silently, enabling flexible model composition.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To support modular construction of the objective function, especially
when not all energy sources are known in advance.</p></li>
<li><p>To build power balance equations at each time step by aggregating
contributions from thermal and other sources.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_thermal_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_thermal_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">BalanceConstraint</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">)</span> <span class="o">==</span> <span class="n">model</span><span class="o">.</span><span class="n">Demand</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>All expressions returned are Pyomo symbolic expressions.</p></li>
<li><p>This module assumes the model follows the naming convention:
â€˜thermal_pâ€™, â€˜thermal_uâ€™, â€˜thermal_yâ€™, â€˜thermal_SCâ€™, etc.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalEquations.add_thermal_balance_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalEquations.</span></span><span class="sig-name descname"><span class="pre">add_thermal_balance_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalEquations.add_thermal_balance_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append the thermal generation expression at a given time step t
to the balance equation expression list.</p>
<p>This is intended for use in constructing hybrid or modular power
balance constraints where multiple sources (thermal, hydro, solar, etc.)
contribute to the total injected power at each time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model containing the thermal variables.</p></li>
<li><p><strong>t</strong> (<em>int</em>) â€“ Time index for which the expression should be generated.</p></li>
<li><p><strong>balance_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions to which the thermal component is appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list including the thermal power contribution at time t.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalEquations.add_thermal_cost_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalEquations.</span></span><span class="sig-name descname"><span class="pre">add_thermal_cost_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalEquations.add_thermal_cost_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append thermal generation cost terms to the total cost expression list,
if the required model components are present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing thermal data.</p></li>
<li><p><strong>cost_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions to be used in the objective function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list including thermal cost terms if available.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder">
<span id="naivepydessem-thermalgenerator-thermalgeneratorbuilder-module"></span><h6>NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder module<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Model Builder</p>
<section id="id9">
<h6 aria-level="7">Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h6 aria-level="7">Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>This module provides a high-level builder function for thermal UC models.
It orchestrates the composition of Pyomo model objects by combining:</p>
<ul class="simple">
<li><p>Sets and parameters (<em>thermal_components.thermal_add_sets_and_params</em>)</p></li>
<li><p>Variables (<em>thermal_components.thermal_add_variables_uc</em>)</p></li>
<li><p>Constraint families (<em>thermal_constraints</em>)</p></li>
<li><p>Objective functions (<em>thermal_objectives</em>)</p></li>
<li><dl class="simple">
<dt>Optional features:</dt><dd><ul>
<li><p>Reserve provision and requirement constraints</p></li>
<li><p>Emissions/fuel caps</p></li>
<li><p>Piecewise-linear (PWL) variable cost representation</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="builder-function">
<h6 aria-level="7">Builder Function<a class="headerlink" href="#builder-function" title="Link to this heading">ïƒ</a></h6>
<p><em>build_thermal_uc(data, objective, include_reserve, include_objective)</em></p>
<p>Parameters:</p>
<ul class="simple">
<li><p>data            : ThermalData object with horizon, demand, and unit info</p></li>
<li><p>objective       : â€œmiqpâ€ (quadratic) or â€œpwlâ€ (piecewise linear)</p></li>
<li><p>include_reserve : bool, add reserve variables/constraints if True</p></li>
<li><p>include_objective : bool, add objective function</p></li>
</ul>
<p>Returns:</p>
<ul class="simple">
<li><p>A fully assembled Pyomo ConcreteModel ready to be solved by MILP/MIQP solvers
(e.g., Gurobi, CPLEX, SCIP) or MINLP solvers (via MindtPy with glpk/Ipopt).</p></li>
</ul>
</section>
<section id="id11">
<h6 aria-level="7">Usage<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>This is the main entry point to generate UC test cases from ThermalData
instances. It ensures consistency across modules and allows easy switching
between formulations.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder.add_thermal_problem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_thermal_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData"><span class="pre">ThermalData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'miqp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_reserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder.add_thermal_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a thermal unit-commitment (UC) problem in Pyomo.</p>
<p>This builder configures a thermal UC optimization model by attaching sets,
parameters, decision variables, and standard operational constraints. It
supports both MIQP (quadratic cost) and PWL (piecewise linear cost)
formulations, with optional reserve requirements and objective definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which the thermal UC problem will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><em>ThermalData</em></a>) â€“ Input data structure containing unit characteristics, cost parameters,
horizon length, demand, reserve requirements, and initial conditions.</p></li>
<li><p><strong>objective</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Cost modeling approach. Options:
- â€œmiqpâ€ : quadratic production cost (default),
- â€œpwlâ€  : piecewise linear production cost.</p></li>
<li><p><strong>include_reserve</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, include spinning reserve variables and constraints
(default False).</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, attach the cost-minimization objective function
appropriate for the chosen cost type (default False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with thermal UC constraints and, if enabled,
the objective function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Core constraints include: balance, capacity, startup/shutdown logic,
ramping, and minimum up/down times.</p></li>
<li><p>When include_reserve=True, a reserve requirement constraint is added.</p></li>
<li><p>When objective=â€pwlâ€ and include_objective=True, piecewise cost
variables and constraints are attached along with the linear objective.</p></li>
<li><p>When objective=â€miqpâ€ and include_objective=True, a quadratic
cost objective is set.</p></li>
<li><p>This routine assumes that <em>thermal_add_sets_and_params</em> and
<em>thermal_add_variables_uc</em> are available and correctly configured.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">add_thermal_problem</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">objective</span><span class="o">=</span><span class="s2">&quot;miqp&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">include_reserve</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">include_objective</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;class &#39;pyomo.core.base.PyomoModel.ConcreteModel&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder.build_thermal_uc">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_thermal_uc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData"><span class="pre">ThermalData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'miqp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_reserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder.build_thermal_uc" title="Link to this definition">ïƒ</a></dt>
<dd><p>Builds a modular thermal Unit Commitment (UC) Pyomo model.</p>
<p>This function integrates all sets, parameters, variables,
constraints, and objectives required for the thermal UC problem.
The model may be constructed with either a quadratic cost
function (MIQP) or a piecewise linear cost approximation (PWL).
Optional constraints for spinning reserve and global emissions
caps are also supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>object</em>) â€“ <p>Data container providing unit and system information.
Must include:</p>
<ul>
<li><p>demand profile</p></li>
<li><p>unit technical parameters (min/max power, ramps,
minimum up/down times, costs, etc.)</p></li>
</ul>
</p></li>
<li><p><strong>objective</strong> (<em>{&quot;miqp&quot;</em><em>, </em><em>&quot;pwl&quot;}</em><em>, </em><em>optional</em>) â€“ <p>Type of objective function to use:</p>
<ul>
<li><p>â€miqpâ€: quadratic cost coefficients (a, b, c).</p></li>
<li><dl class="simple">
<dt>â€pwlâ€<span class="classifier">piecewise linear cost with SOS2/linearization.</span></dt><dd><p>Default is â€œmiqpâ€.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>include_reserve</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to include spinning reserve variables and
reserve requirement constraints (default False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A fully constructed Pyomo model ready for solving
with a MILP/MIQP solver.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.opt</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolverFactory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">NaivePyDESSEM.ThermalGenerator.ThermalGeneratorBuilder</span><span class="w"> </span><span class="kn">import</span> <span class="n">build_thermal_uc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">build_thermal_uc</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">data</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">objective</span><span class="o">=</span><span class="s2">&quot;pwl&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_reserve</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_emissions</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opt</span> <span class="o">=</span> <span class="n">SolverFactory</span><span class="p">(</span><span class="s2">&quot;gurobi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span><span class="p">)</span>
<span class="go">optimal</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Reserve constraints require that reserve variables r[g, t]
are declared during variable creation.</p></li>
<li><p>The piecewise linear objective uses SOS2 variables or
McCormick envelopes for convexification.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ThermalGenerator.ThermalObjectives">
<span id="naivepydessem-thermalgenerator-thermalobjectives-module"></span><h6>NaivePyDESSEM.ThermalGenerator.ThermalObjectives module<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator.ThermalObjectives" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Objectives</p>
<section id="id12">
<h6 aria-level="7">Author<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id13">
<h6 aria-level="7">Description<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<p>Objective functions for thermal unit-commitment (UC) models in Pyomo.
Two major formulations are supported:</p>
<ol class="arabic">
<li><p>Mixed-Integer Quadratic Programming (MIQP)
Cost structure per unit and period:</p>
<blockquote>
<div><p>a * u + b * p + c * p^2 + SC * y + Cdef * D</p>
</div></blockquote>
<p>capturing fixed commitment cost, linear/quadratic variable cost,
hot start-up cost, and deficit penalty.</p>
</li>
<li><p>Mixed-Integer Linear Programming (MILP) with Piecewise Linear (PWL) cost
Variable cost represented by linear segments (Piecewise/SOS2).
Objective includes:</p>
<blockquote>
<div><p>a * u  +  Cvar[g,t]  +  SC * y  +  Cdef * D</p>
</div></blockquote>
</li>
</ol>
</section>
<section id="id14">
<h6 aria-level="7">Usage<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Call <em>set_objective_thermo_miqp(m)</em> for the quadratic-cost UC model.</p></li>
<li><p>Call <em>set_objective_thermo_pwl(m)</em> for the piecewise-linear-cost UC model.
Both functions attach a Pyomo <em>Objective</em> set for minimization.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensure unit consistency for costs (e.g., $/h vs $/MWh) and for power/energy.</p></li>
<li><p>The functions assume that all referenced sets, variables and parameters
have been previously added to the model.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalObjectives.set_objective_thermo_miqp">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalObjectives.</span></span><span class="sig-name descname"><span class="pre">set_objective_thermo_miqp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalObjectives.set_objective_thermo_miqp" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define a mixed-integer quadratic programming (MIQP) objective.</p>
<p>Minimizes the total operating cost over the planning horizon, composed of:
- Quadratic variable generation cost: <em>a * u + b * p + c * p^2</em>
- Start-up cost: <em>SC * y</em>
- Deficit penalty: <em>Cdef * D</em></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ <p>Pyomo model with:</p>
<ul class="simple">
<li><p>Sets: <em>m.TG</em> (thermal units), <em>m.T</em> (time periods)</p></li>
<li><dl class="simple">
<dt>Variables:</dt><dd><p><em>m.thermal_p[g,t]</em> (MW), <em>m.thermal_u[g,t]</em> (binary),
<em>m.thermal_y[g,t]</em> (binary), <em>m.D[t]</em> (MW)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Parameters:</dt><dd><p><em>m.thermal_a[g]</em>, <em>m.thermal_b[g]</em>, <em>m.thermal_c[g]</em> (cost coeffs),
<em>m.thermal_SC[g]</em> (start-up cost), <em>m.Cdef</em> (deficit cost)</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with quadratic objective <em>m.OBJ</em> set to minimize total cost.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assuming sets, variables, and parameters are already defined:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">set_objective_thermo_miqp</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">OBJ</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>  
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Prefer MIQP when accurate heat-rate curves are important and the solver
handles convex quadratic objectives efficiently.</p></li>
<li><p>Ensure convexity: typically <em>m.thermal_c[g] &gt;= 0</em> for all <em>g</em>.</p></li>
<li><p>Check scaling of cost coefficients to avoid numerical issues.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalObjectives.set_objective_thermo_pwl">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalObjectives.</span></span><span class="sig-name descname"><span class="pre">set_objective_thermo_pwl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalObjectives.set_objective_thermo_pwl" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define a piecewise linear (PWL) objective (MILP).</p>
<p>Minimizes the total operating cost over the planning horizon, composed of:</p>
<ul class="simple">
<li><p>Piecewise linear variable generation cost: <em>Cvar[g,t]</em></p></li>
<li><p>Fixed commitment cost: <em>a * u</em></p></li>
<li><p>Start-up cost: <em>SC * y</em></p></li>
<li><p>Deficit penalty: <em>Cdef * D</em></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ <p>Pyomo model with:</p>
<ul class="simple">
<li><p>Sets: <em>m.TG</em> (thermal units), <em>m.T</em> (time periods)</p></li>
<li><dl class="simple">
<dt>Variables:</dt><dd><p><em>m.thermal_Cvar[g,t]</em> (PWL cost), <em>m.thermal_u[g,t]</em> (binary),
<em>m.thermal_y[g,t]</em> (binary), <em>m.D[t]</em> (MW)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Parameters:</dt><dd><p><em>m.thermal_a[g]</em> (fixed cost), <em>m.thermal_SC[g]</em> (start-up cost),
<em>m.Cdef</em> (deficit cost)</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model with linear objective <em>m.OBJ</em> set to minimize total cost.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assuming PWL cost variables/constraints are defined:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">set_objective_thermo_pwl</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">OBJ</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>  
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Prefer PWL when MILP solvers perform better on large instances or when
granular control of approximation accuracy is desired.</p></li>
<li><p>Ensure the PWL construction (breakpoints/SOS2) matches unit operating ranges.</p></li>
<li><p>Keep cost units consistent across all terms to maintain a well-scaled model.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ThermalGenerator.ThermalPieceWise">
<span id="naivepydessem-thermalgenerator-thermalpiecewise-module"></span><h6>NaivePyDESSEM.ThermalGenerator.ThermalPieceWise module<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator.ThermalPieceWise" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Piecewise Linear Cost Module</p>
<section id="id15">
<h6 aria-level="7">Author<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id16">
<h6 aria-level="7">Description<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<p>This module defines utilities to construct piecewise-linear (PWL) cost
functions for thermal unit commitment (UC) models in Pyomo. It enables
the replacement of quadratic variable costs with linear approximations
compatible with MILP solvers.</p>
</section>
<section id="features">
<h6 aria-level="7">Features<a class="headerlink" href="#features" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Builds Cvar[g,t] = f(p[g,t]) using Pyomoâ€™s <em>Piecewise</em> component.</p></li>
<li><p>Supports convex-combination (SOS2) representation.</p></li>
<li><p>Enforces equality Cvar[g,t] = C_PWL(p[g,t]).</p></li>
<li><p>Allows unit-specific breakpoints (pw_breaks[g]) and cost values
(pw_costs[g]) for accurate curve fitting.</p></li>
</ul>
</section>
<section id="requirements">
<h6 aria-level="7">Requirements<a class="headerlink" href="#requirements" title="Link to this heading">ïƒ</a></h6>
<ul>
<li><p>A Pyomo model with:</p>
<blockquote>
<div><ul class="simple">
<li><p>m.p[g,t]   : generation variable (MW)</p></li>
<li><p>m.Cvar[g,t]: PWL cost variable (R$/h)</p></li>
<li><p>m.pw_breaks[g], m.pw_costs[g] defined as lists of (x, f(x))
points per unit g.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="id17">
<h6 aria-level="7">Usage<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h6>
<p>Call <em>thermal_add_piecewise_cost(m)</em> after sets, parameters, and variables have
been added. For each unit g âˆˆ G and time t âˆˆ T, a PWL relation is built.</p>
<p class="rubric">Example</p>
<p>pw_breaks = [0, 150, 300, 455]
pw_costs  = [0, 2500, 6000, 10000]</p>
<p>Cvar[g,t] is constrained such that:</p>
<blockquote>
<div><p>Cvar[g,t] = Piecewise(p[g,t]; pw_breaks, pw_costs)</p>
</div></blockquote>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalPieceWise.thermal_add_piecewise_cost">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalPieceWise.</span></span><span class="sig-name descname"><span class="pre">thermal_add_piecewise_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalPieceWise.thermal_add_piecewise_cost" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add piecewise-linear generation cost expression Cvar[g,t] = C_PWL_g(p[g,t]).</p>
<p>For each thermal unit g and time period t, this function constructs a
piecewise-linear (PWL) cost expression using predefined breakpoints
and cost values. The implementation uses the â€˜CCâ€™ (convex combination)
method with equality enforcement.</p>
<section id="id18">
<h6 aria-level="7">Requirements<a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h6>
<dl>
<dt>m<span class="classifier">pyomo.environ.ConcreteModel</span></dt><dd><p>The Pyomo model must include:</p>
<blockquote>
<div><ul class="simple">
<li><p>m.Cvar[g, t] : cost variable</p></li>
<li><p>m.p[g, t] : power generation variable</p></li>
<li><p>m.thermal_pw_breaks[g] : list of breakpoints (strictly increasing)</p></li>
<li><p>m.thermal_pw_costs[g] : list of corresponding cost values</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">raises ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If a unit g has undefined or mismatched <cite>pw_breaks</cite> and <cite>pw_costs</cite>.</p>
</dd>
<dt class="field-even">returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The modified model with one Piecewise component per unit.</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Each unit g must define a consistent pair of lists: <cite>pw_breaks[g]</cite> and
<cite>pw_costs[g]</cite>, with identical length.</p></li>
<li><dl class="simple">
<dt>Internally, the function uses <cite>pyomo.environ.Piecewise</cite> with:</dt><dd><ul>
<li><p>Index set: model.T</p></li>
<li><p>Representation: â€˜CCâ€™ (convex combination with SOS2 variables)</p></li>
<li><p>Constraint type: â€˜EQâ€™ (enforces equality between cost and function value)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Each unit g receives a component named â€˜pw_{g}â€™.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">thermal_add_piecewise_cost</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">pw_G1</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
<span class="go">Piecewise component for thermal unit G1 over time.</span>
</pre></div>
</div>
</section>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ThermalGenerator.ThermalVars">
<span id="naivepydessem-thermalgenerator-thermalvars-module"></span><h6>NaivePyDESSEM.ThermalGenerator.ThermalVars module<a class="headerlink" href="#module-NaivePyDESSEM.ThermalGenerator.ThermalVars" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Sets, Parameters and Variables</p>
<section id="id19">
<h6 aria-level="7">Author<a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id20">
<h6 aria-level="7">Description<a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h6>
<p>This module provides the Pyomo set/parameter declarations and variable
definitions for thermal unit commitment (UC) models. It is intended to
be combined with constraint and objective builder modules.</p>
</section>
<section id="id21">
<h6 aria-level="7">Features<a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time horizon (T) and thermal unit set (G)</p></li>
<li><p>Demand profile d[t] and deficit penalty Cdef</p></li>
<li><dl class="simple">
<dt>Unit-level parameters:</dt><dd><ul>
<li><p>Pmin, Pmax  : capacity bounds</p></li>
<li><p>RU, RD      : ramp-up / ramp-down limits</p></li>
<li><p>a, b, c     : cost coefficients for MIQP (a * u + b * p + c * pÂ²)</p></li>
<li><p>SC          : start-up (hot) cost</p></li>
<li><p>t_up, t_dn  : minimum up/down times</p></li>
<li><p>u0, p0      : initial commitment state and output</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Optional system-wide parameters:</dt><dd><ul>
<li><p>Rreq[t]     : spinning reserve requirement</p></li>
<li><p>gamma[g]    : emissions factor</p></li>
<li><p>CO2Cap      : global emission/fuel cap</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Optional piecewise data:</dt><dd><ul>
<li><p>pw_breaks[g], pw_costs[g] : piecewise linear cost curve points</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="variables">
<h6 aria-level="7">Variables<a class="headerlink" href="#variables" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>p[g,t] : generation (MW)</p></li>
<li><p>D[t]   : deficit (MW)</p></li>
<li><p>r[g,t] : reserve (MW, optional)</p></li>
<li><p>Cvar[g,t] : variable cost in PWL formulations (optional)</p></li>
<li><p>u[g,t] : on/off state (binary)</p></li>
<li><p>y[g,t] : start-up indicator (binary)</p></li>
<li><p>w[g,t] : shut-down indicator (binary)</p></li>
</ul>
</section>
<section id="id22">
<h6 aria-level="7">Usage<a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h6>
<p>Call <em>thermal_add_sets_and_params(m, data)</em> to populate a Pyomo model with
sets and parameters from a ThermalData object.</p>
<p>Call <em>thermal_add_variables_uc(m, include_reserve=True/False, use_pwl=True/False)</em>
to attach decision variables for UC formulations (MIQP or MILP-PWL).</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalVars.thermal_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalVars.</span></span><span class="sig-name descname"><span class="pre">thermal_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDESSEM.ThermalGenerator.ThermalDataTypes.ThermalData"><span class="pre">ThermalData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalVars.thermal_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initializes sets and parameters for the thermal Unit Commitment (UC) model.</p>
<p>This function maps unit-level data (technical parameters, costs,
initial conditions, optional reserve and emissions information,
and piecewise cost segments) into Pyomo sets and parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to be enriched with sets and parameters.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><em>ThermalData</em></a>) â€“ <p>Data container with attributes:</p>
<ul>
<li><p>horizon : int</p>
<blockquote>
<div><p>Number of time periods.</p>
</div></blockquote>
</li>
<li><p>demand : dict</p>
<blockquote>
<div><p>Demand profile indexed by time.</p>
</div></blockquote>
</li>
<li><p>Cdef : float</p>
<blockquote>
<div><p>Cost of deficit ($/MWh).</p>
</div></blockquote>
</li>
<li><p>units : dict</p>
<blockquote>
<div><p>Dictionary keyed by unit id, each with attributes
Pmin, Pmax, RU, RD, a, b, c, SC, t_up, t_down, u0, p0,
gamma (optional), pw_breaks (optional), pw_costs (optional).</p>
</div></blockquote>
</li>
<li><p>Rreq : dict, optional</p>
<blockquote>
<div><p>Reserve requirement per period.</p>
</div></blockquote>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with sets <strong>m.T, m.TG</strong> and all unit/system parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">thermal_add_sets_and_params</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">TG</span><span class="p">)</span>
<span class="go">[&#39;UT1&#39;, &#39;UT2&#39;, &#39;UT3&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">500.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ThermalGenerator.ThermalVars.thermal_add_variables_uc">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ThermalGenerator.ThermalVars.</span></span><span class="sig-name descname"><span class="pre">thermal_add_variables_uc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_reserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_pwl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ThermalGenerator.ThermalVars.thermal_add_variables_uc" title="Link to this definition">ïƒ</a></dt>
<dd><p>Declares decision variables for the thermal Unit Commitment (UC) model.</p>
<p>Variables include continuous generation and deficit levels,
binary commitment/start/stop indicators, and optionally,
reserve and piecewise cost variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model where variables will be added.</p></li>
<li><p><strong>include_reserve</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, reserve variables <strong>m.r[g, t]</strong> are created (default False).</p></li>
<li><p><strong>use_pwl</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, piecewise linear cost variables <strong>m.Cvar[g, t]</strong>
are created (default False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The updated model with added decision variables:
- Continuous:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>m.p[g, t]</strong> : generation [MW].</p></li>
<li><p><strong>m.D[t]</strong> : deficit [MW].</p></li>
<li><p><strong>m.r[g, t]</strong> : reserve [MW], optional.</p></li>
<li><p><strong>m.Cvar[g, t]</strong> : piecewise cost variable, optional.</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Binary:</p>
<ul>
<li><p><strong>m.u[g, t]</strong> : commitment (on/off).</p></li>
<li><p><strong>m.y[g, t]</strong> : startup indicator.</p></li>
<li><p><strong>m.w[g, t]</strong> : shutdown indicator.</p></li>
</ul>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">thermal_add_sets_and_params</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">thermal_add_variables_uc</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">include_reserve</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_pwl</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;UT1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
<span class="go">Variable p[UT1,1]</span>
<span class="go">Domain: NonNegativeReals</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p><strong>Reserve modeling (**include_reserve=True</strong>)**</p>
<ul class="simple">
<li><p><strong>Advantages</strong>: Captures spinning reserve obligations; ensures reliability
under contingencies; critical for adequacy/security studies.</p></li>
<li><p><strong>Trade-offs</strong>: Increases model size with additional variables
<strong>m.r[g, t]</strong> and constraints; may slow down MILP/MIQP solution.</p></li>
<li><p><strong>Guidance</strong>: Use if reserve margins are central to the study; omit in
purely economic dispatch tests for simplicity.</p></li>
</ul>
<p><strong>Piecewise costs (**use_pwl=True</strong>)**4</p>
<ul class="simple">
<li><p><strong>Advantages</strong>: Converts quadratic costs to MILP form; exploits strong
LP relaxations; often faster and more scalable on large systems.</p></li>
<li><p><strong>Trade-offs</strong>: Approximation error unless sufficient breakpoints are
used; adds SOS2 or convex-combination variables, increasing model size.</p></li>
<li><p><strong>Guidance</strong>: Use when quadratic costs cannot be handled efficiently
by the chosen solver, or when MILP-only solvers are required.</p></li>
</ul>
</dd></dl>

</section>
</section>
<span id="document-NaivePyDESSEM.cli"></span><section id="naivepydessem-cli-package">
<h5>NaivePyDESSEM.cli package<a class="headerlink" href="#naivepydessem-cli-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDESSEM.cli">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDESSEM.cli" title="Link to this heading">ïƒ</a></h6>
<section id="naivepydessem-cli-subpackage">
<h6 aria-level="7">NaivePyDESSEM â€“ CLI Subpackage<a class="headerlink" href="#naivepydessem-cli-subpackage" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="author">
<h6 aria-level="8">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="8">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>This subpackage contains the command-line interface (CLI) utilities for
the <strong>NaivePyDESSEM</strong> project. It enables interactive and scripted execution
of core workflows such as solving dispatch models and visualizing results,
without requiring direct code interaction.</p>
</section>
<section id="modules">
<h6 aria-level="8">Modules<a class="headerlink" href="#modules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>cli.py</dt><dd><p>Solver CLI entry point. Loads a YAML case file, builds and solves the model,
and exports dispatch results to a spreadsheet.</p>
</dd>
<dt>plot_cli.py</dt><dd><p>Interactive and scriptable plotting/export interface. Allows users to load
dispatch data from files, select categories, and export LaTeX tables or
visual plots (bar or line).</p>
</dd>
</dl>
</section>
<section id="features">
<h6 aria-level="8">Features<a class="headerlink" href="#features" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Modular CLI design for pedagogical workflows.</p></li>
<li><p>Integration with Colorama for enhanced terminal output.</p></li>
<li><p>Supports interactive prompts and fully scriptable modes.</p></li>
<li><p>Compatible with <em>.csv</em>, <em>.xlsx</em>, and <em>.parquet</em> formats.</p></li>
<li><p>Export options include LaTeX tables (with styling) and high-quality plots.</p></li>
</ul>
</section>
<section id="example-usage">
<h6 aria-level="8">Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading">ïƒ</a></h6>
<p>Solve a dispatch case and export results to CSV:</p>
<blockquote>
<div><p>$ python -m NaivePyDESSEM.CLI.cli_solve case.yaml â€“out_dir results â€“out_file output.csv</p>
</div></blockquote>
<p>Export selected results as LaTeX table and plots:</p>
<blockquote>
<div><p>$ python -m NaivePyDESSEM.CLI.cli_plot results/output.csv â€“mode table -c G Q V â€“out_dir latex â€“out_file table.tex</p>
</div></blockquote>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The CLI scripts are intended for instructional use in energy systems modeling.</p></li>
<li><p>Users can extend or modify CLI logic to accommodate other workflows or backends.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#NaivePyDESSEM.Solver.solve" title="NaivePyDESSEM.Solver.solve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDESSEM.Solver.solve</span></code></a></dt><dd><p>Model construction and solving routine.</p>
</dd>
<dt><a class="reference internal" href="#module-NaivePyDESSEM.DataFrames" title="NaivePyDESSEM.DataFrames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDESSEM.DataFrames</span></code></a></dt><dd><p>Functions for assembling dispatch outputs.</p>
</dd>
<dt><a class="reference internal" href="#module-NaivePyDESSEM.Utils" title="NaivePyDESSEM.Utils"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDESSEM.Utils</span></code></a></dt><dd><p>Formatting, LaTeX, and input helpers.</p>
</dd>
</dl>
</div>
</section>
</section>
</section>
<section id="submodules">
<h6>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDESSEM.cli.cli">
<span id="naivepydessem-cli-cli-module"></span><h6>NaivePyDESSEM.cli.cli module<a class="headerlink" href="#module-NaivePyDESSEM.cli.cli" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Solver cli for NaivePyDESSEM framework</p>
<section id="id1">
<h6 aria-level="7">Author<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id2">
<h6 aria-level="7">Description<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>This script provides a command-line interface (CLI) for solving power system
dispatch problems using the NaivePyDESSEM framework. It loads a structured
YAML configuration file containing the model horizon, demand, and definitions
of thermal, hydro, renewable, and storage units.</p>
<p>Once the Pyomo model is built and solved via the specified solver (e.g., GLPK,
CBC, MindtPy), the resulting dispatch decisions are exported to a tabular
DataFrame and saved to disk in a user-defined format (CSV, Excel, or Parquet).</p>
</section>
<section id="id3">
<h6 aria-level="7">Features<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Model construction and solver execution based on <em>NaivePyDESSEM.Solver</em></p></li>
<li><p>Tabular export using <em>NaivePyDESSEM.DataFrames.build_dispatch_dataframe</em></p></li>
<li><p>Interactive or scriptable invocation</p></li>
<li><p>Colorized console output via <em>colorama</em> for enhanced readability</p></li>
</ul>
</section>
<section id="dependencies">
<h6 aria-level="7">Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>argparse</p></li>
<li><p>os</p></li>
<li><p>pandas</p></li>
<li><p>colorama</p></li>
<li><p>pyomo.environ</p></li>
<li><p>NaivePyDESSEM.Solver</p></li>
<li><p>NaivePyDESSEM.DataFrames</p></li>
</ul>
</section>
<section id="usage">
<h6 aria-level="7">Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h6>
<p>$ python cli.py case.yaml â€“out_dir results â€“out_file dispatch.xlsx</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.cli.main">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.cli.cli.main" title="Link to this definition">ïƒ</a></dt>
<dd><p>Command-line interface for solving and exporting dispatch results.</p>
<p>This function serves as the main entry point for the NaivePyDESSEM solver CLI.
It loads an input YAML file describing a power system dispatch problem, builds
and solves the corresponding Pyomo model, and exports the resulting dispatch
data to a structured file format (CSV, Excel, or Parquet).</p>
<p>The output includes generation, storage, and control decisions across all time
steps, organized into a tabular format suitable for post-processing or plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function performs file I/O and prints summary information to the console.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The input YAML file must include sections for at least one of: hydro, thermal,
renewable, or storage units, along with metadata and demand series.</p></li>
<li><p>The output DataFrame is rounded to zero for absolute values below 1e-3 for clarity.</p></li>
<li><p>Supported file extensions: <em>.csv</em>, <em>.xlsx</em>, <em>.xls</em>, <em>.parquet</em>.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>$ python cli.py case.yaml â€“out_dir results â€“out_file dispatch.xlsx</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.cli.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.cli.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.cli.cli.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.cli.save_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.cli.</span></span><span class="sig-name descname"><span class="pre">save_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.cli.cli.save_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Save a DataFrame to disk in the format specified by the file extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to be saved.</p></li>
<li><p><strong>path</strong> (<em>str</em>) â€“ The output file path (must end with .csv, .xlsx, or .parquet).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the file extension is not supported.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.cli.plot_cli">
<span id="naivepydessem-cli-plot-cli-module"></span><h6>NaivePyDESSEM.cli.plot_cli module<a class="headerlink" href="#module-NaivePyDESSEM.cli.plot_cli" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: CLI â€” Visualization and Export Interface</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module provides a command-line interface (CLI) for inspecting and exporting
the results of a solved NaivePyDESSEM dispatch model.</p>
<p>The CLI supports both interactive and non-interactive use, allowing users to:</p>
<ul class="simple">
<li><p>Export generation and control data as LaTeX tables.</p></li>
<li><p>Generate bar and line plots from selected result categories.</p></li>
<li><p>Save control variables (U, Y, W) as visually annotated LaTeX matrices.</p></li>
</ul>
</section>
<section id="id6">
<h6 aria-level="7">Features<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Supports CSV, Excel, and Parquet input formats.</p></li>
<li><p>Category-based selection of variables (e.g., G, Q, V, S, BAT, cost, CTRL).</p></li>
<li><p>Automated LaTeX formatting and colored control tables.</p></li>
<li><p>Customizable plot styling, labeling, and output paths.</p></li>
</ul>
</section>
<section id="categories">
<h6 aria-level="7">Categories<a class="headerlink" href="#categories" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>â€˜Gâ€™     : Generation (thermal, renewable, battery)</p></li>
<li><p>â€˜Qâ€™     : Turbine flow [hydro]</p></li>
<li><p>â€˜Vâ€™     : Volume [hydro]</p></li>
<li><p>â€˜Sâ€™     : Spillage [hydro]</p></li>
<li><p>â€˜BATâ€™   : Battery-specific (charge/discharge/SoC)</p></li>
<li><p>â€˜costâ€™  : Cost components per stage (var, start, deficit)</p></li>
<li><p>â€˜CTRLâ€™  : Control variables (U, Y, W)</p></li>
</ul>
</section>
<section id="id7">
<h6 aria-level="7">Dependencies<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>pandas</p></li>
<li><p>matplotlib</p></li>
<li><p>colorama</p></li>
<li><p>argparse</p></li>
<li><p>NaivePyDESSEM utilities: plotting, formatting, LaTeX export</p></li>
</ul>
</section>
<section id="id8">
<h6 aria-level="7">Usage<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>Run via command line:</dt><dd><p>$ python plot_cli.py results.csv â€“mode table â€“category G cost â€“out-dir tables</p>
</dd>
<dt>Or interactively:</dt><dd><p>$ python plot_cli.py results.parquet</p>
</dd>
</dl>
</section>
<section id="quick-examples">
<h6 aria-level="7">Quick examples<a class="headerlink" href="#quick-examples" title="Link to this heading">ïƒ</a></h6>
<p># 1) Non-interactive: stacked bar plot for Generation + Spillage
python plot_results_cli.py results/day1.parquet â€“mode plot â€“category G S â€“plot-style bar â€“stacked â€“title â€œGeneration &amp; Spillageâ€ â€“ylabel MW â€“out-dir plots â€“out-file gen_spill.png</p>
<p># 2) Non-interactive: LaTeX table for Volume and Costs
python plot_results_cli.py results/day1.csv â€“mode table â€“category V cost â€“title â€œReservoir Volume and Cost Variablesâ€ â€“label tab:vol_cost â€“out-dir tables â€“out-file vol_cost.tex</p>
<p># 3) Non-interactive: CTRL matrix (U/Y/W) with custom caption/label
python plot_results_cli.py results/day1.xlsx â€“mode ctrl â€“title â€œUnit Commitment Statusâ€ â€“label tab:uyw â€“out-dir tables â€“out-file uyw.tex</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.handle_control_variables">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_control_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.handle_control_variables" title="Link to this definition">ïƒ</a></dt>
<dd><p>Generate and export a colored LaTeX table for binary control variables.</p>
<p>This function prompts the user (if necessary) for export parameters and produces
a LaTeX table that visualizes control variables (U, Y, W) using a binary
color-coded scheme.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame containing control variable columns.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output directory path. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output .tex file name. Prompted if not provided.</p></li>
<li><p><strong>caption</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ Caption text for the LaTeX table. Prompted if None.</p></li>
<li><p><strong>label</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ LaTeX label for referencing the table. Prompted if None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The function saves the LaTeX file to disk and prints the location.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.handle_plot">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.handle_plot" title="Link to this definition">ïƒ</a></dt>
<dd><p>Generate and export plots for selected variable categories.</p>
<p>Supports both line and bar charts, including stacked bar plots. If not
fully specified via arguments, the function prompts the user for relevant
plot metadata and output settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ DataFrame containing simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ List of category identifiers to include in the plot.</p></li>
<li><p><strong>plot_style</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Plot type (â€œlineâ€ or â€œbarâ€). Prompted if not provided.</p></li>
<li><p><strong>stacked</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to stack bars (applies only to bar plots).</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Title of the plot. Prompted if not provided.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Label for the Y-axis. Prompted if not provided.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Directory to save the plot. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ File name for the saved image. Prompted if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Saves the plot to disk and prints the file location.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.handle_table">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.handle_table" title="Link to this definition">ïƒ</a></dt>
<dd><p>Export selected variables as a LaTeX table.</p>
<p>Filters the DataFrame based on one or more variable categories, formats it into
LaTeX using custom styling, and saves the result to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ DataFrame with simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ One or more category identifiers to include.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output directory path. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output .tex file name. Prompted if not provided.</p></li>
<li><p><strong>caption</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ Caption for the LaTeX table.</p></li>
<li><p><strong>label</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ LaTeX label for the table.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Writes the LaTeX table to the specified file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.load_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">load_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.load_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Load a pandas DataFrame from a supported file format.</p>
<p>Supports CSV, Excel (.xlsx, .xls), and Parquet formats. The file extension is used
to determine the appropriate loader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Full path to the data file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the file format is not supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.main">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.main" title="Link to this definition">ïƒ</a></dt>
<dd><p>Command-line interface (CLI) entry point for visualization and export.</p>
<p>This function enables both interactive and scripted execution modes for exporting
results from NaivePyDESSEM simulations. It supports the generation of:</p>
<ul class="simple">
<li><p>LaTeX tables for generation, flow, spillage, storage, cost, and control variables.</p></li>
<li><p>Binary control matrix tables with color-coded LaTeX formatting (U/Y/W).</p></li>
<li><p>Time-series plots (line or bar, stacked or grouped) for selected variable categories.</p></li>
</ul>
<p>The CLI can be invoked directly via command line with arguments, or interactively
with user prompts when arguments are omitted.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Results are saved to disk in the specified format. No value is returned.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Command-line usage:</p>
<blockquote>
<div><p>$ python plot_xli.py results.csv â€“mode table -c G cost â€“out-dir out â€“out-file results.tex</p>
</div></blockquote>
<p>Interactive usage:</p>
<blockquote>
<div><p>$ python plot_cli.py results.csv
&gt; Generate table, plot, or CTRL matrix? (table/plot/ctrl)
&gt; Enter category(ies) separated by spaces (e.g., G S V):
&gt; â€¦</p>
</div></blockquote>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Categories are case-insensitive. Recognized categories include:
â€œGâ€, â€œQâ€, â€œSâ€, â€œVâ€, â€œBATâ€, â€œcostâ€, â€œCTRLâ€.</p></li>
<li><p>For LaTeX export, output directory and file name are required.</p></li>
<li><p>For plotting, time column â€˜Tâ€™ is used if available; otherwise, index is used.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.prompt">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">prompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.prompt" title="Link to this definition">ïƒ</a></dt>
<dd><p>Prompt the user for input with a highlighted message.</p>
<p>If the message ends with â€œ[optional]â€, the user may press Enter to return an empty string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>str</em>) â€“ The message displayed to the user.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user response, stripped of leading and trailing whitespace.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.select_columns_multi">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">select_columns_multi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.select_columns_multi" title="Link to this definition">ïƒ</a></dt>
<dd><p>Filter and concatenate DataFrame columns across multiple categories.</p>
<p>Avoids column duplication by tracking previously added columns. Used to
assemble a view of variables spanning multiple categories (e.g., flow and volume).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The input DataFrame containing simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ List of category identifiers (e.g., [â€œGâ€, â€œSâ€, â€œVâ€, â€œcostâ€]).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame composed of all selected columns, in order of appearance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If no categories are provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.cli.plot_cli.select_variable_columns">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">select_variable_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.cli.plot_cli.select_variable_columns" title="Link to this definition">ïƒ</a></dt>
<dd><p>Filter DataFrame columns based on a single category.</p>
<p>The function selects columns corresponding to predefined variable categories
such as generation, flow, storage, control actions, and cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The input DataFrame containing simulation results.</p></li>
<li><p><strong>category</strong> (<em>str</em>) â€“ One of: {â€œGâ€, â€œQâ€, â€œSâ€, â€œVâ€, â€œBATâ€, â€œcostâ€, â€œCTRLâ€}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A filtered view of the DataFrame containing only relevant columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the category is unrecognized.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</div>
</section>
<section id="id1">
<h4>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h4>
</section>
<section id="module-NaivePyDESSEM.Builder">
<span id="naivepydessem-builder-module"></span><h4>NaivePyDESSEM.Builder module<a class="headerlink" href="#module-NaivePyDESSEM.Builder" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Model Builder from YAML Configuration</p>
<section id="id2">
<h5>Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h5>Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a unified interface for constructing a Pyomo-based
economical dispatch model from structured YAML or JSON input files.
It supports integration of multiple subsystems, including:</p>
<ul class="simple">
<li><p>Hydraulic generation units (UHEs)</p></li>
<li><p>Thermal generation units (UTs)</p></li>
<li><p>Renewable generators</p></li>
<li><p>Storage systems (batteries or reservoirs)</p></li>
<li><p>Deficit penalty model</p></li>
</ul>
<p>The model construction includes:</p>
<ul class="simple">
<li><p>Validation of structural consistency in input data.</p></li>
<li><p>Object-oriented dataclass translation of YAML structures.</p></li>
<li><p>Modular assembly of each subsystemâ€™s variables and constraints.</p></li>
<li><p>Construction of system-wide power balance constraint.</p></li>
<li><p>Cost-based objective function including startup, generation, and deficit costs.</p></li>
</ul>
</section>
<section id="usage">
<h5>Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h5>
<p>Use <cite>build_model_from_file(path)</cite> as the main entry point.</p>
<p>Ensure the YAML file has at least a <cite>meta</cite> section and one
of the technology sections: <cite>hydro</cite>, <cite>thermal</cite>, <cite>renewable</cite>, or <cite>storage</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Pyomo ConcreteModel ready for optimization.</p></li>
<li><p>Parsed dictionary representing the structured case.</p></li>
</ul>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[ConcreteModel, dict]</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Builder.build_balance_and_objective_from_yaml">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Builder.</span></span><span class="sig-name descname"><span class="pre">build_balance_and_objective_from_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Builder.build_balance_and_objective_from_yaml" title="Link to this definition">ïƒ</a></dt>
<dd><p>Construct the system-wide power balance constraint and total cost objective.</p>
<p>This function scans the parsed YAML content to determine which technologies
(thermal, hydro, storage, renewable) are present, and invokes their respective
expression builders to construct:</p>
<ul class="simple">
<li><p>model.Balance: a time-indexed Constraint for supply-demand balance</p></li>
<li><p>model.OBJ: an Objective for cost minimization</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model with required sets and variables already declared.</p></li>
<li><p><strong>yaml_data</strong> (<em>dict</em>) â€“ Parsed YAML dictionary with subsections for each technology.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The input model with balance constraints and objective function added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Builder.build_model_from_file">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Builder.</span></span><span class="sig-name descname"><span class="pre">build_model_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.Builder.build_model_from_file" title="Link to this definition">ïƒ</a></dt>
<dd><p>Load master data from YAML/JSON and build subsystem models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Path to a YAML file with sections: meta, demand, and one or
more of {hydro, thermal, renewable, storage}.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple with the builded model and the parsed case file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[pyomo.environ.ConcreteModel, Dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ On structural or validation errors in the input file.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.DataFrames">
<span id="naivepydessem-dataframes-module"></span><h4>NaivePyDESSEM.DataFrames module<a class="headerlink" href="#module-NaivePyDESSEM.DataFrames" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Build Dispatch DataFrame from Pyomo Model Results</p>
<section id="id4">
<h5>Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h5>Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h5>
<p>This utility extracts time series of dispatch decisions from a solved
Pyomo model and compiles them into a structured pandas DataFrame. It
supports hydropower, thermal generation, renewable sources, and storage
systems. The output can be used for reporting, visualization, or export
to CSV.</p>
<p>Main components extracted:
- Hydropower: turbined flow, storage volume, generation, spillage.
- Thermal: power output, on/off status, startup/shutdown, reserves.
- Renewable: available generation by unit.
- Storage: charge/discharge power, net injection, state of charge.
- System-wide: demand, deficit, cost components (variable, startup, deficit).</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.DataFrames.add_cost_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_cost_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.DataFrames.add_cost_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append cost components and total demand/deficit to the DataFrame.</p>
<p>This function computes and appends the variable generation cost,
startup cost, deficit cost, and total cost per time period.
It also includes total generation, demand, and deficit series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which cost components will be appended.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance with thermal and system-wide cost variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including cost components and energy balance data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.DataFrames.add_hydro_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_hydro_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.DataFrames.add_hydro_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append hydropower dispatch results to a pandas DataFrame.</p>
<p>This function extracts the turbined flow, storage volume, hydropower
generation, and spillage from a Pyomo model and appends them to the
given DataFrame, one column per unit and variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended. It may be empty.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing hydropower variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including hydropower dispatch results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.DataFrames.add_renewable_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_renewable_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.DataFrames.add_renewable_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append renewable generation results to a pandas DataFrame.</p>
<p>This function extracts renewable generation values from the Pyomo model
and appends them to the provided DataFrame, one column per renewable unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing renewable generation variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including renewable generation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.DataFrames.add_storage_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_storage_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.DataFrames.add_storage_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append storage dispatch results to a pandas DataFrame.</p>
<p>This function extracts charging, discharging, net output,
and state of charge (SoC) values from the Pyomo model and
adds them as columns to the DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing storage unit variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including storage dispatch results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.DataFrames.add_thermal_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_thermal_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.DataFrames.add_thermal_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append thermal dispatch results to a pandas DataFrame.</p>
<p>This function extracts generation, commitment (on/off), startup, shutdown,
and reserve values from the Pyomo model and appends them to the given
DataFrame. Optional variables such as reserve (<cite>r</cite>), startup (<cite>y</cite>), and
shutdown (<cite>w</cite>) are included if present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended. It may be empty.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing thermal generation variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including thermal dispatch results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.DataFrames.build_dispatch_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.DataFrames.</span></span><span class="sig-name descname"><span class="pre">build_dispatch_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDESSEM.DataFrames.build_dispatch_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build a full dispatch DataFrame with generation, cost, and balance data.</p>
<p>This function aggregates the dispatch results from all subsystems
(hydropower, thermal, renewable, storage) along with cost components
into a single structured pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing subsystem variables and time horizon.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with all relevant dispatch results and economic metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Formatters">
<span id="naivepydessem-formatters-module"></span><h4>NaivePyDESSEM.Formatters module<a class="headerlink" href="#module-NaivePyDESSEM.Formatters" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Format Numbers in Brazilian Currency Style</p>
<section id="id6">
<h5>Author<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id7">
<h5>Description<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a helper function to format numerical values in the
Brazilian currency style: periods as thousand separators and commas for
decimals (e.g., 1234567.89 â†’ â€˜1.234.567,89â€™).</p>
<p>It is intended for producing human-readable cost reports or summaries in
energy dispatch problems solved by NaivePyDESSEM.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mf">1234567.89</span><span class="p">)</span>
<span class="go">&#39;1.234.567,89&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mf">42.5</span><span class="p">)</span>
<span class="go">&#39;42,50&#39;</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Formatters.format_brl">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Formatters.</span></span><span class="sig-name descname"><span class="pre">format_brl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Formatters.format_brl" title="Link to this definition">ïƒ</a></dt>
<dd><p>Format a floating-point number as a Brazilian-style currency string.</p>
<p>This function converts a numeric value into a string formatted with
periods as thousand separators and a comma as the decimal mark,
following the standard Brazilian notation (e.g., R$ 1.234,56).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) â€“ The numeric value to format.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The formatted string representing the value in BRL-style.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mf">1234567.89</span><span class="p">)</span>
<span class="go">&#39;1.234.567,89&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">&#39;42,00&#39;</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>No currency symbol (e.g., â€˜R$â€™) is included in the output.</p></li>
<li><p>Internally, uses Python formatting and string replacement.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ModelCheck">
<span id="naivepydessem-modelcheck-module"></span><h4>NaivePyDESSEM.ModelCheck module<a class="headerlink" href="#module-NaivePyDESSEM.ModelCheck" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Model Component Validators</p>
<section id="id8">
<h5>Author<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id9">
<h5>Description<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a set of utility functions to verify whether a given Pyomo
<cite>ConcreteModel</cite> contains the essential variables, parameters, and sets required
for each subsystem in an energy dispatch problem.</p>
<p>The validation is modular and lightweight, designed to support the dynamic
assembly of hybrid dispatch models comprising:
- Hydropower units
- Thermal generation units
- Renewable generation sources
- Energy storage systems</p>
<p>These functions are typically used to determine the feasibility of operations
such as cost extraction, result formatting, or diagnostics on a per-subsystem basis.</p>
</section>
<section id="functions">
<h5>Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h5>
<ul class="simple">
<li><p>has_hydro_model(model): Checks presence of hydropower-related variables.</p></li>
<li><p>has_thermal_model(model): Checks presence of thermal generation variables.</p></li>
<li><p>has_renewable_model(model): Checks presence of renewable generation variables.</p></li>
<li><p>has_storage_model(model): Checks presence of storage system variables.</p></li>
</ul>
</section>
<section id="usage-example">
<h5>Usage Example<a class="headerlink" href="#usage-example" title="Link to this heading">ïƒ</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">has_thermal_model</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Thermal model components detected.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelCheck.has_hydro_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelCheck.</span></span><span class="sig-name descname"><span class="pre">has_hydro_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelCheck.has_hydro_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Check whether the given Pyomo model contains all components of a hydro subsystem.</p>
<p>This function verifies the presence of essential attributes associated with
hydropower modeling, including sets and variables related to generation,
volume, flow, and spillage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all required hydro components are present, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The required attributes are:
- T         : Time periods.
- HG        : Set of hydro units.
- hydro_G   : Hydropower generation variable.
- hydro_V   : Reservoir volume variable.
- hydro_Q   : Turbined flow variable.
- hydro_S   : Spillage flow variable.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelCheck.has_renewable_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelCheck.</span></span><span class="sig-name descname"><span class="pre">has_renewable_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelCheck.has_renewable_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Check whether the given Pyomo model contains all components of a renewable subsystem.</p>
<p>This function verifies whether the model has the necessary sets and variables
to support renewable generation units.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all required renewable components are present, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The required attributes are:
- T               : Time periods.
- RU              : Set of renewable units.
- renewable_gen   : Renewable generation variable.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelCheck.has_storage_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelCheck.</span></span><span class="sig-name descname"><span class="pre">has_storage_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelCheck.has_storage_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Check whether the given Pyomo model contains all components of a storage subsystem.</p>
<p>This function ensures that charging, discharging, and state-of-charge variables
are defined for energy storage modeling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all required storage components are present, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The required attributes are:
- T              : Time periods.
- SU             : Set of storage units.
- storage_dis    : Discharging power variable.
- storage_ch     : Charging power variable.
- storage_E      : Energy (state-of-charge) variable.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelCheck.has_thermal_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelCheck.</span></span><span class="sig-name descname"><span class="pre">has_thermal_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelCheck.has_thermal_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Check whether the given Pyomo model contains all components of a thermal subsystem.</p>
<p>This function validates the existence of typical thermal dispatch variables,
including generation, commitment status, and startup/shutdown indicators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all required thermal components are present, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The required attributes are:
- T             : Time periods.
- TG            : Set of thermal units.
- thermal_p     : Power generation variable.
- thermal_u     : Commitment status variable (binary).
- thermal_w     : Shutdown indicator variable (binary).
- thermal_y     : Startup indicator variable (binary).
- thermal_SC    : Start-up cost parameter.</p>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.ModelFormatters">
<span id="naivepydessem-modelformatters-module"></span><h4>NaivePyDESSEM.ModelFormatters module<a class="headerlink" href="#module-NaivePyDESSEM.ModelFormatters" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Welcome Message and Model Summary Printer</p>
<section id="id10">
<h5>Author<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id11">
<h5>Description<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h5>
<p>This utility provides formatted, color-enhanced terminal output using the
<cite>colorama</cite> library to display a welcome banner, solver configuration,
and model characteristics. It is intended to improve the user experience
by offering clear diagnostics and summaries prior to model solving.</p>
<p>Features include:
- Welcome banner with project and author information.
- Display of solver name and strategy.
- Pretty-printed summary of subsystems included in the dispatch problem.
- Parameter visualization for hydraulic, thermal, renewable, and storage units.</p>
<p>Use this module as part of the pre-solve interface of NaivePyDESSEM to
provide clarity and visual feedback about the simulation setup.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.format_hydro_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_hydro_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.format_hydro_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each hydropower unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜hydroâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.format_models">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.format_models" title="Link to this definition">ïƒ</a></dt>
<dd><p>Dispatch model formatting routines to subsystem-specific formatters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Input data dictionary containing unit-level information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.format_renewable_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_renewable_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.format_renewable_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each renewable generation unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜renewableâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.format_storage_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_storage_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.format_storage_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each storage unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜storageâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.format_thermal_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_thermal_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.format_thermal_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each thermal generation unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜thermalâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.model_properties">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">model_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.model_properties" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a concise list of subsystems included in the case (hydro, thermal, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Parsed input configuration containing subsystem definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.ModelFormatters.print_welcome_message">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">print_welcome_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.ModelFormatters.print_welcome_message" title="Link to this definition">ïƒ</a></dt>
<dd><p>Display the full welcome message and solver configuration.</p>
<p>This includes the banner, solver details, and an overview of
the model components based on the input dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance.</p></li>
<li><p><strong>case</strong> (<em>dict</em>) â€“ Configuration dictionary loaded from YAML or JSON input.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.PlotSeries">
<span id="naivepydessem-plotseries-module"></span><h4>NaivePyDESSEM.PlotSeries module<a class="headerlink" href="#module-NaivePyDESSEM.PlotSeries" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Plotting Utilities for Time Series in Power System Studies</p>
<section id="id12">
<h5>Author<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id13">
<h5>Description<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h5>
<p>This module provides high-level plotting routines to visualize time-indexed
variables commonly encountered in short-term operation and planning studies
of hydrothermal systems. It offers both line plots and bar plots, supporting
grouped or stacked styles.</p>
</section>
<section id="id14">
<h5>Functions<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>plot_series(t, series_dict, title, ylabel, file)</dt><dd><p>Plot one or more time series as line graphs, with LaTeX-compatible labels.</p>
</dd>
<dt>plot_series_bar(t, series_dict, title, ylabel, file, stacked=False, width=0.85)</dt><dd><p>Plot multiple time series as bar charts, either grouped or stacked, with
configurable bar width.</p>
</dd>
</dl>
</section>
<section id="conventions">
<h5>Conventions<a class="headerlink" href="#conventions" title="Link to this heading">ïƒ</a></h5>
<ul class="simple">
<li><p>The time axis is discrete, typically representing hourly stages
(e.g., t = 1, â€¦, 24).</p></li>
<li><p>Input series must be aligned with the time axis.</p></li>
<li><p>Labels provided in series_dict are rendered in math mode
to enable LaTeX-style notation in figures.</p></li>
<li><p>Output files are saved with 600 dpi resolution and tight bounding boxes.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Figures are generated using Matplotlib and saved to the given file path
(PNG, PDF, or other supported formats).</p></li>
<li><p>The functions are designed for clarity in academic and technical reports,
especially when documenting hydrothermal dispatch and unit-commitment results.</p></li>
<li><p>Grid lines, legends, and axis labels are automatically formatted for
readability.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Render a simple time series plot:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;U_</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">],</span> <span class="s2">&quot;U_</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">150</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Hydropower Generation&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">file</span><span class="o">=</span><span class="s2">&quot;generation.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Render a stacked bar plot:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Hydro&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">210</span><span class="p">],</span> <span class="s2">&quot;Thermal&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span> <span class="mi">290</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series_bar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Generation Mix&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">file</span><span class="o">=</span><span class="s2">&quot;mix.png&quot;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.PlotSeries.get_distinct_colors">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.PlotSeries.</span></span><span class="sig-name descname"><span class="pre">get_distinct_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tab20'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.PlotSeries.get_distinct_colors" title="Link to this definition">ïƒ</a></dt>
<dd><p>Generate a list of visually distinct colors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) â€“ Number of colors to generate.</p></li>
<li><p><strong>cmap_name</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Name of the Matplotlib colormap to use (default is â€˜tab10â€™).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>colors</strong> â€“ List of hex color strings usable in Matplotlib.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.PlotSeries.plot_series">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.PlotSeries.</span></span><span class="sig-name descname"><span class="pre">plot_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'EstÃ¡gio</span> <span class="pre">-</span> <span class="pre">T</span> <span class="pre">(h)'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.PlotSeries.plot_series" title="Link to this definition">ïƒ</a></dt>
<dd><p>Plot one or more time series as line graphs.</p>
<p>This function generates a line plot for multiple time-indexed series
and saves the resulting figure to a file. Each series is drawn with a
distinct line style and included in the legend. The x-axis represents
discrete time stages, while the y-axis corresponds to the variable of
interest (e.g., power, flow, volume).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>Sequence</em>) â€“ Ordered sequence of time stages to be used as the x-axis values.</p></li>
<li><p><strong>series_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>float</em><em>]</em><em>]</em>) â€“ Dictionary mapping labels to numeric sequences. Each sequence must
have the same length as <cite>t</cite>. Labels may include LaTeX math ($â€¦$).</p></li>
<li><p><strong>title</strong> (<em>str</em>) â€“ Title of the plot, displayed at the top of the figure.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) â€“ Label for the y-axis.</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) â€“ Label for the x-axis.</p></li>
<li><p><strong>file</strong> (<em>str</em>) â€“ Output file path where the figure will be saved (e.g., PNG, PDF).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The function saves the generated plot to <cite>file</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The figure is sized at 8 * 5 inches and saved at 600 dpi resolution.</p></li>
<li><p>A grid is shown to facilitate reading values.</p></li>
<li><p>The legend is automatically constructed from the provided labels.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;U_</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">],</span> <span class="s2">&quot;U_</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">150</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Hydropower Generation&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">file</span><span class="o">=</span><span class="s2">&quot;generation.png&quot;</span><span class="p">)</span>
<span class="go"># Saves a line plot with two curves to &#39;generation.png&#39;.</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.PlotSeries.plot_series_bar">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.PlotSeries.</span></span><span class="sig-name descname"><span class="pre">plot_series_bar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'EstÃ¡gio</span> <span class="pre">-</span> <span class="pre">T</span> <span class="pre">(h)'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.85</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.PlotSeries.plot_series_bar" title="Link to this definition">ïƒ</a></dt>
<dd><p>Plot multiple time series as bar charts, either grouped or stacked.</p>
<p>This function generates a bar chart visualization for a set of time-indexed
series and saves it to a file. The bars can be rendered side-by-side
(grouped) or stacked to show composition. Each series is labeled and
included in the legend. The x-axis corresponds to discrete time stages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>Sequence</em>) â€“ Ordered sequence of time stages to be used as x-axis labels.</p></li>
<li><p><strong>series_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Sequence</em><em>[</em><em>float</em><em>]</em><em>]</em>) â€“ Dictionary mapping series labels to their corresponding numeric values.
All series must have the same length as <cite>t</cite>.</p></li>
<li><p><strong>title</strong> (<em>str</em>) â€“ Title of the plot.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) â€“ Label for the y-axis</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) â€“ Label for the x-axis.</p></li>
<li><p><strong>file</strong> (<em>str</em>) â€“ Output file path where the figure will be saved (e.g., PNG, PDF).</p></li>
<li><p><strong>stacked</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, plot stacked bars (suitable for compositional views such as
generation mix). If False, plot grouped bars. Default is False.</p></li>
<li><p><strong>width</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Width of the bars. For grouped mode, this value determines the total
group width. Default is 0.85.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The function saves the generated plot to <cite>file</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The output figure is saved with 600 dpi resolution and tight bounding box.</p></li>
<li><p>When stacked mode is enabled or only a single series is provided,
values are drawn cumulatively (top of each other).</p></li>
<li><p>Legend columns are adapted to the number of series.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series_bar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="s2">&quot;out.png&quot;</span><span class="p">)</span>
<span class="go"># Produces and saves a grouped bar chart to &#39;out.png&#39;.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series_bar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Stacked&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">file</span><span class="o">=</span><span class="s2">&quot;out_stacked.png&quot;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go"># Produces and saves a stacked bar chart to &#39;out_stacked.png&#39;.</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Reporting">
<span id="naivepydessem-reporting-module"></span><h4>NaivePyDESSEM.Reporting module<a class="headerlink" href="#module-NaivePyDESSEM.Reporting" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Post-Solve Dispatch Summary and Cost Reports</p>
<section id="id15">
<h5>Author<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id16">
<h5>Description<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h5>
<p>This module contains functions to summarize dispatch results after solving
a Pyomo-based optimization problem. It prints total generation, cost breakdowns,
and unit-level summaries for hydropower, thermal, renewable, and storage technologies.</p>
<p>Features:
- Total cost, demand, deficit and thermal cost components.
- Per-unit dispatch summaries with color-enhanced output (via <cite>colorama</cite>).
- Compatible with modular NaivePyDESSEM subsystem architecture.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Reporting.dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Reporting.</span></span><span class="sig-name descname"><span class="pre">dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Reporting.dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a complete dispatch and cost summary including:
- Total generation and demand.
- Deficit and its monetary cost.
- Thermal cost breakdown (start-up, generation).
- Overall total cost from the model objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Reporting.hydro_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Reporting.</span></span><span class="sig-name descname"><span class="pre">hydro_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Reporting.hydro_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level hydropower generation summary in MWh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with hydropower subsystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Reporting.renewable_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Reporting.</span></span><span class="sig-name descname"><span class="pre">renewable_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Reporting.renewable_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level renewable generation summary in MWh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with renewable subsystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Reporting.storage_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Reporting.</span></span><span class="sig-name descname"><span class="pre">storage_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Reporting.storage_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level storage discharge summary in MWh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with storage subsystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Reporting.thermal_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Reporting.</span></span><span class="sig-name descname"><span class="pre">thermal_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Reporting.thermal_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level thermal generation summary in MWh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with thermal subsystem.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Solver">
<span id="naivepydessem-solver-module"></span><h4>NaivePyDESSEM.Solver module<a class="headerlink" href="#module-NaivePyDESSEM.Solver" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Solve Pyomo Model from YAML Configuration</p>
<section id="id17">
<h5>Author<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id18">
<h5>Description<a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h5>
<p>This utility builds and solves a Pyomo optimization model using input
data provided in a YAML or JSON configuration file. The solver is selected
based on metadata, and can include support for decomposition strategies
(e.g., MIN-DT via MindtPy).</p>
<p>Features:
- Automatic model construction via modular subsystems (thermal, hydro, storage, renewable).
- Solver selection and configuration via YAML metadata.
- Support for MINLP solvers such as MindtPy with strategy and time limits.
- Termination condition validation to ensure feasibility or optimality.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Solver.solve">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Solver.</span></span><span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.Solver.solve" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build and solve a Pyomo optimization model from a configuration file.</p>
<p>This function loads a model and its configuration from a structured YAML or JSON
file using the <cite>build_model_from_file</cite> routine. It then selects the appropriate
solver based on the â€˜metaâ€™ section, applies any solver-specific options (including
for MIN-DT decomposition), and executes the optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Path to the configuration file containing model metadata and data sections.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model after the solve routine, with variables populated.</p></li>
<li><p><strong>case</strong> (<em>dict</em>) â€“ Parsed dictionary containing the original configuration, metadata,
solver options, and problem data.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> â€“ If the solver is not available, solve fails, or model is infeasible.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.Utils">
<span id="naivepydessem-utils-module"></span><h4>NaivePyDESSEM.Utils module<a class="headerlink" href="#module-NaivePyDESSEM.Utils" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>LaTeX Table Utilities for Pandas DataFrames</p>
<section id="id19">
<h5>Author<a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id20">
<h5>Description<a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h5>
<p>This module provides helpers to render pandas DataFrames as LaTeX tables with
custom styling aimed at scientific and engineering reports. It includes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>: Renders a binary matrix (0/1) as a colored
LaTeX table, highlighting ones and zeros with configurable colors and
producing a complete <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>: Renders a generic (non-binary) DataFrame as a LaTeX
table with bold headers (and bold math within headers), using <code class="docutils literal notranslate"><span class="pre">booktabs</span></code>
rules and producing a complete <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p></li>
</ul>
<p>Both functions omit the DataFrame index from the LaTeX output by design,
emitting only the column headers and data cells.</p>
</section>
<section id="id21">
<h5>Functions<a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>binary_df_to_colored_latex</dt><dd><p>Render a binary (0/1) DataFrame as a colored LaTeX table. Cells equal to 1
are filled with <code class="docutils literal notranslate"><span class="pre">one_color</span></code>; cells equal to 0 use <code class="docutils literal notranslate"><span class="pre">zero_color</span></code>.
Non-binary values, if present, are formatted with <code class="docutils literal notranslate"><span class="pre">floatfmt</span></code> and not
color-filled. The index is not included in the output.</p>
</dd>
<dt>custom_df_to_latex</dt><dd><p>Render a generic DataFrame as a LaTeX table using <code class="docutils literal notranslate"><span class="pre">booktabs</span></code> rules with a
bold header row. Inline math fragments in header cells  are additionally set
in bold math using <code class="docutils literal notranslate"><span class="pre">bold_math_cmd</span></code>.
The index is not included in the output.</p>
</dd>
</dl>
</section>
<section id="parameters-shared">
<h5>Parameters (Shared)<a class="headerlink" href="#parameters-shared" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The input table to render. Only the DataFrame <strong>columns</strong> are emitted;
the index is always omitted from the LaTeX output.</p>
</dd>
<dt>caption<span class="classifier">str, optional</span></dt><dd><p>Caption text for the LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p>
</dd>
<dt>label<span class="classifier">str, optional</span></dt><dd><p>Label for cross-referencing with <code class="docutils literal notranslate"><span class="pre">\ref{...}</span></code>.</p>
</dd>
<dt>column_format<span class="classifier">str or None, optional</span></dt><dd><p>Column specification for the LaTeX <code class="docutils literal notranslate"><span class="pre">tabular</span></code> environment. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
a default is inferred based on the number of columns (all centered).</p>
</dd>
<dt>size_cmd<span class="classifier">str, optional</span></dt><dd><p>LaTeX size command applied inside the table (e.g., <code class="docutils literal notranslate"><span class="pre">\small</span></code>, <code class="docutils literal notranslate"><span class="pre">\scriptsize</span></code>).</p>
</dd>
</dl>
</section>
<section id="additional-parameters">
<h5>Additional Parameters<a class="headerlink" href="#additional-parameters" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>one_color<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) LaTeX color name for cells with value 1.</p>
</dd>
<dt>zero_color<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) LaTeX background color name for cells
with value 0.</p>
</dd>
<dt>floatfmt<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) Format string for numeric entries that
are not 0/1 (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;{:d}&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;{:.0f}&quot;</span></code>).</p>
</dd>
<dt>bold_math_cmd<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>) Command for bolding inline math in header cells,
e.g., <code class="docutils literal notranslate"><span class="pre">\mathbf</span></code>, <code class="docutils literal notranslate"><span class="pre">\boldsymbol</span></code>, or <code class="docutils literal notranslate"><span class="pre">\bm</span></code>. Ensure the corresponding
LaTeX package is loaded.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>str</em> â€“ A complete LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment (including an inner <code class="docutils literal notranslate"><span class="pre">tabular</span></code> and
a <code class="docutils literal notranslate"><span class="pre">\resizebox{\textwidth}{!}{...}</span></code> wrapper) ready to paste into a
LaTeX document.</p></li>
<li><p><em>Requirements</em></p></li>
<li><p><em>â€”â€”â€”â€”</em></p></li>
<li><p><strong>- Python packages</strong> (<code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">re</span></code> (standard library).)</p></li>
<li><p><em>- LaTeX packages</em> â€“</p>
<ul>
<li><p>For both functions: <code class="docutils literal notranslate"><span class="pre">graphicx</span></code> (for <code class="docutils literal notranslate"><span class="pre">\resizebox</span></code>), <code class="docutils literal notranslate"><span class="pre">booktabs</span></code> (for <code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>).</p></li>
<li><p>For coloring: <code class="docutils literal notranslate"><span class="pre">xcolor</span></code> with the <code class="docutils literal notranslate"><span class="pre">table</span></code> option (provides <code class="docutils literal notranslate"><span class="pre">\cellcolor</span></code>).
Colors such as <code class="docutils literal notranslate"><span class="pre">oncell</span></code> and <code class="docutils literal notranslate"><span class="pre">white</span></code> must be defined in the preamble.</p></li>
<li><p>For bold math: <code class="docutils literal notranslate"><span class="pre">amsmath</span></code>, <code class="docutils literal notranslate"><span class="pre">bm</span></code>, or any package compatible with <code class="docutils literal notranslate"><span class="pre">bold_math_cmd</span></code>.</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Both functions assume the DataFrame columns represent displayable headers.
If numeric, they are commonly used as time periods. Pre-formatting is advised.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code> coerces values to integers for coloring.
Non-binary values are rendered using <code class="docutils literal notranslate"><span class="pre">floatfmt</span></code> but receive no coloring.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code> skips escaping in data cells, assuming LaTeX-safe input.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Render a binary status matrix with colored cells:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tex</span> <span class="o">=</span> <span class="n">binary_df_to_colored_latex</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Hourly U, Y, and W variables&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:uyw&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">one_color</span><span class="o">=</span><span class="s2">&quot;oncell&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">zero_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">floatfmt</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:d}</span><span class="s2">&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tex</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">\begin{table}[!ht]</span>
</pre></div>
</div>
<p>Render a numeric table with bold headers and math-aware bolding:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.25</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">r</span><span class="s2">&quot;$t=1$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\(t=2\)&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tex2</span> <span class="o">=</span> <span class="n">custom_df_to_latex</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Example Table&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:example&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">bold_math_cmd</span><span class="o">=</span><span class="s2">&quot;\mathbf&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">oprule&quot;</span> <span class="ow">in</span> <span class="n">tex2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.to_latex</span></code></dt><dd><p>Built-in (less specialized) LaTeX export.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Utils.binary_df_to_colored_latex">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Utils.</span></span><span class="sig-name descname"><span class="pre">binary_df_to_colored_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'VariÃ¡veis</span> <span class="pre">U,</span> <span class="pre">Y</span> <span class="pre">e</span> <span class="pre">W</span> <span class="pre">horÃ¡rias'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tab:bin_table'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">one_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'oncell'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floatfmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'{:d}'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'\\small'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Utils.binary_df_to_colored_latex" title="Link to this definition">ïƒ</a></dt>
<dd><p>Convert a binary (0/1) pandas DataFrame into a colored LaTeX table.</p>
<p>Cells with value 1 are filled using <code class="docutils literal notranslate"><span class="pre">\cellcolor{one_color}</span></code>; zeros keep
the background set by <code class="docutils literal notranslate"><span class="pre">zero_color</span></code> (default: white). Row labels are
automatically wrapped in math mode (<code class="docutils literal notranslate"><span class="pre">$...$</span></code>). The returned string
contains a complete LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment with an inner <code class="docutils literal notranslate"><span class="pre">tabular</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) â€“ Binary matrix to render. The index holds row labels
(e.g., <code class="docutils literal notranslate"><span class="pre">'U_{UT_{1}}'</span></code>) and the columns are time steps
(e.g., <code class="docutils literal notranslate"><span class="pre">0..23</span></code>).</p></li>
<li><p><strong>caption</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Caption to place under the table in LaTeX.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ LaTeX label used for <code class="docutils literal notranslate"><span class="pre">\ref{...}</span></code>.</p></li>
<li><p><strong>one_color</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Name of a LaTeX color (defined in the document preamble) used to
fill cells equal to 1. Example: <code class="docutils literal notranslate"><span class="pre">&quot;oncell&quot;</span></code>.</p></li>
<li><p><strong>zero_color</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Background color for cells equal to 0 (default: <code class="docutils literal notranslate"><span class="pre">&quot;white&quot;</span></code>).</p></li>
<li><p><strong>column_format</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ Column specification for the <code class="docutils literal notranslate"><span class="pre">tabular</span></code> environment
(e.g., <code class="docutils literal notranslate"><span class="pre">&quot;l*{24}{c}&quot;</span></code>). If <code class="docutils literal notranslate"><span class="pre">None</span></code>, a default is inferred from the
number of columns.</p></li>
<li><p><strong>floatfmt</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Format string used to render numeric entries (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;{:d}&quot;</span></code>).</p></li>
<li><p><strong>size_cmd</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ LaTeX size command applied inside the table
(e.g., <code class="docutils literal notranslate"><span class="pre">&quot;\small&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;\scriptsize&quot;</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>LaTeX code for the complete table, ready to paste into your document.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Requires <code class="docutils literal notranslate"><span class="pre">\usepackage[table]{xcolor}</span></code> (or a package providing
<code class="docutils literal notranslate"><span class="pre">\cellcolor</span></code>). Also ensure the color given by <code class="docutils literal notranslate"><span class="pre">one_color</span></code> is defined
in the preamble, e.g., <code class="docutils literal notranslate"><span class="pre">\definecolor{oncell}{RGB}{230,240,255}</span></code>.</p></li>
<li><p>The function expects a boolean/binary DataFrame. Values other than 0/1
are rendered using <code class="docutils literal notranslate"><span class="pre">floatfmt</span></code> and will not be colored.</p></li>
<li><p>Row labels are emitted in math mode: <code class="docutils literal notranslate"><span class="pre">$&lt;label&gt;$</span></code>.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">latex</span> <span class="o">=</span> <span class="n">binary_df_to_colored_latex</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Hourly U, Y and W variables&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:uyw&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">one_color</span><span class="o">=</span><span class="s2">&quot;oncell&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">latex</span><span class="p">[:</span><span class="mi">30</span><span class="p">])</span>
<span class="go">\begin{table}[ht]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.Utils.custom_df_to_latex">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.Utils.</span></span><span class="sig-name descname"><span class="pre">custom_df_to_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Table'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'tab:table'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'\\small'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bold_math_cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'\\mathbf'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#NaivePyDESSEM.Utils.custom_df_to_latex" title="Link to this definition">ïƒ</a></dt>
<dd><p>Render a pandas DataFrame as a LaTeX table with bold header and bold first column.</p>
<p>This function produces a complete LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment (with
<code class="docutils literal notranslate"><span class="pre">tabular</span></code> inside) using <code class="docutils literal notranslate"><span class="pre">booktabs</span></code> rules. The column headers are
boldfaced. The first column (index) is also boldfaced. Any math-mode
fragments inside <strong>bolded</strong> cells (i.e., header cells and first-column
cells) are additionally set in bold math using the chosen command
(default: <code class="docutils literal notranslate"><span class="pre">\boldsymbol</span></code>). Inline math is detected if delimited by
<code class="docutils literal notranslate"><span class="pre">$...$</span></code> or <code class="docutils literal notranslate"><span class="pre">\(...\)</span></code>. Non-math text in bolded cells is wrapped
with <code class="docutils literal notranslate"><span class="pre">\textbf{...}</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) â€“ Table to render. The DataFrameâ€™s index becomes the first (row-label)
column. The index name (if any) is used for the top-left header cell.</p></li>
<li><p><strong>caption</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Caption for the LaTeX table.</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ LaTeX label used with <code class="docutils literal notranslate"><span class="pre">\ref{...}</span></code>.</p></li>
<li><p><strong>column_format</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ Column specification for the <code class="docutils literal notranslate"><span class="pre">tabular</span></code> environment. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
it defaults to left alignment for the first column and centered
alignment for the remaining columns (i.e., <code class="docutils literal notranslate"><span class="pre">&quot;l&quot;</span> <span class="pre">+</span> <span class="pre">&quot;c&quot;*ncols</span></code>).</p></li>
<li><p><strong>size_cmd</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ A LaTeX size command applied inside the table (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;\small&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;\scriptsize&quot;</span></code>).</p></li>
<li><p><strong>bold_math_cmd</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Command used to bold math fragments (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;\boldsymbol&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;\bm&quot;</span></code>). Ensure the corresponding package is loaded.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>LaTeX code for the complete table, ready to paste into a document.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Requires <code class="docutils literal notranslate"><span class="pre">\usepackage{booktabs}</span></code> and a package providing the chosen
math-bold command (e.g., <code class="docutils literal notranslate"><span class="pre">\usepackage{amsmath}</span></code> for <code class="docutils literal notranslate"><span class="pre">\boldsymbol</span></code>,
or <code class="docutils literal notranslate"><span class="pre">\usepackage{bm}</span></code> for <code class="docutils literal notranslate"><span class="pre">\bm</span></code>).</p></li>
<li><p>Math detection is applied <strong>only</strong> to bolded cells (header and first
column). Other cells are emitted verbatim (no escaping is performed).</p></li>
<li><p>If a math fragment is <em>already</em> bold (e.g., contains <code class="docutils literal notranslate"><span class="pre">\boldsymbol{...}</span></code>
or <code class="docutils literal notranslate"><span class="pre">\bm{...}</span></code> or <code class="docutils literal notranslate"><span class="pre">\mathbf{...}</span></code>), it is left unchanged.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="sa">r</span><span class="s2">&quot;$x_1$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;$x_2$&quot;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;t=1&quot;</span><span class="p">,</span> <span class="s2">&quot;t=2&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">df_to_latex_bold_firstcol_header</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Example&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:ex&quot;</span><span class="p">)[:</span><span class="mi">60</span><span class="p">])</span>
<span class="go">\begin{table}[!ht]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDESSEM.YAMLLoader">
<span id="naivepydessem-yamlloader-module"></span><h4>NaivePyDESSEM.YAMLLoader module<a class="headerlink" href="#module-NaivePyDESSEM.YAMLLoader" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Configuration Pre-Processor for Model Inputs</p>
<section id="id22">
<h5>Author<a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id23">
<h5>Description<a class="headerlink" href="#id23" title="Link to this heading">ïƒ</a></h5>
<p>Utilities to load and normalize model configuration files (YAML/JSON) before
instantiating optimization models. The module provides:</p>
<ol class="arabic simple">
<li><p>A LaTeX-friendly renaming utility for unit identifiers, preserving downstream
compatibility with report/plot labels.</p></li>
<li><p>A deep-copy pre-processor that standardizes sections and optionally transforms
unit names and their upstreams references.</p></li>
<li><p>A YAML loader that combines parsing and pre-processing into a single entry point.</p></li>
</ol>
<p>This pre-processing ensures consistent, side-effect-free structures that are
directly consumable by subsequent builders (hydro, thermal, renewable, storage).</p>
</section>
<section id="id24">
<h5>Functions<a class="headerlink" href="#id24" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>key_replace(key)</dt><dd><p>Convert identifiers for LaTeX.</p>
</dd>
<dt>pre_process(config_dict, transform_names=True)</dt><dd><p>Deep-copy and normalize a configuration dictionary, optionally transforming
unit names and upstream references in sections that contain units.</p>
</dd>
<dt>yaml_loader(file, transform_names=True)</dt><dd><p>Load a YAML file and return a processed configuration dictionary suitable
for model building.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Only the <strong>first</strong> underscore in an identifier is used to create the subscript;
remaining underscores are kept verbatim inside the subscript block.</p></li>
<li><p>Sections without a units field are copied verbatim.</p></li>
<li><p>All operations are performed on deep copies; the original inputs are not modified.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">yaml_loader</span><span class="p">(</span><span class="s2">&quot;case.yaml&quot;</span><span class="p">,</span> <span class="n">transform_names</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;hydro&quot;</span><span class="p">][</span><span class="s2">&quot;units&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;{UHE_{1}}&#39;, &#39;{UHE_{2}}&#39;]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.YAMLLoader.key_replace">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.YAMLLoader.</span></span><span class="sig-name descname"><span class="pre">key_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#NaivePyDESSEM.YAMLLoader.key_replace" title="Link to this definition">ïƒ</a></dt>
<dd><p>Convert a unit identifier of the form NAME_index into a LaTeX-friendly
token with a braced subscript.</p>
<p>The function partitions the input at the first underscore and returns
the formatted string {HEAD_{TAIL}}. If the input contains no
underscore, the original key is returned unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) â€“ Unit identifier, typically in the form â€œPLANT_1â€ or â€œUT_10â€.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The LaTeX-ready identifier. For example, â€œUT_10â€ becomes
â€œ{UT_{10}}â€. If no underscore is present, the function returns
the input key unmodified.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key_replace</span><span class="p">(</span><span class="s2">&quot;UHE_1&quot;</span><span class="p">)</span>
<span class="go">&#39;{UHE_{1}}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_replace</span><span class="p">(</span><span class="s2">&quot;UT10&quot;</span><span class="p">)</span>
<span class="go">&#39;UT10&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key_replace</span><span class="p">(</span><span class="s2">&quot;PLANT_UNIT_1&quot;</span><span class="p">)</span>
<span class="go">&#39;{PLANT_{UNIT_1}}&#39;</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Only the first underscore is considered for partitioning; the remainder
of the string (including additional underscores) is kept verbatim inside
the subscript block.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.YAMLLoader.pre_process">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.YAMLLoader.</span></span><span class="sig-name descname"><span class="pre">pre_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.YAMLLoader.pre_process" title="Link to this definition">ïƒ</a></dt>
<dd><p>Construct a processed configuration dictionary from raw input, with optional name transformation.</p>
<p>This function prepares a structured configuration dictionary for modeling use by:</p>
<ul class="simple">
<li><p>copying the meta section unchanged,</p></li>
<li><p>applying deep copies to all other sections,</p></li>
<li><p>and optionally transforming unit names and upstream references in each section
that contains a units block (e.g., hydro, thermal, renewable).</p></li>
</ul>
<p>The transformation of unit names and upstream references
is controlled by the transform_names flag. The function does not modify the input
dictionary in-place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_dict</strong> (<em>dict</em>) â€“ Raw configuration dictionary loaded from a YAML file or equivalent source.
Expected to contain a meta section and any number of other sections such as
hydro, thermal, renewable, or storage.</p></li>
<li><p><strong>transform_names</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to apply LaTeX-compatible formatting to unit names and upstreams
using key_replace. If False, names are preserved as-is.
Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A fully processed configuration dictionary with all subsections and units
properly structured. The returned dictionary is a deep copy and does not
share references with the input.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pre_process</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s2">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;horizon&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s2">&quot;hydro&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;units&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;UHE_1&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Qmin&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;upstreams&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;UHE_0&quot;</span><span class="p">]}</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">},</span> <span class="n">transform_names</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;meta&#39;: {&#39;horizon&#39;: 24},</span>
<span class="go"> &#39;hydro&#39;: {</span>
<span class="go">     &#39;units&#39;: {</span>
<span class="go">         &#39;{UHE_{1}}&#39;: {&#39;Qmin&#39;: 0.0, &#39;upstreams&#39;: [&#39;{UHE_{0}}&#39;]}</span>
<span class="go">     }</span>
<span class="go"> }}</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Sections without a units field are copied verbatim.</p></li>
<li><p>If units is present but not a dictionary, it is ignored safely.</p></li>
<li><p>This function is intended as a preprocessing step before model instantiation.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDESSEM.YAMLLoader.yaml_loader">
<span class="sig-prename descclassname"><span class="pre">NaivePyDESSEM.YAMLLoader.</span></span><span class="sig-name descname"><span class="pre">yaml_loader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDESSEM.YAMLLoader.yaml_loader" title="Link to this definition">ïƒ</a></dt>
<dd><p>Load a YAML configuration file and apply structural pre-processing.</p>
<p>This function reads a YAML-formatted file and parses it into a Python dictionary.
After loading, it invokes the <cite>pre_process</cite> routine to deep-copy all sections,
standardize the structure, and optionally apply LaTeX-style name transformations
to unit identifiers and upstream references.</p>
<p>The resulting configuration is ready for use in optimization models or simulation
routines that require consistent internal naming and indexing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) â€“ Path to the YAML file containing the case configuration.</p></li>
<li><p><strong>transform_names</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to apply LaTeX-friendly formatting to unit names (e.g., UT_1 =&gt; {UT_{1}})
and update upstream references accordingly. If False, original names are preserved.
Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A processed configuration dictionary with all metadata and units structured
consistently. This dictionary is independent of the raw file contents.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the YAML file is empty, malformed, or does not contain a valid dictionary structure.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">config</span> <span class="o">=</span> <span class="n">yaml_loader</span><span class="p">(</span><span class="s2">&quot;caso.yaml&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;hydro&quot;</span><span class="p">][</span><span class="s2">&quot;units&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;{UHE_{1}}&#39;, &#39;{UHE_{2}}&#39;])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The input file must be UTF-8 encoded and must define a top-level dictionary.</p></li>
<li><p>All nested structures are copied safely; no mutation occurs on the raw parsed data.</p></li>
<li><p>This function is the recommended entry point for loading structured model input files.</p></li>
</ul>
</dd></dl>

</section>
</section>
<span id="document-NaivePyDECOMP"></span><section id="naivepydecomp-package">
<h3>NaivePyDECOMP package<a class="headerlink" href="#naivepydecomp-package" title="Link to this heading">ïƒ</a></h3>
<section id="module-NaivePyDECOMP">
<span id="module-contents"></span><h4>Module contents<a class="headerlink" href="#module-NaivePyDECOMP" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: NaivePyDECOMP</p>
<section id="author">
<h5>Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h5>Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">NaivePyDECOMP</span></code> package provides a modular, extensible, and pedagogically
oriented framework for short-term power system operation planning. Inspired by the
methodology and architecture of CEPELâ€™s DESSEM model, it enables the construction,
solution, and analysis of mixed-integer optimization models based on Pyomo.</p>
<p>Designed for academic use, the framework supports detailed modeling of thermal,
hydraulic, renewable, and storage resources, and integrates these components
into a coherent multi-technology dispatch problem, including unit commitment,
deficit handling, and economic trade-offs.</p>
</section>
<section id="submodules">
<h5>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>HydraulicGenerator</dt><dd><p>Defines the data structures, constraints, and productivity models for
hydropower generation units, including reservoir dynamics, turbine flows,
and different formulations of head and productivity (constant, specific, exact).</p>
</dd>
<dt>ThermalGenerator</dt><dd><p>Models thermal units with quadratic or piecewise-linear cost functions,
ramping constraints, commitment logic, startup/shutdown dynamics, and reserve provision.</p>
</dd>
<dt>RenewableGenerator</dt><dd><p>Represents non-dispatchable renewable units such as wind and solar,
enforcing production bounds based on availability (gbar).</p>
</dd>
<dt>Storage</dt><dd><p>Models energy storage systems (e.g., batteries), capturing state-of-charge dynamics,
charge/discharge power limits, efficiencies, and optional integration into
the balance and objective.</p>
</dd>
<dt>YAMLLoader</dt><dd><p>Provides the interface for loading problem instances from structured YAML or JSON files,
including validation and conversion into dataclass objects.</p>
</dd>
<dt>Builder</dt><dd><p>Constructs a complete Pyomo model from the YAML data, invoking the appropriate
subsystems and assembling the balance constraint and cost-minimizing objective.</p>
</dd>
<dt>Solver</dt><dd><p>Handles the selection and execution of solvers (e.g., GLPK, IPOPT, MindtPy),
with optional reporting and solution validation.</p>
</dd>
<dt>DataFrames</dt><dd><p>Exports decision variable trajectories and economic indicators to Pandas DataFrames
for further analysis and visualization.</p>
</dd>
<dt>PlotSeries</dt><dd><p>Generates basic time-series plots of dispatch results using Matplotlib.</p>
</dd>
<dt>Utils, Formatters, Reporting</dt><dd><p>Auxiliary modules for formatting, printing summaries, validating model structure,
and providing colored console outputs using Colorama.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The package is intentionally modular: each subsystem (Thermal, Hydro, Renewable, Storage)
can be activated or omitted via the YAML interface.</p></li>
<li><p>While conceptually aligned with DESSEM, the implementation is simplified and transparent,
allowing students and researchers to explore, extend, and test new ideas.</p></li>
<li><p>Extensions such as emission penalties, pumped storage, stochastic scenarios,
or multi-area coupling can be added atop this foundation.</p></li>
<li><p>Fully compatible with Pyomoâ€™s expressive modeling capabilities and solver interface.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="subpackages">
<h4>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">ïƒ</a></h4>
<div class="toctree-wrapper compound">
<span id="document-NaivePyDECOMP.HydraulicGenerator"></span><section id="naivepydecomp-hydraulicgenerator-package">
<h5>NaivePyDECOMP.HydraulicGenerator package<a class="headerlink" href="#naivepydecomp-hydraulicgenerator-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDECOMP.HydraulicGenerator">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Hydraulic Generation Modeling (HydraulicGenerator)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">HydraulicGenerator</span></code> package provides a modular framework for modeling
hydropower systems in Pyomo-based dispatch and unit commitment models. It
includes flexible hydropower production functions (FPH), reservoir balance
constraints, and terminal storage requirements.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>HydraulicDataTypes</dt><dd><p>Dataclasses defining hydropower unit and system-wide data.</p>
</dd>
<dt>HydraulicVars</dt><dd><p>Initialization routines for Pyomo sets, parameters, and variables.</p>
</dd>
<dt>HydraulicConstraints</dt><dd><p>Constraint builders (generation, reservoir balance, SoC limits, targets).</p>
</dd>
<dt>HydraulicObjectives</dt><dd><p>Objective function definitions for hydro-only models.</p>
</dd>
<dt>HydraulicGeneratorBuilder</dt><dd><p>High-level routines to assemble complete hydropower dispatch models.
Simple FPH based on constant productivity.</p>
</dd>
<dt>SimplifiedConstantProductivityFPH</dt><dd><p>Didactic constant productivity model (simplified).</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Multiple FPH modes are supported (constant, simplified, specific, exact).</p></li>
<li><p>Reservoir mass balance constraints ensure intertemporal consistency.</p></li>
<li><p>Designed for interoperability with Thermal, Renewable, and Storage packages
in hybrid models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDECOMP.HydraulicGenerator.HydraulicConstraints">
<span id="naivepydecomp-hydraulicgenerator-hydraulicconstraints-module"></span><h6>NaivePyDECOMP.HydraulicGenerator.HydraulicConstraints module<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator.HydraulicConstraints" title="Link to this heading">ïƒ</a></h6>
<section id="hydropower-constraints-module-for-multi-mode-generation-modeling">
<h6 aria-level="7">Hydropower Constraints Module for Multi-Mode Generation Modeling<a class="headerlink" href="#hydropower-constraints-module-for-multi-mode-generation-modeling" title="Link to this heading">ïƒ</a></h6>
<p>This module implements hydropower-related constraints for Unit Commitment
and Dispatch models in Pyomo. It supports multiple representations of the
hydraulic production function (FPH), including constant productivity,
specific productivity (fixed head), simplified polynomial approximations,
and exact head-dependent formulations.</p>
<p>The functions herein enforce:
- Generation computation using plant-specific FPH callables;
- Reservoir mass balance via continuity constraints;
- Upstream water aggregation for cascaded systems (no travel time);
- Final storage requirements;
- System-wide demand balance for hydropower-only settings.</p>
<p>Each hydropower mode (constant, specific, exact, simplified) must be
associated with a callable set in the model attribute m.hydro_FPH[h].
The upstream connectivity and inflows must be available as
m.hydro_upstreams[h] and m.hydro_afluencia[h][t-1], respectively.
This module assumes <strong>no routing delay</strong> between cascaded plants.</p>
<p>This interface is compatible with Pyomo-based MILP/MIQP dispatch models
and is intended to interoperate cleanly with thermal subsystems when a
combined balance is used elsewhere.</p>
<section id="imported-dependencies">
<h6 aria-level="8">Imported Dependencies<a class="headerlink" href="#imported-dependencies" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>pyomo.environ.Constraint</p></li>
</ul>
</section>
<section id="functions">
<h6 aria-level="8">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>add_hydro_generation_constraint(m)</p></li>
<li><p>hydro_total_inflow_expr(m, h, t)</p></li>
<li><p>add_hydro_qmin_constraint(m)</p></li>
<li><p>add_hydro_qmax_constraint(m)</p></li>
<li><p>add_hydro_volume_continuity_constraint(m)</p></li>
<li><p>add_hydro_volume_max_constraint(m)</p></li>
<li><p>add_hydro_volume_mim_constraint(m)</p></li>
<li><p>add_hydro_balance_constraint(m)</p></li>
</ul>
</section>
<section id="model-requirements">
<h6 aria-level="8">Model Requirements<a class="headerlink" href="#model-requirements" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>Sets</dt><dd><p>m.HG : hydropower units
m.T  : time periods</p>
</dd>
<dt>Variables</dt><dd><p>m.hydro_V[h,t] : storage volume (hm^3)
m.hydro_Q[h,t] : turbined discharge (hm^3)
m.hydro_S[h,t] : spill discharge (m^3/s)
m.hydro_G[h,t] : hydropower generation (MW)
m.D[t]         : deficit (MW), if used</p>
</dd>
<dt>Parameters</dt><dd><p>m.hydro_Vini[h]  : initial storage (hm^3)
m.hydro_Vmin[h]  : minimum storage (hm^3)
m.hydro_Vmax[h]  : maximum storage (hm^3)
m.hydro_afluencia[h][t-1] : natural inflow (m^3/s), 0-based external array
m.hydro_upstreams[h]      : collection of upstream units for h
m.hydro_FPH[h]            : callable FPH(Q,V,S) =&gt; MW
m.hydro_compute_total_inflow[h] : bool flag to aggregate upstream releases
m.horizon : last period index, if used for terminal constraints
m.d[t]    : demand (MW), if hydropower-only balance is applied</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_continuity_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicConstraints.</span></span><span class="sig-name descname"><span class="pre">add_hydro_volume_continuity_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicConstraints.add_hydro_volume_continuity_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add reservoir mass balance (water continuity) constraints.</p>
<p>Updates stored volume using natural + upstream inflows (no delay),
turbined discharge, and spill. Uses the initial storage at the first
period.</p>
<dl class="simple">
<dt>For each (h, t):</dt><dd><dl class="simple">
<dt>if t == 1:</dt><dd><dl class="simple">
<dt>m.hydro_V[h,1] == m.hydro_Vini[h]</dt><dd><ul class="simple">
<li><p>m.hydro_zeta_vol * (Inflow(h,1) - Q[h,1] - S[h,1])</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>else:</dt><dd><dl class="simple">
<dt>m.hydro_V[h,t] == m.hydro_V[h,t-1]</dt><dd><ul class="simple">
<li><p>m.hydro_zeta_vol * (Inflow(h,t) - Q[h,t] - S[h,t])</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Model with variables m.hydro_V, m.hydro_Q, m.hydro_S,
sets m.HG, m.T, and parameters
m.hydro_zeta_vol, m.hydro_Vini. Inflow is given by
<code class="xref py py-func docutils literal notranslate"><span class="pre">hydro_total_inflow_expr()</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Constraint block m.hydro_volume_balance_constraint added to the model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.expr.relational.EqualityExpression</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>m.hydro_zeta_vol converts flow (m^3/s) into volume (hm^3) over one period
(e.g., 3600 / 1e6 for hourly steps).</p>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes">
<span id="naivepydecomp-hydraulicgenerator-hydraulicdatatypes-module"></span><h6>NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes module<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Hydraulic System Data Classes for Reservoir Optimization</p>
<section id="id2">
<h6 aria-level="7">Description<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>This module defines data classes for modeling structural and operational
characteristics of hydroelectric systems in short-term dispatch and
unit-commitment studies. The classes are designed to serve as a clean
interface between problem data and Pyomo-based optimization models.</p>
</section>
<section id="overview">
<h6 aria-level="7">Overview<a class="headerlink" href="#overview" title="Link to this heading">ïƒ</a></h6>
<p>Two classes are provided:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code>: describes a single hydro plant, including storage bounds,
turbined-flow limits, initial/terminal volumes, natural inflows, cascade
topology, and optional coefficients for alternative FPH (hydropower
production function) modes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HydraulicData</span></code>: encapsulates system-wide information such as planning
horizon, hourly demand, plant map, and conversion/penalty constants.</p></li>
</ul>
</section>
<section id="conventions-and-units">
<h6 aria-level="7">Conventions and Units<a class="headerlink" href="#conventions-and-units" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time is discretized in periods <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">â€¦,</span> <span class="pre">horizon</span></code> (integers).</p></li>
<li><p>Discharges (Q, S) are in hm^3.</p></li>
<li><p>Storage volumes (V) are in hm^3.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Cascade routing: this data layer assumes <strong>no travel time</strong>. If routing
delays are relevant, they should be handled in the modeling layer.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.</span></span><span class="sig-name descname"><span class="pre">HydraulicData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit"><span class="pre">HydraulicUnit</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cdef</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>System-wide hydropower data for planning and dispatch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizon</strong> (<em>int</em>) â€“ Number of time periods in the planning horizon.</p></li>
<li><p><strong>demand</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) â€“ Mapping from period <code class="docutils literal notranslate"><span class="pre">t</span></code> (1-based) to system demand (MW).</p></li>
<li><p><strong>units</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit"><em>HydraulicUnit</em></a><em>]</em>) â€“ Map from plant name to its <code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code> data structure.</p></li>
<li><p><strong>Cdef</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Penalty cost for unmet demand (R$/MWh), to be used by objectives in
optimization models. Default is <code class="docutils literal notranslate"><span class="pre">1000.0</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The dictionary <code class="docutils literal notranslate"><span class="pre">demand</span></code> is assumed to be 1-based (<code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1..horizon</span></code>).
If your data are 0-based, map them accordingly before constructing this
object.</p></li>
<li><p>The interpretation of <code class="docutils literal notranslate"><span class="pre">zeta</span></code> depends on where power conversion is
performed (inside the FPH callable or in the model).</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.Cdef">
<span class="sig-name descname"><span class="pre">Cdef</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.Cdef" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.demand" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit"><span class="pre">HydraulicUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData.units" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.</span></span><span class="sig-name descname"><span class="pre">HydraulicUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Qmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Qmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vini</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">afluencia</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upstreams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_total_inflow</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Hydropower plant data container.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) â€“ Unique identifier of the hydro plant.</p></li>
<li><p><strong>Qmin</strong> (<em>float</em>) â€“ Minimum allowed turbined flow (hm^3).</p></li>
<li><p><strong>Qmax</strong> (<em>float</em>) â€“ Maximum allowed turbined flow (hm^3).</p></li>
<li><p><strong>Vmin</strong> (<em>float</em>) â€“ Minimum storage volume (hm^3).</p></li>
<li><p><strong>Vmax</strong> (<em>float</em>) â€“ Maximum storage volume (hm^3).</p></li>
<li><p><strong>Vini</strong> (<em>float</em>) â€“ Initial storage volume at the beginning of the horizon (hm^3).</p></li>
<li><p><strong>afluencia</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Natural inflow time series (hm^3); external, 0-based list aligned
with model periods (accessed as <code class="docutils literal notranslate"><span class="pre">afluencia[t-1]</span></code>).</p></li>
<li><p><strong>upstreams</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) â€“ List of immediate upstream plant names that feed this unit.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> (treated as no upstreams).</p></li>
<li><p><strong>p</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Global productivity coefficient (used in constant/simplified models;
unit interpretation depends on how head is handled in the FPH).</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Generation-mode selector. Valid options include
{â€œconstantâ€, â€œspecificâ€, â€œexactâ€, â€œsimplifiedâ€}.
Default is â€œconstantâ€.</p></li>
<li><p><strong>compute_total_inflow</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, total inflow will include upstream releases in addition
to exogenous natural inflow in expressions that support it.
Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmax">
<span class="sig-name descname"><span class="pre">Qmax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmax" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmin">
<span class="sig-name descname"><span class="pre">Qmin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Qmin" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vini">
<span class="sig-name descname"><span class="pre">Vini</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vini" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmax">
<span class="sig-name descname"><span class="pre">Vmax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmax" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmin">
<span class="sig-name descname"><span class="pre">Vmin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.Vmin" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.afluencia">
<span class="sig-name descname"><span class="pre">afluencia</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.afluencia" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.compute_total_inflow">
<span class="sig-name descname"><span class="pre">compute_total_inflow</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.compute_total_inflow" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.p">
<span class="sig-name descname"><span class="pre">p</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.p" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.upstreams">
<span class="sig-name descname"><span class="pre">upstreams</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicUnit.upstreams" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-NaivePyDECOMP.HydraulicGenerator.HydraulicEquations">
<span id="naivepydecomp-hydraulicgenerator-hydraulicequations-module"></span><h6>NaivePyDECOMP.HydraulicGenerator.HydraulicEquations module<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator.HydraulicEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Hydraulic Model Expression Utilities for Pyomo Optimization</p>
<section id="id3">
<h6 aria-level="7">Author<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id4">
<h6 aria-level="7">Description<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to energy hydraulic systems in Pyomo-based optimization models.
These expressions can be incrementally assembled and integrated into
constraints (e.g., energy balance) or cost functions (e.g.,
generation costs).</p>
<p>The functions are designed to support modular model construction and
hybrid system integration. They can be used in conjunction with other
technology modules (e.g., thermal, hydro, renewable) to build power
balance constraints and system-wide cost objectives.</p>
<p>All expressions are symbolic and compatible with Pyomoâ€™s modeling
framework. Each function includes safeguards to ensure that required
model components exist before attempting to generate expressions.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To append hydraulic-related cost and energy balance expressions to lists
that contribute to the overall objective function and constraint set.</p></li>
<li><p>To modularize and standardize hydraulic modeling across different hybrid
energy system configurations.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_hydraulic_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_hydraulic_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_array</span><span class="o">=</span><span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">HydraulicBalance</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This module assumes that hydraulic behavior is modeled using variables such as
<cite>hydro_G</cite>.</p></li>
<li><p>The structure is compatible with Pyomoâ€™s ConstraintList and indexed Constraint(T).</p></li>
<li><p>Expressions are constructed incrementally and can be combined with other
sources (e.g., thermal, renewable) in hybrid dispatch models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023..</p>
</section>
</section>
<section id="module-NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder">
<span id="naivepydecomp-hydraulicgenerator-hydraulicgeneratorbuilder-module"></span><h6>NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder module<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Hydropower Dispatch Model Builder</p>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the construction logic for assembling a <strong>hydropower-only</strong>
optimization model in Pyomo. It integrates the full sequence of:</p>
<ul class="simple">
<li><p>Set and parameter initialization,</p></li>
<li><p>Decision variable declaration,</p></li>
<li><p>Piecewise or analytical hydropower production modeling (FPH),</p></li>
<li><p>Operational constraints,</p></li>
<li><p>Objective function (optional).</p></li>
</ul>
</section>
<section id="supported-generation-modes-per-unit">
<h6 aria-level="7">Supported generation modes (per unit)<a class="headerlink" href="#supported-generation-modes-per-unit" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Constant productivity</p></li>
<li><p>Specific productivity with fixed head</p></li>
<li><p>Exact head-dependent generation with nonlinear losses</p></li>
<li><p>Simplified constant productivity (didactic)</p></li>
</ul>
</section>
<section id="id6">
<h6 aria-level="7">Functions<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_FPHs(m, data)</dt><dd><p>Initialize the hydropower production function (FPH) callable for each unit.</p>
</dd>
<dt>build_hydro_dispatch(data, include_objective=True)</dt><dd><p>Assemble a complete Pyomo model for hydropower dispatch optimization.</p>
</dd>
</dl>
</section>
<section id="modeling-conventions-and-units">
<h6 aria-level="7">Modeling Conventions and Units<a class="headerlink" href="#modeling-conventions-and-units" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time periods are indexed as integers t = 1, â€¦, horizon.</p></li>
<li><p>Turbined and spill discharges (Q, S): hm^3.</p></li>
<li><p>Storage volume (V): hm^3.</p></li>
<li><p>Power (G) and demand (d): MWh.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This builder targets <strong>pure hydropower</strong> systems. To include thermal units,
couple with a combined system balance elsewhere.</p></li>
<li><p>The callable stored in m.hydro_FPH[h] must accept the signature
FPH(Q, V, S) â†’ MW and be consistent with model units.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.add_hydro_problem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_hydro_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><span class="pre">HydraulicData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.add_hydro_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a hydropower dispatch problem in Pyomo.</p>
<p>This builder configures a Pyomo model for reservoir-based hydropower
optimization. It attaches sets, parameters, decision variables, the
hydropower production functions (FPHs), and all relevant operational
constraints. Optionally, it includes the demand balance and the
cost-minimization objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which the hydropower problem will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Input data object containing planning horizon, demand mapping,
unit definitions, inflows, storage bounds, and productivity
coefficients.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, add the system-wide demand balance and deficit-penalizing
objective function (default is False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated Pyomo model with hydropower sets, parameters, variables,
constraints, and optionally the objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.add_hydro_subproblem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_hydro_subproblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><span class="pre">HydraulicData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.add_hydro_subproblem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a hydropower dispatch problem in Pyomo.</p>
<p>This builder configures a Pyomo model for reservoir-based hydropower
optimization. It attaches sets, parameters, decision variables, the
hydropower production functions (FPHs), and all relevant operational
constraints. Optionally, it includes the demand balance and the
cost-minimization objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which the hydropower problem will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Input data object containing planning horizon, demand mapping,
unit definitions, inflows, storage bounds, and productivity
coefficients.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, add the system-wide demand balance and deficit-penalizing
objective function (default is False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated Pyomo model with hydropower sets, parameters, variables,
constraints, and optionally the objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.build_FPHs">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_FPHs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><span class="pre">HydraulicData</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.build_FPHs" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initialize hydropower production functions (FPH) for all units.</p>
<p>For each hydro unit h, this function selects and constructs a callable
FPH according to the unitâ€™s declared mode (constant, simplified,
specific, or exact) and assigns it to m.hydro_FPH[h] with
the signature FPH(Q, V, S) =&gt; MW.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Pyomo model into which the FPH callables will be attached.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Configuration object containing unit maps and modes</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model m is modified in place. A dictionary m.hydro_FPH is
created, indexed by unit name, each entry being a callable of the form
FPH(Q, V, S).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.build_hydro_dispatch">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_hydro_dispatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><span class="pre">HydraulicData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicGeneratorBuilder.build_hydro_dispatch" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a complete Pyomo model for hydropower dispatch.</p>
<p>The resulting model includes:</p>
<ul class="simple">
<li><p>Set and parameter definitions (via hydraulyc_add_sets_and_params)</p></li>
<li><p>Continuous decision variables (via hydralic_add_variables_g)</p></li>
<li><p>Per-unit FPH callables (via build_FPHs)</p></li>
<li><p>Operational constraints: generation equation, reservoir mass balance,
Qmin/Qmax, volume bounds, terminal storage target</p></li>
<li><p>Optional system-wide demand balance and cost-minimization objective</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Input data with horizon, demand, unit map, and conversion constants.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, add the hydropower balance constraint and define the
objective function. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Pyomo ConcreteModel ready to be passed to a solver.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.base.PyomoModel.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Designed for hydropower-only settings. For mixed hydro-thermal
systems, use an extended builder with a combined balance equation.</p></li>
<li><p>The order of operations ensures FPH callables are available before
generation constraints are added.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.HydraulicGenerator.HydraulicObjectives">
<span id="naivepydecomp-hydraulicgenerator-hydraulicobjectives-module"></span><h6>NaivePyDECOMP.HydraulicGenerator.HydraulicObjectives module<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator.HydraulicObjectives" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Objective Function for Pure Hydropower Dispatch</p>
<section id="id7">
<h6 aria-level="7">Description<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the objective for reservoir-based <strong>hydropower-only</strong>
optimization models. The objective minimizes (i) the total cost of unmet
energy (deficit) and (ii) a small penalty on water spillage to discourage
gratuitous releases, thereby promoting more efficient water usage.</p>
</section>
<section id="id8">
<h6 aria-level="7">Functions<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_hydro(m)</dt><dd><p>Attach a minimization objective to a Pyomo model that penalizes
deficit and spillage over the planning horizon.</p>
</dd>
</dl>
</section>
<section id="id9">
<h6 aria-level="7">Modeling Conventions and Units<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time periods: integers <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">â€¦,</span> <span class="pre">horizon</span></code>.</p></li>
<li><p>Deficit <code class="docutils literal notranslate"><span class="pre">D[t]</span></code>: MW (interpreted per-period, consistent with objective scaling).</p></li>
<li><p>Spill <code class="docutils literal notranslate"><span class="pre">hydro_S[h,t]</span></code>: m^3/s.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cdef</span></code>: $/MWh (ensure consistency with how deficit is modeled and aggregated).</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Designed for <strong>pure hydropower</strong> systems (no thermal generation).</p></li>
<li><p>The spillage penalty uses a fixed coefficient (0.3). Adjust as needed
to break degeneracy or steer solutions away from unnecessary spill.</p></li>
<li><p>Compatible with NaivePyDECOMP hydropower data and constraints.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.HydraulicGenerator.HydraulicVars">
<span id="naivepydecomp-hydraulicgenerator-hydraulicvars-module"></span><h6>NaivePyDECOMP.HydraulicGenerator.HydraulicVars module<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator.HydraulicVars" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Hydropower Model Initialization: Sets, Parameters, and Variables</p>
<section id="id10">
<h6 aria-level="7">Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>This module provides initialization routines for setting up the basic
sets, parameters, and continuous variables required by hydropower
optimization models in Pyomo. It accommodates multiple hydropower
generation modes, natural-inflow handling, and head-dependent power
relationships supplied elsewhere in the modeling stack.</p>
</section>
<section id="id11">
<h6 aria-level="7">Functions<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>hydraulyc_add_sets_and_params(m, data)</dt><dd><p>Initialize sets and model-level parameters/containers for hydropower units
and system-wide demand.</p>
</dd>
<dt>hydralic_add_variables_g(m)</dt><dd><p>Declare continuous decision variables for hydropower dispatch modeling.</p>
</dd>
</dl>
</section>
<section id="id12">
<h6 aria-level="7">Modeling Conventions and Units<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time periods are indexed as integers <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">â€¦,</span> <span class="pre">horizon</span></code>.</p></li>
<li><p>Turbined/Spill discharges (Q, S): hm^3.</p></li>
<li><p>Storage volume (V): hm^3.</p></li>
<li><p>Demand and power (d, G): MWh.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The argument <code class="docutils literal notranslate"><span class="pre">data</span></code> is expected to be an instance of <code class="docutils literal notranslate"><span class="pre">HydraulicData</span></code>,
where each unit is a <code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code>.</p></li>
<li><p>Some attributes attached to the model are plain Python containers
(e.g., dictionaries) rather than Pyomo <code class="docutils literal notranslate"><span class="pre">Param</span></code> objects, by design.</p></li>
<li><p>This module targets short-term planning models and is suitable for
integration into MILP/MIQP hydropower (or hydrothermal) formulations.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.HydraulicGenerator.HydraulicVars.hydraulyc_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.HydraulicGenerator.HydraulicVars.</span></span><span class="sig-name descname"><span class="pre">hydraulyc_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicVars.hydraulyc_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initialize hydropower sets and model-level parameters/containers.</p>
<p>Configures the Pyomo model <code class="docutils literal notranslate"><span class="pre">m</span></code> with time and hydropower unit sets,
system-level demand, and per-unit attributes such as flow limits,
storage bounds, initial/terminal storages, natural inflows, cascade
topology, and flags used by inflow aggregation. Values are sourced
from the <code class="docutils literal notranslate"><span class="pre">HydraulicData</span></code>/<code class="docutils literal notranslate"><span class="pre">HydraulicUnit</span></code> objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.core.base.PyomoModel.ConcreteModel</em>) â€“ Target Pyomo model to be populated with sets and parameters.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData" title="NaivePyDECOMP.HydraulicGenerator.HydraulicDataTypes.HydraulicData"><em>HydraulicData</em></a>) â€“ Input data object with planning horizon, demand mapping, and the
dictionary of hydropower units.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model <code class="docutils literal notranslate"><span class="pre">m</span></code> with initialized sets and parameters/containers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.core.base.PyomoModel.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>All plant-specific containers are indexed by the hydropower unit set
<code class="docutils literal notranslate"><span class="pre">m.HG</span></code>.</p></li>
<li><p>Time-varying arrays (e.g., <code class="docutils literal notranslate"><span class="pre">afluencia</span></code>) are assumed to be external,
0-based Python lists that are accessed as <code class="docutils literal notranslate"><span class="pre">[t-1]</span></code> inside constraints.</p></li>
<li><p>Some attributes (e.g., <code class="docutils literal notranslate"><span class="pre">m.hydro_Qmin</span></code>, <code class="docutils literal notranslate"><span class="pre">m.hydro_Vmax</span></code>) are plain
Python dictionaries attached to the model for convenience; others
(e.g., <code class="docutils literal notranslate"><span class="pre">m.d</span></code>) are Pyomo <code class="docutils literal notranslate"><span class="pre">Param</span></code> objects.</p></li>
<li><p>The attribute <code class="docutils literal notranslate"><span class="pre">m.horizon</span></code> stores the number of periods for quick access.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.HydraulicGenerator.SimplifiedConstantProductivityFPH">
<span id="naivepydecomp-hydraulicgenerator-simplifiedconstantproductivityfph-module"></span><h6>NaivePyDECOMP.HydraulicGenerator.SimplifiedConstantProductivityFPH module<a class="headerlink" href="#module-NaivePyDECOMP.HydraulicGenerator.SimplifiedConstantProductivityFPH" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Simplified Constant Productivity FPH Function</p>
<section id="id13">
<h6 aria-level="7">Author<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id14">
<h6 aria-level="7">Description<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<p>Defines a simplified hydropower production function (FPH) for short-term
operation models. The generation is assumed to be proportional to turbine
discharge, scaled by a constant productivity coefficient.</p>
<p>The FPH is expressed as:</p>
<blockquote>
<div><p>FPH(Q) = P * Q</p>
</div></blockquote>
<p>where:
- Q : turbine discharge (hm^3)
- P : global productivity coefficient (dimensionless)</p>
<p>This formulation is particularly useful for approximate dispatch models,
sensitivity analyses, or didactic examples that do not require head-dependent
hydraulic modeling.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Unlike the more detailed constant-productivity model, this simplified
function does not include the <code class="docutils literal notranslate"><span class="pre">zeta</span></code> scaling factor. If desired, the
conversion constant can be absorbed directly into <code class="docutils literal notranslate"><span class="pre">P</span></code> to yield MW.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<span id="document-NaivePyDECOMP.RenewableGenerator"></span><section id="naivepydecomp-renewablegenerator-package">
<h5>NaivePyDECOMP.RenewableGenerator package<a class="headerlink" href="#naivepydecomp-renewablegenerator-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDECOMP.RenewableGenerator">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDECOMP.RenewableGenerator" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Renewable Generation Modeling (RenewableGenerator)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>RenewableGenerator</strong> package provides a modular framework for modeling
renewable energy sources (e.g., wind and solar) in Pyomo-based dispatch and
unit commitment models. It includes standardized data types, sets, parameters,
variables, constraints, objectives, and builder functions.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>RenewableDataTypes</dt><dd><p>Dataclasses defining renewable units (e.g., expected generation profiles).</p>
</dd>
<dt>RenewableVars</dt><dd><p>Initialization routines for Pyomo sets, parameters, and variables.</p>
</dd>
<dt>RenewableConstraints</dt><dd><p>Constraint builders enforcing availability limits and system balance.</p>
</dd>
<dt>RenewableObjectives</dt><dd><p>Objective function definitions for renewable-only systems.</p>
</dd>
<dt>RenewableBuilder</dt><dd><p>High-level routines to assemble complete renewable generation models.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The renewable availability profiles (<strong>gbar</strong>) are treated as exogenous,
typically coming from forecasts.</p></li>
<li><p>The package is interoperable with the Hydro, Thermal, and Storage packages,
enabling hybrid model construction.</p></li>
<li><p>Consistent naming and structure ensure clarity and maintainability across
subsystems.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDECOMP.RenewableGenerator.RenewableConstraints">
<span id="naivepydecomp-renewablegenerator-renewableconstraints-module"></span><h6>NaivePyDECOMP.RenewableGenerator.RenewableConstraints module<a class="headerlink" href="#module-NaivePyDECOMP.RenewableGenerator.RenewableConstraints" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Constraints</p>
<section id="id2">
<h6 aria-level="7">Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6 aria-level="7">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the operational constraints for renewable generation
within Pyomo-based unit commitment and dispatch models. It enforces both
the per-unit generation availability limits and the system-wide energy
balance when only renewable units and deficit are considered.</p>
</section>
<section id="functions">
<h6 aria-level="7">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_renewable_capacity_constraints(m)</dt><dd><p>Enforce that renewable generation for each unit and period does not
exceed the exogenous availability profile <code class="docutils literal notranslate"><span class="pre">gbar</span></code>.</p>
</dd>
<dt>add_renewable_balance_constraint(m)</dt><dd><p>Enforce the energy balance by equating total renewable generation
plus deficit to the system demand at each time period.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The capacity constraints guarantee that <code class="docutils literal notranslate"><span class="pre">renewable_gen[r,t]</span></code> is bounded
above by <code class="docutils literal notranslate"><span class="pre">renewable_gbar[r,t]</span></code>, which typically comes from forecasts.</p></li>
<li><p>The balance constraint is suitable for renewable-only models. In hybrid
models (thermal + hydro + renewables), a combined balance formulation
must be applied instead.</p></li>
<li><p>The deficit variable <code class="docutils literal notranslate"><span class="pre">D[t]</span></code> provides feasibility when renewable
generation cannot meet demand.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.RenewableGenerator.RenewableDataTypes">
<span id="naivepydecomp-renewablegenerator-renewabledatatypes-module"></span><h6>NaivePyDECOMP.RenewableGenerator.RenewableDataTypes module<a class="headerlink" href="#module-NaivePyDECOMP.RenewableGenerator.RenewableDataTypes" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Generation Data Structures</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines lightweight data classes for representing renewable
generation units (e.g., wind and solar) and their aggregated system-level
data. These structures serve as standardized inputs for optimization
models of unit commitment and dispatch in Pyomo.</p>
</section>
<section id="classes">
<h6 aria-level="7">Classes<a class="headerlink" href="#classes" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>RenewableUnit</dt><dd><p>Encapsulates the characteristics of a single renewable unit, including
identifier and time-varying availability profile.</p>
</dd>
<dt>RenewableData</dt><dd><p>Aggregates renewable units with system-wide parameters such as horizon,
demand profile, and deficit penalty cost.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The exogenous availability profiles are represented as deterministic
time series (MW) and aligned with the planning horizon.</p></li>
<li><p>The classes are designed for seamless integration into Pyomo-based
optimization formulations, ensuring consistency with similar structures
for thermal and hydro subsystems.</p></li>
<li><p>Extend these classes as needed to incorporate stochastic scenarios or
uncertainty modeling for renewable availability.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.RenewableGenerator.RenewableEquations">
<span id="naivepydecomp-renewablegenerator-renewableequations-module"></span><h6>NaivePyDECOMP.RenewableGenerator.RenewableEquations module<a class="headerlink" href="#module-NaivePyDECOMP.RenewableGenerator.RenewableEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Renewable Model Expression Utilities for Pyomo Optimization</p>
<section id="id6">
<h6 aria-level="7">Author<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id7">
<h6 aria-level="7">Description<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to renewable energy generation in Pyomo-based optimization models.
The expressions generated here can be used to assemble power balance
constraints and, when applicable, cost functions that include renewable
generation impacts such as curtailment penalties or contractual delivery.</p>
<p>The functions are designed to operate modularly, enabling integration
into hybrid models that combine thermal, hydro, storage, and renewable
sources in a unified dispatch or expansion framework.</p>
<p>Each function verifies the availability of required model components
before contributing expressions, allowing for flexible integration
without error propagation in partially defined models.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To support the incremental construction of power balance constraints
by including generation terms from renewable units.</p></li>
<li><p>To optionally incorporate renewable-related cost components, including
penalties or market mechanisms.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_renewable_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_renewable_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_array</span><span class="o">=</span><span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">PowerBalance</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This module assumes the existence of model components such as:
<cite>RU</cite> (set of renewable units), <cite>T</cite> (time set), and <cite>renewable_gen</cite> (generation variable).</p></li>
<li><p>Cost expressions are optional and can be enabled based on use case (e.g., curtailment penalties).</p></li>
<li><p>The symbolic expressions returned can be used with ConstraintList or Constraint(model.T).</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. (2023). IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica,  Lecture Notes EELT7030/UFPR.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.RenewableGenerator.RenewableGeneratorBuilder">
<span id="naivepydecomp-renewablegenerator-renewablegeneratorbuilder-module"></span><h6>NaivePyDECOMP.RenewableGenerator.RenewableGeneratorBuilder module<a class="headerlink" href="#module-NaivePyDECOMP.RenewableGenerator.RenewableGeneratorBuilder" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Model Builder</p>
<section id="id8">
<h6 aria-level="7">Author<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id9">
<h6 aria-level="7">Description<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>This module provides high-level builders for renewable-only optimization
models in Pyomo. It assembles the complete model structure by combining
sets, parameters, variables, constraints, and optionally the objective
function for renewable generation systems.</p>
</section>
<section id="id10">
<h6 aria-level="7">Functions<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_renewables(data, include_objective=True)</dt><dd><p>Create a new <code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code> pre-populated with renewable unit
commitment and dispatch components.</p>
</dd>
<dt>add_renewable_problem(m, data, include_objective=False)</dt><dd><p>Add renewable-related sets, parameters, variables, constraints,
and optionally the objective function to an existing Pyomo model.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Suitable for renewable-only systems (e.g., wind and solar). For hybrid
hydrothermal-renewable systems, the balance constraint and objective
must be adapted accordingly.</p></li>
<li><p>The availability profiles are deterministic and exogenous, provided
by the <code class="docutils literal notranslate"><span class="pre">RenewableData</span></code> structure.</p></li>
<li><p>The optional objective minimizes deficit costs and enforces demand
balance when <code class="docutils literal notranslate"><span class="pre">include_objective=True</span></code>.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.RenewableGenerator.RenewableGeneratorBuilder.add_renewable_subproblem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.RenewableGenerator.RenewableGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_renewable_subproblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><span class="pre">RenewableData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.RenewableGenerator.RenewableGeneratorBuilder.add_renewable_subproblem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add renewable dispatch problem structure to a Pyomo model.</p>
<p>This routine attaches all renewable-related components to an existing
<code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code>. It initializes sets, parameters, variables, and the
renewable capacity constraints. Optionally, it also includes the balance
constraint and renewable objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which renewable problem components will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData" title="NaivePyDESSEM.RenewableGenerator.RenewableDataTypes.RenewableData"><em>RenewableData</em></a>) â€“ Input data structure containing horizon, demand, units, and
availability profiles.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, add the balance constraint and renewable objective
function (default is <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with renewable sets, parameters, variables,
constraints, and optionally the objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Constraints added:</dt><dd><ul>
<li><p>Renewable generation capacity limits</p></li>
<li><p>Renewable balance (if <code class="docutils literal notranslate"><span class="pre">include_objective=True</span></code>)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>The objective minimizes deficit cost and optionally penalizes
renewable spill (depending on implementation of
<code class="xref py py-func docutils literal notranslate"><span class="pre">set_objective_renewable()</span></code>).</p></li>
<li><p>This builder is intended for renewable-only systems. For mixed
hydro/thermal/renewable dispatch, a combined balance formulation
is required.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.RenewableGenerator.RenewableObjectives">
<span id="naivepydecomp-renewablegenerator-renewableobjectives-module"></span><h6>NaivePyDECOMP.RenewableGenerator.RenewableObjectives module<a class="headerlink" href="#module-NaivePyDECOMP.RenewableGenerator.RenewableObjectives" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Objective Function</p>
<section id="id11">
<h6 aria-level="7">Author<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id12">
<h6 aria-level="7">Description<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>Defines the objective function for renewable-only dispatch models in Pyomo.
The objective minimizes the total cost of unmet demand (deficit) over the
planning horizon. It uses the deficit penalty parameter <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> to quantify
the economic impact of unserved energy.</p>
</section>
<section id="id13">
<h6 aria-level="7">Functions<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_renewable(m)</dt><dd><p>Attach a minimization objective to the model, penalizing unmet demand.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This objective is designed for renewable-only systems, where generation
is fully determined by availability and no explicit fuel costs exist.</p></li>
<li><p>The deficit variable <code class="docutils literal notranslate"><span class="pre">D[t]</span></code> ensures feasibility when renewable
generation cannot meet the demand <code class="docutils literal notranslate"><span class="pre">d[t]</span></code>.</p></li>
<li><p>The penalty coefficient <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> should be chosen high enough to
discourage deficits under normal conditions.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.RenewableGenerator.RenewableVars">
<span id="naivepydecomp-renewablegenerator-renewablevars-module"></span><h6>NaivePyDECOMP.RenewableGenerator.RenewableVars module<a class="headerlink" href="#module-NaivePyDECOMP.RenewableGenerator.RenewableVars" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Renewable Unit Commitment â€” Sets, Parameters, and Variables</p>
<section id="id14">
<h6 aria-level="7">Author<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id15">
<h6 aria-level="7">Description<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<p>This module provides initialization routines for renewable generation
within unit-commitment and dispatch models in Pyomo. It defines the sets,
parameters, and decision variables required to incorporate renewable
units (e.g., wind or solar) into short-term planning formulations.</p>
</section>
<section id="id16">
<h6 aria-level="7">Functions<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>renewable_add_sets_and_params(m, data)</dt><dd><p>Initialize sets and parameters for renewable units, including the
renewable unit set and availability profiles <code class="docutils literal notranslate"><span class="pre">gbar</span></code>.</p>
</dd>
<dt>renewable_add_variables(m)</dt><dd><p>Declare renewable generation decision variables and, if not present,
the deficit variable.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Availability profiles <code class="docutils literal notranslate"><span class="pre">gbar</span></code> are assumed to be exogenous, deterministic,
and aligned with the planning horizon.</p></li>
<li><p>The module is designed for integration with hydro and thermal
subsystems, ensuring that common components such as time set <code class="docutils literal notranslate"><span class="pre">m.T</span></code>,
demand <code class="docutils literal notranslate"><span class="pre">m.d</span></code>, and deficit penalty <code class="docutils literal notranslate"><span class="pre">m.Cdef</span></code> are not redefined if
already present.</p></li>
<li><p>Renewable generation is always bounded above by its availability; the
actual capacity constraint should be added separately.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<span id="document-NaivePyDECOMP.Storage"></span><section id="naivepydecomp-storage-package">
<h5>NaivePyDECOMP.Storage package<a class="headerlink" href="#naivepydecomp-storage-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDECOMP.Storage">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDECOMP.Storage" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Energy Storage Modeling (Storage)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>Storage</strong> package provides a modular framework for incorporating
battery energy storage systems (BESS) into Pyomo-based dispatch and unit
commitment models. It defines the necessary data structures, sets,
parameters, variables, constraints, objectives, and builder functions
to assemble storage-only or hybrid optimization models.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>StorageDataTypes</dt><dd><p>Dataclasses for storage units and system-level configuration.</p>
</dd>
<dt>StorageVars</dt><dd><p>Initialization of Pyomo sets, parameters, and variables.</p>
</dd>
<dt>StorageConstraints</dt><dd><p>Constraint builders (SoC balance, bounds, power limits, etc.).</p>
</dd>
<dt>StorageObjectives</dt><dd><p>Objective function definitions for storage-only models.</p>
</dd>
<dt>StorageBuilder</dt><dd><p>High-level routines to assemble complete storage models.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The package is designed to be interoperable with the Hydro, Thermal,
and Renewable packages, enabling the construction of hybrid models.</p></li>
<li><p>Naming conventions are consistent across subsystems for clarity and
maintainability.</p></li>
<li><p>Extensions (e.g., cycling cost, degradation models) can be added
within this package without altering the external interface.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDECOMP.Storage.StorageBuilder">
<span id="naivepydecomp-storage-storagebuilder-module"></span><h6>NaivePyDECOMP.Storage.StorageBuilder module<a class="headerlink" href="#module-NaivePyDECOMP.Storage.StorageBuilder" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage â€” Model Builder</p>
<section id="id2">
<h6 aria-level="7">Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6 aria-level="7">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>High-level builders for storage-only optimization models in Pyomo. This
module assembles the complete model structure by combining storage sets,
parameters, variables, constraints, and an optional objective function.</p>
</section>
<section id="functions">
<h6 aria-level="7">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_storage(data, include_objective=True)</dt><dd><p>Create a new <code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code> with storage components and, optionally,
the balance constraint and objective.</p>
</dd>
<dt>add_storage_problem(m, data, include_objective=False)</dt><dd><p>Add storage components (sets/params/vars/constraints) to an existing
model and, optionally, attach the balance constraint and objective.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The default objective minimizes deficit cost (no explicit storage
operating costs). If you have cycling costs or degradation penalties,
replace the objective accordingly.</p></li>
<li><p>For hybrid systems (hydro/thermal/renewables + storage), prefer a
combined system balance and a joint objective in a higher-level builder.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Storage.StorageBuilder.add_storage_subproblem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Storage.StorageBuilder.</span></span><span class="sig-name descname"><span class="pre">add_storage_subproblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDESSEM.Storage.StorageDataTypes.StorageData" title="NaivePyDESSEM.Storage.StorageDataTypes.StorageData"><span class="pre">StorageData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.Storage.StorageBuilder.add_storage_subproblem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add storage dispatch problem structure to an existing model.</p>
<p>This routine initializes storage sets and parameters, declares decision
variables, and attaches operational constraints. Optionally, it enforces
a storage-only system balance and adds a deficit-penalizing objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Target model to be updated.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><em>StorageData</em></a>) â€“ Input container with horizon, units, and time-step duration.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If <code class="docutils literal notranslate"><span class="pre">True</span></code>, add the storage-only balance constraint and attach the
deficit objective (default is <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with storage components and, optionally, the
balance constraint and objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><dl class="simple">
<dt>Constraints added (always):</dt><dd><ul>
<li><p>Energy (SoC) balance</p></li>
<li><p>SoC bounds (min/max)</p></li>
<li><p>Charge/discharge power limits</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If <code class="docutils literal notranslate"><span class="pre">include_objective=True</span></code>:</dt><dd><ul>
<li><p>Add storage-only balance: Î£(dis âˆ’ ch) + D = d</p></li>
<li><p>Attach deficit objective</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.Storage.StorageConstraints">
<span id="naivepydecomp-storage-storageconstraints-module"></span><h6>NaivePyDECOMP.Storage.StorageConstraints module<a class="headerlink" href="#module-NaivePyDECOMP.Storage.StorageConstraints" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Energy Storage â€” Constraints</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the operational constraints for battery energy storage
systems (BESS) within Pyomo-based dispatch and unit commitment models.
The formulation is consistent with the hydraulic and renewable modules,
ensuring interoperability in hybrid optimization frameworks.</p>
</section>
<section id="id6">
<h6 aria-level="7">Functions<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_storage_energy_balance_constraint(m)</dt><dd><p>Enforce intertemporal state-of-charge balance with charge/discharge
efficiencies and time-step duration.</p>
</dd>
<dt>add_storage_soc_bounds_constraint(m)</dt><dd><p>Impose minimum and maximum state-of-charge limits.</p>
</dd>
<dt>add_storage_power_limits_constraint(m)</dt><dd><p>Impose per-period charging and discharging power limits.</p>
</dd>
<dt>add_storage_mutual_exclusion_constraint(m)</dt><dd><p>(Optional) Prohibit simultaneous charging and discharging through a
big-M formulation with binary mode variables.</p>
</dd>
<dt>add_storage_only_balance_constraint(m)</dt><dd><p>Enforce system-wide balance for storage-only models, equating net
injection plus deficit to the demand at each period.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The efficiencies (<code class="docutils literal notranslate"><span class="pre">eta_c</span></code>, <code class="docutils literal notranslate"><span class="pre">eta_d</span></code>) can be specified per stage or
derived from a round-trip value split by the user.</p></li>
<li><p>For hybrid models (hydro, thermal, renewable, storage), the global
balance should be implemented at a higher builder level.</p></li>
<li><p>The formulation assumes a fixed period duration <code class="docutils literal notranslate"><span class="pre">delta_t</span></code> in hours,
used to convert power (MW) to energy (MWh).</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.Storage.StorageDataTypes">
<span id="naivepydecomp-storage-storagedatatypes-module"></span><h6>NaivePyDECOMP.Storage.StorageDataTypes module<a class="headerlink" href="#module-NaivePyDECOMP.Storage.StorageDataTypes" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage Bank â€” Data Structures</p>
<section id="id7">
<h6 aria-level="7">Author<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id8">
<h6 aria-level="7">Description<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>Lightweight data classes for battery energy storage systems (BESS). These
structures provide standardized inputs for Pyomo-based unit commitment and
dispatch models.</p>
</section>
<section id="classes">
<h6 aria-level="7">Classes<a class="headerlink" href="#classes" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>StorageUnit</dt><dd><p>Parameters of a single storage unit (SoC bounds, power limits,
efficiencies, initial state).</p>
</dd>
<dt>StorageData</dt><dd><p>System-level container that aggregates storage units and common
parameters such as time-step duration.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The efficiencies can be specified per stage (charge/discharge) or derived
from a round-trip value split across both stages by the user before
instantiation.</p></li>
<li><p>The time-step duration <code class="docutils literal notranslate"><span class="pre">delta_t</span></code> (hours) converts power (MW) to energy
(MWh) in the state-of-charge balance.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.Storage.StorageEquations">
<span id="naivepydecomp-storage-storageequations-module"></span><h6>NaivePyDECOMP.Storage.StorageEquations module<a class="headerlink" href="#module-NaivePyDECOMP.Storage.StorageEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Storage Model Expression Utilities for Pyomo Optimization</p>
<section id="id9">
<h6 aria-level="7">Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h6 aria-level="7">Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to energy storage systems in Pyomo-based optimization models.
These expressions can be incrementally assembled and integrated into
constraints (e.g., state-of-charge evolution) or cost functions (e.g.,
charging/discharging costs).</p>
<p>The functions are designed to support modular model construction and
hybrid system integration. They can be used in conjunction with other
technology modules (e.g., thermal, hydro, renewable) to build power
balance constraints and system-wide cost objectives.</p>
<p>All expressions are symbolic and compatible with Pyomoâ€™s modeling
framework. Each function includes safeguards to ensure that required
model components exist before attempting to generate expressions.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To append storage-related cost and energy balance expressions to lists
that contribute to the overall objective function and constraint set.</p></li>
<li><p>To modularize and standardize storage modeling across different hybrid
energy system configurations.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_storage_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_storage_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_array</span><span class="o">=</span><span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">StorageBalance</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This module assumes that storage behavior is modeled using variables such as:
<cite>storage_E</cite>, <cite>storage_ch</cite>, <cite>storage_dis</cite>, <cite>storage_Eini</cite>,
and parameters like <cite>storage_eta_c</cite>, <cite>storage_eta_d</cite>, and <cite>storage_delta_t</cite>.</p></li>
<li><p>The structure is compatible with Pyomoâ€™s ConstraintList and indexed Constraint(T).</p></li>
<li><p>Expressions are constructed incrementally and can be combined with other
sources (e.g., thermal, hydro) in hybrid dispatch models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023..</p>
</section>
</section>
<section id="module-NaivePyDECOMP.Storage.StorageObjective">
<span id="naivepydecomp-storage-storageobjective-module"></span><h6>NaivePyDECOMP.Storage.StorageObjective module<a class="headerlink" href="#module-NaivePyDECOMP.Storage.StorageObjective" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage â€” Objective Function</p>
<section id="id11">
<h6 aria-level="7">Author<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id12">
<h6 aria-level="7">Description<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>Defines the objective function for storage-only dispatch models in Pyomo.
The formulation minimizes the total penalty cost associated with unmet
demand (deficit) over the planning horizon, using the parameter <code class="docutils literal notranslate"><span class="pre">Cdef</span></code>.</p>
</section>
<section id="id13">
<h6 aria-level="7">Functions<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_storage(m)</dt><dd><p>Attach a minimization objective to the model that penalizes unmet
demand through <code class="docutils literal notranslate"><span class="pre">Cdef</span> <span class="pre">*</span> <span class="pre">D[t]</span></code>.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This objective is tailored for storage-only systems without explicit
operating or cycling costs.</p></li>
<li><p>The penalty coefficient <code class="docutils literal notranslate"><span class="pre">Cdef</span></code> should be chosen sufficiently high
to discourage deficits under normal operating conditions.</p></li>
<li><p>For hybrid models (hydro, thermal, renewable, storage), a combined
system-wide objective should be defined at a higher level.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.Storage.StorageVars">
<span id="naivepydecomp-storage-storagevars-module"></span><h6>NaivePyDECOMP.Storage.StorageVars module<a class="headerlink" href="#module-NaivePyDECOMP.Storage.StorageVars" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Energy Storage â€” Sets, Parameters, and Variables</p>
<section id="id14">
<h6 aria-level="7">Author<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id15">
<h6 aria-level="7">Description<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<p>Provides initialization routines for adding storage-related sets, parameters,
and decision variables to Pyomo-based dispatch and unit commitment models.
This module ensures a consistent interface for modeling battery energy storage
systems (BESS) across different formulations.</p>
</section>
<section id="id16">
<h6 aria-level="7">Functions<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>storage_add_sets_and_params(m, data)</dt><dd><p>Initialize sets and Pyomo parameters for storage units, including
state-of-charge bounds, initial conditions, power limits, efficiencies,
and time-step duration.</p>
</dd>
<dt>storage_add_variables(m)</dt><dd><p>Declare continuous decision variables for state-of-charge, charging
power, and discharging power. If absent, also define a deficit variable
for feasibility.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Parameters are namespaced with the prefix <code class="docutils literal notranslate"><span class="pre">storage_</span></code> for clarity and
compatibility with other subsystems (hydro, thermal, renewable).</p></li>
<li><p>The time-step duration (<code class="docutils literal notranslate"><span class="pre">delta_t</span></code>) converts power (MW) to energy (MWh)
within the state-of-charge balance equation.</p></li>
<li><p>The variables are declared as non-negative and continuous. Binary
variables may be added in other modules if mutual exclusion between
charge and discharge is required.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<span id="document-NaivePyDECOMP.ThermalGenerator"></span><section id="naivepydecomp-thermalgenerator-package">
<h5>NaivePyDECOMP.ThermalGenerator package<a class="headerlink" href="#naivepydecomp-thermalgenerator-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDECOMP.ThermalGenerator">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDECOMP.ThermalGenerator" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Package: Thermal Generation Modeling (ThermalGenerator)</p>
<section id="author">
<h6 aria-level="7">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="7">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>ThermalGenerator</strong> package provides a modular framework for modeling
thermal generation units in Pyomo-based unit commitment and dispatch models.
It includes data structures, sets, parameters, variables, constraints,
objectives, and builder functions for both quadratic (MIQP) and piecewise-linear
(MILP) cost formulations.</p>
</section>
<section id="submodules">
<h6 aria-level="7">Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>ThermalDataTypes</dt><dd><p>Dataclasses defining thermal unit parameters and system-wide data.</p>
</dd>
<dt>ThermalVars</dt><dd><p>Initialization routines for Pyomo sets, parameters, and variables.</p>
</dd>
<dt>ThermalConstraints</dt><dd><p>Constraint builders (balance, capacity, reserve, ramping, min up/down).</p>
</dd>
<dt>ThermalObjectives</dt><dd><p>Objective function definitions (quadratic and piecewise-linear).</p>
</dd>
<dt>ThermalPiecewiseCost</dt><dd><p>Utilities for building piecewise-linear cost functions.</p>
</dd>
<dt>ThermalBuilder</dt><dd><p>High-level routines to assemble complete thermal generation models.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Supports MIQP and MILP formulations, enabling flexibility in solver choice.</p></li>
<li><p>Reserve, emissions, and startup/shutdown costs can be included as needed.</p></li>
<li><p>Designed for interoperability with Hydro, Renewable, and Storage packages
to support hybrid hydrothermal-renewable models.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="id1">
<h6>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDECOMP.ThermalGenerator.ThermalConstraints">
<span id="naivepydecomp-thermalgenerator-thermalconstraints-module"></span><h6>NaivePyDECOMP.ThermalGenerator.ThermalConstraints module<a class="headerlink" href="#module-NaivePyDECOMP.ThermalGenerator.ThermalConstraints" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Constraints</p>
<section id="id2">
<h6 aria-level="7">Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6 aria-level="7">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>Constraint builders for thermal unit commitment (UC) formulations in Pyomo.
Each function attaches a specific block of constraints to a
ConcreteModel, enabling modular construction of MILP/MIQP/MINLP UC
models. The naming convention uses the thermal_* prefix for variables,
parameters, and constraint blocks attached to the model.</p>
</section>
<section id="constraint-families">
<h6 aria-level="7">Constraint Families<a class="headerlink" href="#constraint-families" title="Link to this heading">ïƒ</a></h6>
<ol class="arabic simple">
<li><p>Balance (system-wide):</p>
<ul class="simple">
<li><p>sum_g thermal_p[g,t] + D[t] = d[t]</p></li>
</ul>
</li>
<li><p>Capacity (per unit and period):</p>
<ul class="simple">
<li><p>Lower bound: thermal_Pmin[g] * thermal_u[g,t] &lt;= thermal_p[g,t]</p></li>
<li><p>Upper bound: thermal_p[g,t] &lt;= thermal_Pmax[g] * thermal_u[g,t]</p></li>
</ul>
</li>
</ol>
</section>
<section id="usage">
<h6 aria-level="7">Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h6>
<p>Combine these builders with:</p>
<ul class="simple">
<li><p>set/parameter/variable definitions for thermal UC, and</p></li>
<li><p>an appropriate objective (quadratic or piecewise linear).</p></li>
</ul>
<p>By composing the blocks, one can construct MIQP (quadratic costs) or
MILP (piecewise linear costs) UC formulations, optionally with reserve constraints.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalConstraints.thermal_add_balance_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_balance_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalConstraints.thermal_add_balance_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the system-wide energy balance constraint.</p>
<p>For each period t, the total thermal generation plus the deficit
must match the demand:</p>
<blockquote>
<div><p>sum_g thermal_p[g,t] + D[t] == d[t]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model with thermal parameters and variables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint block
m.thermal_balance_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume m has sets/vars/params defined; then:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_balance_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">thermal_balance_constraint</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>  
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalConstraints.thermal_add_capacity_constraint">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalConstraints.</span></span><span class="sig-name descname"><span class="pre">thermal_add_capacity_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_reserve</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalConstraints.thermal_add_capacity_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add generation capacity limits for all units and periods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model containing thermal parameters and variables</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with constraint blocks
m.thermal_cap_lower_constraint and
m.thermal_cap_upper_constraint.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">thermal_add_capacity_constraint</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.ThermalGenerator.ThermalDataTypes">
<span id="naivepydecomp-thermalgenerator-thermaldatatypes-module"></span><h6>NaivePyDECOMP.ThermalGenerator.ThermalDataTypes module<a class="headerlink" href="#module-NaivePyDECOMP.ThermalGenerator.ThermalDataTypes" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Data Structures and Problem Skeleton</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the canonical data structures for short-term thermal
unit commitment (UC) and economic dispatch problems. It is designed to be
paired with Pyomo model builders that assemble:</p>
<ul class="simple">
<li><p>Mixed-Integer Quadratic Programs (MIQP) with quadratic variable cost
a * u + b * p + c * pÂ² and start-up cost SC * y.</p></li>
<li><p>Mixed-Integer Linear Programs (MILP) using piecewise-linear (PWL) cost
curves via SOS2/convex-combination.</p></li>
<li><p>Optional spinning reserve coupling and global emissions/fuel caps.</p></li>
</ul>
</section>
<section id="notation-per-unit-g-and-time-t">
<h6 aria-level="7">Notation (per unit g and time t)<a class="headerlink" href="#notation-per-unit-g-and-time-t" title="Link to this heading">ïƒ</a></h6>
<p>Decision variables (model side):</p>
<blockquote>
<div><p>u_{g,t} in {0,1}   : on/off state
y_{g,t}, w_{g,t}  : start-up / shut-down flags (binary)
p_{g,t} &gt;= 0       : electrical output (MW)
r_{g,t} &gt;= 0       : spinning reserve (MW, optional)
D_t &gt;= 0           : demand deficit (MW, optional)</p>
</div></blockquote>
<p>Core parameters (this module):</p>
<blockquote>
<div><p>Pmin_g, Pmax_g    : power bounds (MW)
RU_g, RD_g        : ramp-up / ramp-down limits (MW/Î”t)
a_g, b_g, c_g     : cost coefficients for a * u + b * p + c * pÂ²
SC_g              : hot start cost
t_up_g, t_down_g  : minimum up/down times (periods)
u0_g, p0_g        : initial state and output
pw_breaks, pw_costs : PWL points for variable cost C(p)
Î³_g               : emissions factor (tCOâ‚‚/MWh), optional</p>
</div></blockquote>
</section>
<section id="typical-objective-miqp-form">
<h6 aria-level="7">Typical objective (MIQP form)<a class="headerlink" href="#typical-objective-miqp-form" title="Link to this heading">ïƒ</a></h6>
<p>Minimize over t,g:</p>
<blockquote>
<div><p>sum ( a_g u_{g,t} + b_g p_{g,t} + c_g p_{g,t}^2 + SC_g y_{g,t} ) + C_def sum(D_t)</p>
</div></blockquote>
<p>subject to balance, capacity, ramping, min up/down, and (optionally)
reserve and emissions constraints.</p>
</section>
<section id="id6">
<h6 aria-level="7">Usage<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><em>ThermalUnit</em>: describes a single thermal unit, including technical
limits, cost curve, start-up, ramping, and optional PWL and emissions.</p></li>
<li><p><em>ThermalData</em>: wraps the system horizon, hourly demand, the unit map,
and optional reserve/emissions settings to feed a Pyomo builder.</p></li>
</ul>
</section>
<section id="intended-pairing">
<h6 aria-level="7">Intended pairing<a class="headerlink" href="#intended-pairing" title="Link to this heading">ïƒ</a></h6>
<p>This module is agnostic to the specific Pyomo modeling choices. It is
compatible with builders that: (i) set MIQP objectives directly from
(a,b,c); or (ii) construct MILP PWL costs from (pw_breaks, pw_costs),
keeping a * u and SC * y in the linear objective.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.</span></span><span class="sig-name descname"><span class="pre">ThermalData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit"><span class="pre">ThermalUnit</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cdef</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>System-wide data container for thermal unit commitment problems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizon</strong> (<em>int</em>) â€“ Number of time periods in the planning horizon.</p></li>
<li><p><strong>demand</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) â€“ Mapping of each period <code class="docutils literal notranslate"><span class="pre">t</span></code> to system demand (MW).</p></li>
<li><p><strong>units</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit"><em>ThermalUnit</em></a><em>]</em>) â€“ Dictionary mapping unit identifiers to their <code class="docutils literal notranslate"><span class="pre">ThermalUnit</span></code> objects.</p></li>
<li><p><strong>Cdef</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Deficit penalty cost ($/MWh), default is 1000.0.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.Cdef">
<span class="sig-name descname"><span class="pre">Cdef</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000.0</span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.Cdef" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.demand" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit"><span class="pre">ThermalUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData.units" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.</span></span><span class="sig-name descname"><span class="pre">ThermalUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Gmin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Gmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data container for a thermal generating unit with unit commitment attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) â€“ Unique identifier of the thermal unit.</p></li>
<li><p><strong>Gmin</strong> (<em>float</em>) â€“ Minimum operating power output (MWh).</p></li>
<li><p><strong>Gmax</strong> (<em>float</em>) â€“ Maximum operating power output (MWh).</p></li>
<li><p><strong>Cost</strong> (<em>float</em>) â€“ Operation cost per MWh</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.Cost">
<span class="sig-name descname"><span class="pre">Cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.Cost" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.Gmax">
<span class="sig-name descname"><span class="pre">Gmax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.Gmax" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.Gmin">
<span class="sig-name descname"><span class="pre">Gmin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.Gmin" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-NaivePyDECOMP.ThermalGenerator.ThermalEquations">
<span id="naivepydecomp-thermalgenerator-thermalequations-module"></span><h6>NaivePyDECOMP.ThermalGenerator.ThermalEquations module<a class="headerlink" href="#module-NaivePyDECOMP.ThermalGenerator.ThermalEquations" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Model Expression Utilities for Pyomo Optimization</p>
<section id="id7">
<h6 aria-level="7">Author<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id8">
<h6 aria-level="7">Description<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helper functions to construct symbolic expressions
related to thermal power generation in Pyomo models. These expressions
can be incrementally assembled and used in constraints (e.g., power balance)
or in the objective function (e.g., cost minimization).</p>
<p>Functions are designed to be modular and composable, allowing the user to
build lists of partial expressions from multiple sources (e.g., thermal,
hydro, renewable, storage) and sum them later into complete constraints
or cost functions.</p>
<p>All functions operate safely: they first verify the presence of required
model components (e.g., sets, variables, parameters) before contributing
expressions. If components are missing, the expressions are skipped
silently, enabling flexible model composition.</p>
</section>
<section id="intended-use">
<h6 aria-level="7">Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>To support modular construction of the objective function, especially
when not all energy sources are known in advance.</p></li>
<li><p>To build power balance equations at each time step by aggregating
contributions from thermal and other sources.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cost_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_thermal_cost_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">cost_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">TotalCost</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">cost_terms</span><span class="p">),</span> <span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">balance_terms</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_thermal_balance_expression</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">balance_terms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">BalanceConstraint</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">balance_terms</span><span class="p">)</span> <span class="o">==</span> <span class="n">model</span><span class="o">.</span><span class="n">Demand</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>All expressions returned are Pyomo symbolic expressions.</p></li>
<li><p>This module assumes the model follows the naming convention:
â€˜thermal_pâ€™, â€˜thermal_Costâ€™, etc.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalEquations.add_thermal_balance_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalEquations.</span></span><span class="sig-name descname"><span class="pre">add_thermal_balance_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalEquations.add_thermal_balance_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append the thermal generation expression at a given time step t
to the balance equation expression list.</p>
<p>This is intended for use in constructing hybrid or modular power
balance constraints where multiple sources (thermal, hydro, solar, etc.)
contribute to the total injected power at each time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model containing the thermal variables.</p></li>
<li><p><strong>t</strong> (<em>int</em>) â€“ Time index for which the expression should be generated.</p></li>
<li><p><strong>balance_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions to which the thermal component is appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list including the thermal power contribution at time t.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalEquations.add_thermal_cost_expression">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalEquations.</span></span><span class="sig-name descname"><span class="pre">add_thermal_cost_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalEquations.add_thermal_cost_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append thermal generation cost terms to the total cost expression list,
if the required model components are present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>ConcreteModel</em>) â€“ Pyomo model instance containing thermal data.</p></li>
<li><p><strong>cost_array</strong> (<em>list</em><em> of </em><em>expressions</em>) â€“ List of symbolic expressions to be used in the objective function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list including thermal cost terms if available.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of expressions</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder">
<span id="naivepydecomp-thermalgenerator-thermalgeneratorbuilder-module"></span><h6>NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder module<a class="headerlink" href="#module-NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Model Builder</p>
<section id="id9">
<h6 aria-level="7">Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h6 aria-level="7">Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>This module provides a high-level builder function for thermal UC models.
It orchestrates the composition of Pyomo model objects by combining:</p>
<ul class="simple">
<li><p>Sets and parameters (<em>thermal_components.thermal_add_sets_and_params</em>)</p></li>
<li><p>Variables (<em>thermal_components.thermal_add_variables_uc</em>)</p></li>
<li><p>Constraint families (<em>thermal_constraints</em>)</p></li>
<li><p>Objective functions (<em>thermal_objectives</em>)</p></li>
<li><dl class="simple">
<dt>Optional features:</dt><dd><ul>
<li><p>Reserve provision and requirement constraints</p></li>
<li><p>Emissions/fuel caps</p></li>
<li><p>Piecewise-linear (PWL) variable cost representation</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="builder-function">
<h6 aria-level="7">Builder Function<a class="headerlink" href="#builder-function" title="Link to this heading">ïƒ</a></h6>
<p><em>build_thermal_uc(data, objective, include_reserve, include_objective)</em></p>
<p>Parameters:</p>
<ul class="simple">
<li><p>data            : ThermalData object with horizon, demand, and unit info</p></li>
<li><p>objective       : â€œmiqpâ€ (quadratic) or â€œpwlâ€ (piecewise linear)</p></li>
<li><p>include_reserve : bool, add reserve variables/constraints if True</p></li>
<li><p>include_objective : bool, add objective function</p></li>
</ul>
<p>Returns:</p>
<ul class="simple">
<li><p>A fully assembled Pyomo ConcreteModel ready to be solved by MILP/MIQP solvers
(e.g., Gurobi, CPLEX, SCIP) or MINLP solvers (via MindtPy with glpk/Ipopt).</p></li>
</ul>
</section>
<section id="id11">
<h6 aria-level="7">Usage<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>This is the main entry point to generate UC test cases from ThermalData
instances. It ensures consistency across modules and allows easy switching
between formulations.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.add_thermal_problem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_thermal_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><span class="pre">ThermalData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.add_thermal_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a thermal unit-commitment (UC) problem in Pyomo.</p>
<p>This builder configures a thermal UC optimization model by attaching sets,
parameters, decision variables, and standard operational constraints. It
supports both MIQP (quadratic cost) and PWL (piecewise linear cost)
formulations, with optional reserve requirements and objective definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which the thermal UC problem will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><em>ThermalData</em></a>) â€“ Input data structure containing unit characteristics, cost parameters,
horizon length, demand, reserve requirements, and initial conditions.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, attach the cost-minimization objective function
appropriate for the chosen cost type (default False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with thermal UC constraints and, if enabled,
the objective function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">add_thermal_problem</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">objective</span><span class="o">=</span><span class="s2">&quot;miqp&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">include_objective</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;class &#39;pyomo.core.base.PyomoModel.ConcreteModel&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.add_thermal_subproblem">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_thermal_subproblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><span class="pre">ThermalData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.add_thermal_subproblem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Assemble a thermal unit-commitment (UC) subproblem in Pyomo.</p>
<p>This builder configures a thermal UC optimization model by attaching sets,
parameters, decision variables, and standard operational constraints. It
supports both MIQP (quadratic cost) and PWL (piecewise linear cost)
formulations, with optional reserve requirements and objective definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which the thermal UC problem will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><em>ThermalData</em></a>) â€“ Input data structure containing unit characteristics, cost parameters,
horizon length, demand, reserve requirements, and initial conditions.</p></li>
<li><p><strong>stage</strong> (<em>int</em>) â€“ the stage subproblem, informed for data copying</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with thermal UC constraints and, if enabled,
the objective function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">add_thermal_problem</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">objective</span><span class="o">=</span><span class="s2">&quot;miqp&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="n">include_objective</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">&lt;class &#39;pyomo.core.base.PyomoModel.ConcreteModel&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.build_thermal_uc">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_thermal_uc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><span class="pre">ThermalData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.build_thermal_uc" title="Link to this definition">ïƒ</a></dt>
<dd><p>Builds a modular thermal Unit Commitment (UC) Pyomo model.</p>
<p>This function integrates all sets, parameters, variables,
constraints, and objectives required for the thermal UC problem.
The model may be constructed with either a quadratic cost
function (MIQP) or a piecewise linear cost approximation (PWL).
Optional constraints for spinning reserve and global emissions
caps are also supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>object</em>) â€“ <p>Data container providing unit and system information.
Must include:</p>
<ul>
<li><p>demand profile</p></li>
<li><p>unit technical parameters (min/max power, ramps,
minimum up/down times, costs, etc.)</p></li>
</ul>
</p></li>
<li><p><strong>include_objective</strong> (<em>optional</em><em>, </em><em>bool</em>) â€“ hj</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A fully constructed Pyomo model ready for solving
with a MILP/MIQP solver.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.opt</span><span class="w"> </span><span class="kn">import</span> <span class="n">SolverFactory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder</span><span class="w"> </span><span class="kn">import</span> <span class="n">build_thermal_uc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">build_thermal_uc</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">data</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">opt</span> <span class="o">=</span> <span class="n">SolverFactory</span><span class="p">(</span><span class="s2">&quot;gurobi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span><span class="p">)</span>
<span class="go">optimal</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.thermo_update_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">thermo_update_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalGeneratorBuilder.thermo_update_model" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</section>
<section id="module-NaivePyDECOMP.ThermalGenerator.ThermalObjectives">
<span id="naivepydecomp-thermalgenerator-thermalobjectives-module"></span><h6>NaivePyDECOMP.ThermalGenerator.ThermalObjectives module<a class="headerlink" href="#module-NaivePyDECOMP.ThermalGenerator.ThermalObjectives" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Objectives</p>
<section id="id12">
<h6 aria-level="7">Author<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id13">
<h6 aria-level="7">Description<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<p>Objective functions for thermal unit-commitment (UC) models in Pyomo.</p>
</section>
<section id="id14">
<h6 aria-level="7">Usage<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Call <em>set_objective_thermo_miqp(m)</em> for the quadratic-cost UC model.
Both functions attach a Pyomo <em>Objective</em> set for minimization.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensure unit consistency for costs (e.g., $/h vs $/MWh) and for power/energy.</p></li>
<li><p>The functions assume that all referenced sets, variables and parameters
have been previously added to the model.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalObjectives.set_objective_thermo">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalObjectives.</span></span><span class="sig-name descname"><span class="pre">set_objective_thermo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalObjectives.set_objective_thermo" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define the medium-term thermal objective.</p>
<p>Minimizes the total operating cost over the planning horizon, composed of:
- Linear thermal generation cost: Cg[g] * G[g,t]
- Deficit penalty: Cdef * Def[t]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ <p>Pyomo model with:</p>
<ul class="simple">
<li><p>Sets: m.TG (thermal units), m.T (stages)</p></li>
<li><dl class="simple">
<dt>Variables:</dt><dd><p>m.thermal_G[g,t] (MW), m.Def[t] (MW)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Parameters:</dt><dd><p>m.thermal_C[g] (US$/MWh), m.Cdef (deficit penalty)</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Model with objective m.OBJ set to minimize total cost.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">set_objective_decomp</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">OBJ</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.ThermalGenerator.ThermalVars">
<span id="naivepydecomp-thermalgenerator-thermalvars-module"></span><h6>NaivePyDECOMP.ThermalGenerator.ThermalVars module<a class="headerlink" href="#module-NaivePyDECOMP.ThermalGenerator.ThermalVars" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Thermal Unit Commitment â€” Sets, Parameters and Variables</p>
<section id="id15">
<h6 aria-level="7">Author<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id16">
<h6 aria-level="7">Description<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<p>This module provides the Pyomo set/parameter declarations and variable
definitions for thermal unit commitment (UC) models. It is intended to
be combined with constraint and objective builder modules.</p>
</section>
<section id="features">
<h6 aria-level="7">Features<a class="headerlink" href="#features" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Time horizon (T) and thermal unit set (G)</p></li>
<li><p>Demand profile d[t] and deficit penalty Cdef</p></li>
<li><dl class="simple">
<dt>Unit-level parameters:</dt><dd><ul>
<li><p>Pmin, Pmax  : capacity bounds</p></li>
<li><p>RU, RD      : ramp-up / ramp-down limits</p></li>
<li><p>a, b, c     : cost coefficients for MIQP (a * u + b * p + c * pÂ²)</p></li>
<li><p>SC          : start-up (hot) cost</p></li>
<li><p>t_up, t_dn  : minimum up/down times</p></li>
<li><p>u0, p0      : initial commitment state and output</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Optional system-wide parameters:</dt><dd><ul>
<li><p>Rreq[t]     : spinning reserve requirement</p></li>
<li><p>gamma[g]    : emissions factor</p></li>
<li><p>CO2Cap      : global emission/fuel cap</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Optional piecewise data:</dt><dd><ul>
<li><p>pw_breaks[g], pw_costs[g] : piecewise linear cost curve points</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="variables">
<h6 aria-level="7">Variables<a class="headerlink" href="#variables" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>p[g,t] : generation (MW)</p></li>
<li><p>D[t]   : deficit (MW)</p></li>
<li><p>r[g,t] : reserve (MW, optional)</p></li>
<li><p>Cvar[g,t] : variable cost in PWL formulations (optional)</p></li>
<li><p>u[g,t] : on/off state (binary)</p></li>
<li><p>y[g,t] : start-up indicator (binary)</p></li>
<li><p>w[g,t] : shut-down indicator (binary)</p></li>
</ul>
</section>
<section id="id17">
<h6 aria-level="7">Usage<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h6>
<p>Call <em>thermal_add_sets_and_params(m, data)</em> to populate a Pyomo model with
sets and parameters from a ThermalData object.</p>
<p>Call <em>thermal_add_variables_uc(m, include_reserve=True/False, use_pwl=True/False)</em>
to attach decision variables for UC formulations (MIQP or MILP-PWL).</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalVars.thermal_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalVars.</span></span><span class="sig-name descname"><span class="pre">thermal_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><span class="pre">ThermalData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalVars.thermal_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initializes sets and parameters for the thermal Unit Commitment (UC) model.</p>
<p>This function maps unit-level data (technical parameters, costs,
initial conditions, optional reserve and emissions information,
and piecewise cost segments) into Pyomo sets and parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to be enriched with sets and parameters.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData" title="NaivePyDECOMP.ThermalGenerator.ThermalDataTypes.ThermalData"><em>ThermalData</em></a>) â€“ <p>Data container with attributes:</p>
<ul>
<li><p>horizon : int</p>
<blockquote>
<div><p>Number of time periods.</p>
</div></blockquote>
</li>
<li><p>demand : dict</p>
<blockquote>
<div><p>Demand profile indexed by time.</p>
</div></blockquote>
</li>
<li><p>Cdef : float</p>
<blockquote>
<div><p>Cost of deficit ($/MWh).</p>
</div></blockquote>
</li>
<li><p>units : dict</p>
<blockquote>
<div><p>Dictionary keyed by unit id, each with attributes
Pmin, Pmax, RU, RD, a, b, c, SC, t_up, t_down, u0, p0,
gamma (optional), pw_breaks (optional), pw_costs (optional).</p>
</div></blockquote>
</li>
<li><p>Rreq : dict, optional</p>
<blockquote>
<div><p>Reserve requirement per period.</p>
</div></blockquote>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated model with sets <strong>m.T, m.TG</strong> and all unit/system parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">thermal_add_sets_and_params</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">TG</span><span class="p">)</span>
<span class="go">[&#39;UT1&#39;, &#39;UT2&#39;, &#39;UT3&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">500.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ThermalGenerator.ThermalVars.thermal_add_variables_uc">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ThermalGenerator.ThermalVars.</span></span><span class="sig-name descname"><span class="pre">thermal_add_variables_uc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.ThermalGenerator.ThermalVars.thermal_add_variables_uc" title="Link to this definition">ïƒ</a></dt>
<dd><p>Declares decision variables for the thermal Unit Commitment (UC) model.</p>
<p>Variables include continuous generation and deficit levels,
binary commitment/start/stop indicators, and optionally,
reserve and piecewise cost variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Model where variables will be added.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>The updated model with added decision variables:
- Continuous:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>m.p[g, t]</strong> : generation [MW].</p></li>
<li><p><strong>m.D[t]</strong> : deficit [MW].</p></li>
<li><p><strong>m.r[g, t]</strong> : reserve [MW], optional.</p></li>
<li><p><strong>m.Cvar[g, t]</strong> : piecewise cost variable, optional.</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Binary:</p>
<ul>
<li><p><strong>m.u[g, t]</strong> : commitment (on/off).</p></li>
<li><p><strong>m.y[g, t]</strong> : startup indicator.</p></li>
<li><p><strong>m.w[g, t]</strong> : shutdown indicator.</p></li>
</ul>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">thermal_add_sets_and_params</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">thermal_add_variables_uc</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">include_reserve</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_pwl</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;UT1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
<span class="go">Variable p[UT1,1]</span>
<span class="go">Domain: NonNegativeReals</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p><strong>Reserve modeling (**include_reserve=True</strong>)**</p>
<ul class="simple">
<li><p><strong>Advantages</strong>: Captures spinning reserve obligations; ensures reliability
under contingencies; critical for adequacy/security studies.</p></li>
<li><p><strong>Trade-offs</strong>: Increases model size with additional variables
<strong>m.r[g, t]</strong> and constraints; may slow down MILP/MIQP solution.</p></li>
<li><p><strong>Guidance</strong>: Use if reserve margins are central to the study; omit in
purely economic dispatch tests for simplicity.</p></li>
</ul>
<p><strong>Piecewise costs (**use_pwl=True</strong>)**4</p>
<ul class="simple">
<li><p><strong>Advantages</strong>: Converts quadratic costs to MILP form; exploits strong
LP relaxations; often faster and more scalable on large systems.</p></li>
<li><p><strong>Trade-offs</strong>: Approximation error unless sufficient breakpoints are
used; adds SOS2 or convex-combination variables, increasing model size.</p></li>
<li><p><strong>Guidance</strong>: Use when quadratic costs cannot be handled efficiently
by the chosen solver, or when MILP-only solvers are required.</p></li>
</ul>
</dd></dl>

</section>
</section>
<span id="document-NaivePyDECOMP.cli"></span><section id="naivepydecomp-cli-package">
<h5>NaivePyDECOMP.cli package<a class="headerlink" href="#naivepydecomp-cli-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-NaivePyDECOMP.cli">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-NaivePyDECOMP.cli" title="Link to this heading">ïƒ</a></h6>
<section id="naivepydecomp-cli-subpackage">
<h6 aria-level="7">NaivePyDECOMP â€“ CLI Subpackage<a class="headerlink" href="#naivepydecomp-cli-subpackage" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="author">
<h6 aria-level="8">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="8">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>This subpackage contains the command-line interface (CLI) utilities for
the <strong>NaivePyDECOMP</strong> project. It enables interactive and scripted execution
of core workflows such as solving dispatch models and visualizing results,
without requiring direct code interaction.</p>
</section>
<section id="modules">
<h6 aria-level="8">Modules<a class="headerlink" href="#modules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>cli.py</dt><dd><p>Solver CLI entry point. Loads a YAML case file, builds and solves the model,
and exports dispatch results to a spreadsheet.</p>
</dd>
<dt>plot_cli.py</dt><dd><p>Interactive and scriptable plotting/export interface. Allows users to load
dispatch data from files, select categories, and export LaTeX tables or
visual plots (bar or line).</p>
</dd>
</dl>
</section>
<section id="features">
<h6 aria-level="8">Features<a class="headerlink" href="#features" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Modular CLI design for pedagogical workflows.</p></li>
<li><p>Integration with Colorama for enhanced terminal output.</p></li>
<li><p>Supports interactive prompts and fully scriptable modes.</p></li>
<li><p>Compatible with <em>.csv</em>, <em>.xlsx</em>, and <em>.parquet</em> formats.</p></li>
<li><p>Export options include LaTeX tables (with styling) and high-quality plots.</p></li>
</ul>
</section>
<section id="example-usage">
<h6 aria-level="8">Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading">ïƒ</a></h6>
<p>Solve a dispatch case and export results to CSV:</p>
<blockquote>
<div><p>$ python -m NaivePyDECOMP.CLI.cli_solve case.yaml â€“out_dir results â€“out_file output.csv</p>
</div></blockquote>
<p>Export selected results as LaTeX table and plots:</p>
<blockquote>
<div><p>$ python -m NaivePyDECOMP.CLI.cli_plot results/output.csv â€“mode table -c G Q V â€“out_dir latex â€“out_file table.tex</p>
</div></blockquote>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The CLI scripts are intended for instructional use in energy systems modeling.</p></li>
<li><p>Users can extend or modify CLI logic to accommodate other workflows or backends.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#NaivePyDECOMP.Solver.solve" title="NaivePyDECOMP.Solver.solve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDECOMP.Solver.solve</span></code></a></dt><dd><p>Model construction and solving routine.</p>
</dd>
<dt><a class="reference internal" href="#module-NaivePyDECOMP.DataFrames" title="NaivePyDECOMP.DataFrames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDECOMP.DataFrames</span></code></a></dt><dd><p>Functions for assembling dispatch outputs.</p>
</dd>
<dt><a class="reference internal" href="#module-NaivePyDECOMP.Utils" title="NaivePyDECOMP.Utils"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDECOMP.Utils</span></code></a></dt><dd><p>Formatting, LaTeX, and input helpers.</p>
</dd>
</dl>
</div>
</section>
</section>
</section>
<section id="submodules">
<h6>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-NaivePyDECOMP.cli.cli">
<span id="naivepydecomp-cli-cli-module"></span><h6>NaivePyDECOMP.cli.cli module<a class="headerlink" href="#module-NaivePyDECOMP.cli.cli" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Solver cli for NaivePyDECOMP framework</p>
<section id="id1">
<h6 aria-level="7">Author<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id2">
<h6 aria-level="7">Description<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>This script provides a command-line interface (CLI) for solving power system
dispatch problems using the NaivePyDECOMP framework. It loads a structured
YAML configuration file containing the model horizon, demand, and definitions
of thermal, hydro, renewable, and storage units.</p>
<p>Once the Pyomo model is built and solved via the specified solver (e.g., GLPK,
CBC, MindtPy), the resulting dispatch decisions are exported to a tabular
DataFrame and saved to disk in a user-defined format (CSV, Excel, or Parquet).</p>
</section>
<section id="id3">
<h6 aria-level="7">Features<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Model construction and solver execution based on <em>NaivePyDECOMP.Solver</em></p></li>
<li><p>Tabular export using <em>NaivePyDECOMP.DataFrames.build_dispatch_dataframe</em></p></li>
<li><p>Interactive or scriptable invocation</p></li>
<li><p>Colorized console output via <em>colorama</em> for enhanced readability</p></li>
</ul>
</section>
<section id="dependencies">
<h6 aria-level="7">Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>argparse</p></li>
<li><p>os</p></li>
<li><p>pandas</p></li>
<li><p>colorama</p></li>
<li><p>pyomo.environ</p></li>
<li><p>NaivePyDECOMP.Solver</p></li>
<li><p>NaivePyDECOMP.DataFrames</p></li>
</ul>
</section>
<section id="usage">
<h6 aria-level="7">Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h6>
<p>$ python cli.py case.yaml â€“out_dir results â€“out_file dispatch.xlsx</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.cli.main">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.cli.main" title="Link to this definition">ïƒ</a></dt>
<dd><p>Command-line interface for solving and exporting dispatch results.</p>
<p>This function serves as the main entry point for the NaivePyDECOMP solver CLI.
It loads an input YAML file describing a power system dispatch problem, builds
and solves the corresponding Pyomo model, and exports the resulting dispatch
data to a structured file format (CSV, Excel, or Parquet).</p>
<p>The output includes generation, storage, and control decisions across all time
steps, organized into a tabular format suitable for post-processing or plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function performs file I/O and prints summary information to the console.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The input YAML file must include sections for at least one of: hydro, thermal,
renewable, or storage units, along with metadata and demand series.</p></li>
<li><p>The output DataFrame is rounded to zero for absolute values below 1e-3 for clarity.</p></li>
<li><p>Supported file extensions: <em>.csv</em>, <em>.xlsx</em>, <em>.xls</em>, <em>.parquet</em>.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>$ python cli.py case.yaml â€“out_dir results â€“out_file dispatch.xlsx</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.cli.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.cli.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.cli.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.cli.save_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.cli.</span></span><span class="sig-name descname"><span class="pre">save_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.cli.save_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Save a DataFrame to disk in the format specified by the file extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to be saved.</p></li>
<li><p><strong>path</strong> (<em>str</em>) â€“ The output file path (must end with .csv, .xlsx, or .parquet).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the file extension is not supported.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.cli.pddd_cli">
<span id="naivepydecomp-cli-pddd-cli-module"></span><h6>NaivePyDECOMP.cli.pddd_cli module<a class="headerlink" href="#module-NaivePyDECOMP.cli.pddd_cli" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Solver cli for NaivePyDECOMP PDDD framework</p>
<section id="id4">
<h6 aria-level="7">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="7">Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This script provides a command-line interface (CLI) for solving power system
dispatch problems using the NaivePyDECOMP framework. It loads a structured
YAML configuration file containing the model horizon, demand, and definitions
of thermal, hydro, renewable, and storage units.</p>
<p>Once the Pyomo model is built and solved via the specified solver (e.g., GLPK,
CBC, MindtPy), the resulting dispatch decisions are exported to a tabular
DataFrame and saved to disk in a user-defined format (CSV, Excel, or Parquet).</p>
</section>
<section id="id6">
<h6 aria-level="7">Features<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Model construction and solver execution based on <em>NaivePyDECOMP.Solver</em></p></li>
<li><p>Tabular export using <em>NaivePyDECOMP.DataFrames.build_dispatch_dataframe</em></p></li>
<li><p>Interactive or scriptable invocation</p></li>
<li><p>Colorized console output via <em>colorama</em> for enhanced readability</p></li>
</ul>
</section>
<section id="id7">
<h6 aria-level="7">Dependencies<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>argparse</p></li>
<li><p>os</p></li>
<li><p>pandas</p></li>
<li><p>colorama</p></li>
<li><p>pyomo.environ</p></li>
<li><p>NaivePyDECOMP.Solver</p></li>
<li><p>NaivePyDECOMP.DataFrames</p></li>
</ul>
</section>
<section id="id8">
<h6 aria-level="7">Usage<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>$ python cli.py case.yaml â€“out_dir results â€“out_file dispatch.xlsx</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.pddd_cli.main">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.pddd_cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.pddd_cli.main" title="Link to this definition">ïƒ</a></dt>
<dd><p>Command-line interface for solving and exporting dispatch results.</p>
<p>This function serves as the main entry point for the NaivePyDECOMP solver CLI.
It loads an input YAML file describing a power system dispatch problem, builds
and solves the corresponding Pyomo model, and exports the resulting dispatch
data to a structured file format (CSV, Excel, or Parquet).</p>
<p>The output includes generation, storage, and control decisions across all time
steps, organized into a tabular format suitable for post-processing or plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function performs file I/O and prints summary information to the console.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The input YAML file must include sections for at least one of: hydro, thermal,
renewable, or storage units, along with metadata and demand series.</p></li>
<li><p>The output DataFrame is rounded to zero for absolute values below 1e-3 for clarity.</p></li>
<li><p>Supported file extensions: <em>.csv</em>, <em>.xlsx</em>, <em>.xls</em>, <em>.parquet</em>.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>$ python cli.py case.yaml â€“out_dir results â€“out_file dispatch.xlsx</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.pddd_cli.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.pddd_cli.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.pddd_cli.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.pddd_cli.save_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.pddd_cli.</span></span><span class="sig-name descname"><span class="pre">save_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.pddd_cli.save_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Save a DataFrame to disk in the format specified by the file extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to be saved.</p></li>
<li><p><strong>path</strong> (<em>str</em>) â€“ The output file path (must end with .csv, .xlsx, or .parquet).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the file extension is not supported.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.cli.plot_cli">
<span id="naivepydecomp-cli-plot-cli-module"></span><h6>NaivePyDECOMP.cli.plot_cli module<a class="headerlink" href="#module-NaivePyDECOMP.cli.plot_cli" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: CLI â€” Visualization and Export Interface</p>
<section id="id9">
<h6 aria-level="7">Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h6 aria-level="7">Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>This module provides a command-line interface (CLI) for inspecting and exporting
the results of a solved NaivePyDECOMP dispatch model.</p>
<p>The CLI supports both interactive and non-interactive use, allowing users to:</p>
<ul class="simple">
<li><p>Export generation and control data as LaTeX tables.</p></li>
<li><p>Generate bar and line plots from selected result categories.</p></li>
<li><p>Save control variables (U, Y, W) as visually annotated LaTeX matrices.</p></li>
</ul>
</section>
<section id="id11">
<h6 aria-level="7">Features<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Supports CSV, Excel, and Parquet input formats.</p></li>
<li><p>Category-based selection of variables (e.g., G, Q, V, S, BAT, cost).</p></li>
<li><p>Automated LaTeX formatting and colored control tables.</p></li>
<li><p>Customizable plot styling, labeling, and output paths.</p></li>
</ul>
</section>
<section id="categories">
<h6 aria-level="7">Categories<a class="headerlink" href="#categories" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>â€˜Gâ€™     : Generation (thermal, renewable, battery)</p></li>
<li><p>â€˜Qâ€™     : Turbine flow [hydro]</p></li>
<li><p>â€˜Vâ€™     : Volume [hydro]</p></li>
<li><p>â€˜Sâ€™     : Spillage [hydro]</p></li>
<li><p>â€˜BATâ€™   : Battery-specific (charge/discharge/SoC)</p></li>
<li><p>â€˜costâ€™  : Cost components per stage (var, start, deficit)</p></li>
</ul>
</section>
<section id="id12">
<h6 aria-level="7">Dependencies<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>pandas</p></li>
<li><p>matplotlib</p></li>
<li><p>colorama</p></li>
<li><p>argparse</p></li>
<li><p>NaivePyDECOMP utilities: plotting, formatting, LaTeX export</p></li>
</ul>
</section>
<section id="id13">
<h6 aria-level="7">Usage<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>Run via command line:</dt><dd><p>$ python plot_cli.py results.csv â€“mode table â€“category G cost â€“out-dir tables</p>
</dd>
<dt>Or interactively:</dt><dd><p>$ python plot_cli.py results.parquet</p>
</dd>
</dl>
</section>
<section id="quick-examples">
<h6 aria-level="7">Quick examples<a class="headerlink" href="#quick-examples" title="Link to this heading">ïƒ</a></h6>
<p># 1) Non-interactive: stacked bar plot for Generation + Spillage
python plot_results_cli.py results/day1.parquet â€“mode plot â€“category G S â€“plot-style bar â€“stacked â€“title â€œGeneration &amp; Spillageâ€ â€“ylabel MW â€“out-dir plots â€“out-file gen_spill.png</p>
<p># 2) Non-interactive: LaTeX table for Volume and Costs
python plot_results_cli.py results/day1.csv â€“mode table â€“category V cost â€“title â€œReservoir Volume and Cost Variablesâ€ â€“label tab:vol_cost â€“out-dir tables â€“out-file vol_cost.tex</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.handle_plot">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.handle_plot" title="Link to this definition">ïƒ</a></dt>
<dd><p>Generate and export plots for selected variable categories.</p>
<p>Supports both line and bar charts, including stacked bar plots. If not
fully specified via arguments, the function prompts the user for relevant
plot metadata and output settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ DataFrame containing simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ List of category identifiers to include in the plot.</p></li>
<li><p><strong>plot_style</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Plot type (â€œlineâ€ or â€œbarâ€). Prompted if not provided.</p></li>
<li><p><strong>stacked</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to stack bars (applies only to bar plots).</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Title of the plot. Prompted if not provided.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Label for the Y-axis. Prompted if not provided.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Directory to save the plot. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ File name for the saved image. Prompted if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Saves the plot to disk and prints the file location.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.handle_table">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.handle_table" title="Link to this definition">ïƒ</a></dt>
<dd><p>Export selected variables as a LaTeX table.</p>
<p>Filters the DataFrame based on one or more variable categories, formats it into
LaTeX using custom styling, and saves the result to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ DataFrame with simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ One or more category identifiers to include.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output directory path. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output .tex file name. Prompted if not provided.</p></li>
<li><p><strong>caption</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ Caption for the LaTeX table.</p></li>
<li><p><strong>label</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ LaTeX label for the table.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Writes the LaTeX table to the specified file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.load_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">load_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.load_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Load a pandas DataFrame from a supported file format.</p>
<p>Supports CSV, Excel (.xlsx, .xls), and Parquet formats. The file extension is used
to determine the appropriate loader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Full path to the data file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the file format is not supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.main">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.main" title="Link to this definition">ïƒ</a></dt>
<dd><p>Command-line interface (CLI) entry point for visualization and export.</p>
<p>This function enables both interactive and scripted execution modes for exporting
results from NaivePyDECOMP simulations. It supports the generation of:</p>
<ul class="simple">
<li><p>LaTeX tables for generation, flow, spillage, storage, cost, and control variables.</p></li>
<li><p>Binary control matrix tables with color-coded LaTeX formatting (U/Y/W).</p></li>
<li><p>Time-series plots (line or bar, stacked or grouped) for selected variable categories.</p></li>
</ul>
<p>The CLI can be invoked directly via command line with arguments, or interactively
with user prompts when arguments are omitted.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Results are saved to disk in the specified format. No value is returned.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Command-line usage:</p>
<blockquote>
<div><p>$ python plot_cli.py results.csv â€“mode table -c G cost â€“out-dir out â€“out-file results.tex</p>
</div></blockquote>
<p>Interactive usage:</p>
<blockquote>
<div><p>$ python plot_cli.py results.csv
&gt; Generate table, plot, or CTRL matrix? (table/plot/ctrl)
&gt; Enter category(ies) separated by spaces (e.g., G S V):
&gt; â€¦</p>
</div></blockquote>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Categories are case-insensitive. Recognized categories include:
â€œGâ€, â€œQâ€, â€œSâ€, â€œVâ€, â€œBATâ€, â€œcostâ€, â€œCTRLâ€.</p></li>
<li><p>For LaTeX export, output directory and file name are required.</p></li>
<li><p>For plotting, time column â€˜Tâ€™ is used if available; otherwise, index is used.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.prompt">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">prompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.prompt" title="Link to this definition">ïƒ</a></dt>
<dd><p>Prompt the user for input with a highlighted message.</p>
<p>If the message ends with â€œ[optional]â€, the user may press Enter to return an empty string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>str</em>) â€“ The message displayed to the user.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user response, stripped of leading and trailing whitespace.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.select_columns_multi">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">select_columns_multi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.select_columns_multi" title="Link to this definition">ïƒ</a></dt>
<dd><p>Filter and concatenate DataFrame columns across multiple categories.</p>
<p>Avoids column duplication by tracking previously added columns. Used to
assemble a view of variables spanning multiple categories (e.g., flow and volume).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The input DataFrame containing simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ List of category identifiers (e.g., [â€œGâ€, â€œSâ€, â€œVâ€, â€œcostâ€]).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame composed of all selected columns, in order of appearance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If no categories are provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.cli.plot_cli.select_variable_columns">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">select_variable_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDECOMP.cli.plot_cli.select_variable_columns" title="Link to this definition">ïƒ</a></dt>
<dd><p>Filter DataFrame columns based on a single category.</p>
<p>The function selects columns corresponding to predefined variable categories
such as generation, flow, storage, control actions, and cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The input DataFrame containing simulation results.</p></li>
<li><p><strong>category</strong> (<em>str</em>) â€“ One of: {â€œGâ€, â€œQâ€, â€œSâ€, â€œVâ€, â€œBATâ€, â€œcostâ€, â€œCTRLâ€}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A filtered view of the DataFrame containing only relevant columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the category is unrecognized.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</div>
</section>
<section id="id1">
<h4>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h4>
</section>
<section id="module-NaivePyDECOMP.Builder">
<span id="naivepydecomp-builder-module"></span><h4>NaivePyDECOMP.Builder module<a class="headerlink" href="#module-NaivePyDECOMP.Builder" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Model Builder from YAML Configuration</p>
<section id="id2">
<h5>Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h5>Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a unified interface for constructing a Pyomo-based
economical dispatch model from structured YAML or JSON input files.
It supports integration of multiple subsystems, including:</p>
<ul class="simple">
<li><p>Hydraulic generation units (UHEs)</p></li>
<li><p>Thermal generation units (UTs)</p></li>
<li><p>Renewable generators</p></li>
<li><p>Storage systems (batteries or reservoirs)</p></li>
<li><p>Deficit penalty model</p></li>
</ul>
<p>The model construction includes:</p>
<ul class="simple">
<li><p>Validation of structural consistency in input data.</p></li>
<li><p>Object-oriented dataclass translation of YAML structures.</p></li>
<li><p>Modular assembly of each subsystemâ€™s variables and constraints.</p></li>
<li><p>Construction of system-wide power balance constraint.</p></li>
<li><p>Cost-based objective function including startup, generation, and deficit costs.</p></li>
</ul>
</section>
<section id="usage">
<h5>Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h5>
<p>Use <cite>build_model_from_file(path)</cite> as the main entry point.</p>
<p>Ensure the YAML file has at least a <cite>meta</cite> section and one
of the technology sections: <cite>hydro</cite>, <cite>thermal</cite>, <cite>renewable</cite>, or <cite>storage</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Pyomo ConcreteModel ready for optimization.</p></li>
<li><p>Parsed dictionary representing the structured case.</p></li>
</ul>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[ConcreteModel, dict]</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Builder.build_balance_and_objective_from_yaml">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Builder.</span></span><span class="sig-name descname"><span class="pre">build_balance_and_objective_from_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.Builder.build_balance_and_objective_from_yaml" title="Link to this definition">ïƒ</a></dt>
<dd><p>Construct the system-wide power balance constraint and total cost objective.</p>
<p>This function scans the parsed YAML content to determine which technologies
(thermal, hydro, storage, renewable) are present, and invokes their respective
expression builders to construct:</p>
<ul class="simple">
<li><p>model.Balance: a time-indexed Constraint for supply-demand balance</p></li>
<li><p>model.OBJ: an Objective for cost minimization</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model with required sets and variables already declared.</p></li>
<li><p><strong>yaml_data</strong> (<em>dict</em>) â€“ Parsed YAML dictionary with subsections for each technology.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The input model with balance constraints and objective function added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Builder.build_model_from_data">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Builder.</span></span><span class="sig-name descname"><span class="pre">build_model_from_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDECOMP.Builder.build_model_from_data" title="Link to this definition">ïƒ</a></dt>
<dd><p>build subsystem models from data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>root</strong> (<em>str</em>) â€“ system description.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple with the builded model and the parsed case file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[pyomo.environ.ConcreteModel, Dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ On structural or validation errors in the input file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Builder.build_model_from_file">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Builder.</span></span><span class="sig-name descname"><span class="pre">build_model_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDECOMP.Builder.build_model_from_file" title="Link to this definition">ïƒ</a></dt>
<dd><p>Load master data from YAML/JSON and build subsystem models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Path to a YAML file with sections: meta, demand, and one or
more of {hydro, thermal, renewable, storage}.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple with the builded model and the parsed case file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[pyomo.environ.ConcreteModel, Dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ On structural or validation errors in the input file.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.BuilderPDDD">
<span id="naivepydecomp-builderpddd-module"></span><h4>NaivePyDECOMP.BuilderPDDD module<a class="headerlink" href="#module-NaivePyDECOMP.BuilderPDDD" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Model Builder from YAML Configuration</p>
<section id="id4">
<h5>Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h5>Description<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a unified interface for constructing a Pyomo-based
economical dispatch model from structured YAML or JSON input files.
It supports integration of multiple subsystems, including:</p>
<ul class="simple">
<li><p>Hydraulic generation units (UHEs)</p></li>
<li><p>Thermal generation units (UTs)</p></li>
<li><p>Renewable generators</p></li>
<li><p>Storage systems (batteries or reservoirs)</p></li>
<li><p>Deficit penalty model</p></li>
</ul>
<p>The model construction includes:</p>
<ul class="simple">
<li><p>Validation of structural consistency in input data.</p></li>
<li><p>Object-oriented dataclass translation of YAML structures.</p></li>
<li><p>Modular assembly of each subsystemâ€™s variables and constraints.</p></li>
<li><p>Construction of system-wide power balance constraint.</p></li>
<li><p>Cost-based objective function including startup, generation, and deficit costs.</p></li>
</ul>
</section>
<section id="id6">
<h5>Usage<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h5>
<p>Use <cite>build_model_from_file(path)</cite> as the main entry point.</p>
<p>Ensure the YAML file has at least a <cite>meta</cite> section and one
of the technology sections: <cite>hydro</cite>, <cite>thermal</cite>, <cite>renewable</cite>, or <cite>storage</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Pyomo ConcreteModel ready for optimization.</p></li>
<li><p>Parsed dictionary representing the structured case.</p></li>
</ul>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[ConcreteModel, dict]</p>
</dd>
</dl>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.BuilderPDDD.build_pddd_balance_and_objective_from_yaml">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.BuilderPDDD.</span></span><span class="sig-name descname"><span class="pre">build_pddd_balance_and_objective_from_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaml_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cuts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.BuilderPDDD.build_pddd_balance_and_objective_from_yaml" title="Link to this definition">ïƒ</a></dt>
<dd><p>Construct the system-wide power balance constraint and total cost objective
along with the model itself.</p>
<p>This function scans the parsed YAML content to determine which technologies
(thermal, hydro, storage, renewable) are present, and invokes their respective
expression builders to construct:</p>
<ul class="simple">
<li><p>PDDD Model</p></li>
<li><p>model.Balance: a time-indexed Constraint for supply-demand balance</p></li>
<li><p>model.OBJ: an Objective for cost minimization</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yaml_data</strong> (<em>dict</em>) â€“ Parsed YAML dictionary with subsections for each technology.</p></li>
<li><p><strong>stage</strong> (<em>int</em>) â€“ PDDD Stage</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The input model with balance constraints and objective function added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.BuilderPDDD.build_pddd_data_from_file">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.BuilderPDDD.</span></span><span class="sig-name descname"><span class="pre">build_pddd_data_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#NaivePyDECOMP.BuilderPDDD.build_pddd_data_from_file" title="Link to this definition">ïƒ</a></dt>
<dd><p>Load master data from YAML/JSON and build subsystem models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Path to a YAML file with sections: meta, demand, and one or
more of {hydro, thermal, renewable, storage}.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the parsed case file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ On structural or validation errors in the input file.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.DataFrames">
<span id="naivepydecomp-dataframes-module"></span><h4>NaivePyDECOMP.DataFrames module<a class="headerlink" href="#module-NaivePyDECOMP.DataFrames" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Build Dispatch DataFrame from Pyomo Model Results</p>
<section id="id7">
<h5>Author<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id8">
<h5>Description<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h5>
<p>This utility extracts time series of dispatch decisions from a solved
Pyomo model and compiles them into a structured pandas DataFrame. It
supports hydropower, thermal generation, renewable sources, and storage
systems. The output can be used for reporting, visualization, or export
to CSV.</p>
<p>Main components extracted:
- Hydropower: turbined flow, storage volume, generation, spillage.
- Thermal: power output, on/off status, startup/shutdown, reserves.
- Renewable: available generation by unit.
- Storage: charge/discharge power, net injection, state of charge.
- System-wide: demand, deficit, cost components (variable, startup, deficit).</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.DataFrames.add_cost_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_cost_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDECOMP.DataFrames.add_cost_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append cost components, demand/deficit, total generation,
and marginal cost (CMO) to the DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which cost components will be appended.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance with thermal, hydro, and balance constraints.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including cost components, energy balance data,
and marginal cost of operation (CMO).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.DataFrames.add_hydro_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_hydro_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDECOMP.DataFrames.add_hydro_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append hydropower dispatch results to a pandas DataFrame.</p>
<p>This function extracts the turbined flow, storage volume, hydropower
generation, and spillage from a Pyomo model and appends them to the
given DataFrame, one column per unit and variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended. It may be empty.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing hydropower variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including hydropower dispatch results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.DataFrames.add_thermal_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_thermal_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDECOMP.DataFrames.add_thermal_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append thermal dispatch results to a pandas DataFrame.</p>
<p>This function extracts generation, commitment (on/off), startup, shutdown,
and reserve values from the Pyomo model and appends them to the given
DataFrame. Optional variables such as reserve (<cite>r</cite>), startup (<cite>y</cite>), and
shutdown (<cite>w</cite>) are included if present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended. It may be empty.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing thermal generation variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including thermal dispatch results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.DataFrames.build_dispatch_dataframe">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.DataFrames.</span></span><span class="sig-name descname"><span class="pre">build_dispatch_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#NaivePyDECOMP.DataFrames.build_dispatch_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build a full dispatch DataFrame with generation, cost, and balance data.</p>
<p>This function aggregates the dispatch results from all subsystems
(hydropower, thermal, renewable, storage) along with cost components
into a single structured pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing subsystem variables and time horizon.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with all relevant dispatch results and economic metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.Formatters">
<span id="naivepydecomp-formatters-module"></span><h4>NaivePyDECOMP.Formatters module<a class="headerlink" href="#module-NaivePyDECOMP.Formatters" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Format Numbers in Brazilian Currency Style</p>
<section id="id9">
<h5>Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h5>Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a helper function to format numerical values in the
Brazilian currency style: periods as thousand separators and commas for
decimals (e.g., 1234567.89 â†’ â€˜1.234.567,89â€™).</p>
<p>It is intended for producing human-readable cost reports or summaries in
energy dispatch problems solved by NaivePyDECOMP.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mf">1234567.89</span><span class="p">)</span>
<span class="go">&#39;1.234.567,89&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mf">42.5</span><span class="p">)</span>
<span class="go">&#39;42,50&#39;</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.ModelCheck">
<span id="naivepydecomp-modelcheck-module"></span><h4>NaivePyDECOMP.ModelCheck module<a class="headerlink" href="#module-NaivePyDECOMP.ModelCheck" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Model Component Validators</p>
<section id="id11">
<h5>Author<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id12">
<h5>Description<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a set of utility functions to verify whether a given Pyomo
<cite>ConcreteModel</cite> contains the essential variables, parameters, and sets required
for each subsystem in an energy dispatch problem.</p>
<p>The validation is modular and lightweight, designed to support the dynamic
assembly of hybrid dispatch models comprising:
- Hydropower units
- Thermal generation units
- Renewable generation sources
- Energy storage systems</p>
<p>These functions are typically used to determine the feasibility of operations
such as cost extraction, result formatting, or diagnostics on a per-subsystem basis.</p>
</section>
<section id="functions">
<h5>Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h5>
<ul class="simple">
<li><p>has_hydro_model(model): Checks presence of hydropower-related variables.</p></li>
<li><p>has_thermal_model(model): Checks presence of thermal generation variables.</p></li>
<li><p>has_renewable_model(model): Checks presence of renewable generation variables.</p></li>
<li><p>has_storage_model(model): Checks presence of storage system variables.</p></li>
</ul>
</section>
<section id="usage-example">
<h5>Usage Example<a class="headerlink" href="#usage-example" title="Link to this heading">ïƒ</a></h5>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">has_thermal_model</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Thermal model components detected.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ModelCheck.has_thermal_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ModelCheck.</span></span><span class="sig-name descname"><span class="pre">has_thermal_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ModelCheck.has_thermal_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Check whether the given Pyomo model contains all components of a thermal subsystem.</p>
<p>This function validates the existence of typical thermal dispatch variables,
including generation, commitment status, and startup/shutdown indicators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all required thermal components are present, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The required attributes are:
- T             : Time periods.
- TG            : Set of thermal units.
- thermal_p     : Power generation variable.
- thermal_Cost    : Cost parameter.</p>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.ModelFormatters">
<span id="naivepydecomp-modelformatters-module"></span><h4>NaivePyDECOMP.ModelFormatters module<a class="headerlink" href="#module-NaivePyDECOMP.ModelFormatters" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Welcome Message and Model Summary Printer</p>
<section id="id13">
<h5>Author<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id14">
<h5>Description<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h5>
<p>This utility provides formatted, color-enhanced terminal output using the
<cite>colorama</cite> library to display a welcome banner, solver configuration,
and model characteristics. It is intended to improve the user experience
by offering clear diagnostics and summaries prior to model solving.</p>
<p>Features include:
- Welcome banner with project and author information.
- Display of solver name and strategy.
- Pretty-printed summary of subsystems included in the dispatch problem.
- Parameter visualization for hydraulic, thermal, renewable, and storage units.</p>
<p>Use this module as part of the pre-solve interface of NaivePyDECOMP to
provide clarity and visual feedback about the simulation setup.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ModelFormatters.format_hydro_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_hydro_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ModelFormatters.format_hydro_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each hydropower unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜hydroâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ModelFormatters.format_models">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ModelFormatters.format_models" title="Link to this definition">ïƒ</a></dt>
<dd><p>Dispatch model formatting routines to subsystem-specific formatters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Input data dictionary containing unit-level information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ModelFormatters.format_thermal_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_thermal_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ModelFormatters.format_thermal_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each thermal generation unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜thermalâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ModelFormatters.model_properties">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">model_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ModelFormatters.model_properties" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a concise list of subsystems included in the case (hydro, thermal, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Parsed input configuration containing subsystem definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ModelFormatters.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#NaivePyDECOMP.ModelFormatters.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.ModelFormatters.print_welcome_message">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">print_welcome_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.ModelFormatters.print_welcome_message" title="Link to this definition">ïƒ</a></dt>
<dd><p>Display the full welcome message and solver configuration.</p>
<p>This includes the banner, solver details, and an overview of
the model components based on the input dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance.</p></li>
<li><p><strong>case</strong> (<em>dict</em>) â€“ Configuration dictionary loaded from YAML or JSON input.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.PlotSeries">
<span id="naivepydecomp-plotseries-module"></span><h4>NaivePyDECOMP.PlotSeries module<a class="headerlink" href="#module-NaivePyDECOMP.PlotSeries" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Plotting Utilities for Time Series in Power System Studies</p>
<section id="id15">
<h5>Author<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id16">
<h5>Description<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h5>
<p>This module provides high-level plotting routines to visualize time-indexed
variables commonly encountered in short-term operation and planning studies
of hydrothermal systems. It offers both line plots and bar plots, supporting
grouped or stacked styles.</p>
</section>
<section id="id17">
<h5>Functions<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>plot_series(t, series_dict, title, ylabel, file)</dt><dd><p>Plot one or more time series as line graphs, with LaTeX-compatible labels.</p>
</dd>
<dt>plot_series_bar(t, series_dict, title, ylabel, file, stacked=False, width=0.85)</dt><dd><p>Plot multiple time series as bar charts, either grouped or stacked, with
configurable bar width.</p>
</dd>
</dl>
</section>
<section id="conventions">
<h5>Conventions<a class="headerlink" href="#conventions" title="Link to this heading">ïƒ</a></h5>
<ul class="simple">
<li><p>The time axis is discrete, typically representing hourly stages
(e.g., t = 1, â€¦, 24).</p></li>
<li><p>Input series must be aligned with the time axis.</p></li>
<li><p>Labels provided in series_dict are rendered in math mode
to enable LaTeX-style notation in figures.</p></li>
<li><p>Output files are saved with 600 dpi resolution and tight bounding boxes.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Figures are generated using Matplotlib and saved to the given file path
(PNG, PDF, or other supported formats).</p></li>
<li><p>The functions are designed for clarity in academic and technical reports,
especially when documenting hydrothermal dispatch and unit-commitment results.</p></li>
<li><p>Grid lines, legends, and axis labels are automatically formatted for
readability.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Render a simple time series plot:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;U_</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">],</span> <span class="s2">&quot;U_</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">150</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Hydropower Generation&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">file</span><span class="o">=</span><span class="s2">&quot;generation.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Render a stacked bar plot:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Hydro&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">210</span><span class="p">],</span> <span class="s2">&quot;Thermal&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span> <span class="mi">290</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series_bar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Generation Mix&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">file</span><span class="o">=</span><span class="s2">&quot;mix.png&quot;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.PDDDMergeModels">
<span id="naivepydecomp-pdddmergemodels-module"></span><h4>NaivePyDECOMP.PDDDMergeModels module<a class="headerlink" href="#module-NaivePyDECOMP.PDDDMergeModels" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: PDDD Synthetic Model Generator</p>
<section id="id18">
<h5>Author<a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id19">
<h5>Description<a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h5>
<p>This utility provides tools to reconstruct a deterministic representation
of a multistage dual dynamic programming (PDDD) solution as a static Pyomo
model. It enables post-optimization analysis by aggregating decision
variables, dual prices, volumes, and cost structures from multiple stages
into a single structured object.</p>
</section>
<section id="main-functionality">
<h5>Main Functionality<a class="headerlink" href="#main-functionality" title="Link to this heading">ïƒ</a></h5>
<p>The primary function exposed by this package is:</p>
<ul class="simple">
<li><p><cite>generate_dummy_model(pddd_solution, yaml_data)</cite>: Constructs a
fully populated <cite>ConcreteModel</cite> that mirrors the original optimization
trajectory. It fixes all relevant decision variables and duals for each
unit (hydro, thermal, renewable, storage), and reassembles cost
expressions for reporting, visualization, and interpretation.</p></li>
</ul>
</section>
<section id="intended-use">
<h5>Intended Use<a class="headerlink" href="#intended-use" title="Link to this heading">ïƒ</a></h5>
<p>This package is not designed to perform optimization itself. Instead, it
serves as a post-processing tool for exporting or inspecting results from
a PDDD optimization workflow â€” for example, to be used in scenario analysis,
LaTeX export, sensitivity evaluation, or policy verification.</p>
</section>
<section id="dependencies">
<h5>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">ïƒ</a></h5>
<ul class="simple">
<li><p>Pyomo</p></li>
<li><p>A compatible solver (e.g., GLPK, CPLEX, IPOPT)</p></li>
<li><p>Auxiliary model-building functions such as:
- <cite>add_hydraulic_cost_expression</cite>
- <cite>add_thermal_cost_expression</cite>
- <cite>add_storage_cost_expression</cite>
- <cite>add_renewable_cost_expression</cite></p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">naivepydecomp.pddd</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_dummy_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">generate_dummy_model</span><span class="p">(</span><span class="n">pddd_solution</span><span class="p">,</span> <span class="n">yaml_data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">OBJ</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">solve_pddd</span></code></dt><dd><p>The iterative algorithm that produces the input data for <cite>generate_dummy_model</cite>.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">solve_stage_pddd</span></code></dt><dd><p>Solves a single stage of the PDDD problem and stores intermediate results.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.PDDDMergeModels.generate_dummy_model">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.PDDDMergeModels.</span></span><span class="sig-name descname"><span class="pre">generate_dummy_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pddd_solution</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#NaivePyDECOMP.PDDDMergeModels.generate_dummy_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Generates a synthetic Pyomo model representing the structure and results
of a full PDDD (Deterministic Dual Dynamic Programming) optimization process.</p>
<p>This function aggregates relevant decision variables and dual information
across all stages and stores them as fixed model components. It is useful
for analyzing and exporting the solution in a structured and interpretable
Pyomo <cite>ConcreteModel</cite>, without performing any further optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pddd_solution</strong> (<em>List</em>) â€“ List containing the results of each stage of the PDDD algorithm,
including model objects, decision variables, shadow prices, volumes,
and costs for each time stage.</p></li>
<li><p><strong>yaml_data</strong> (<em>dict</em>) â€“ Dictionary parsed from the YAML configuration file, containing system
metadata, unit definitions (hydro, thermal, renewable, storage), cost
parameters, and other structural data used during model construction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>model</strong> â€“ A fully populated Pyomo <cite>ConcreteModel</cite> object that encapsulates:
- Fixed decision variables from hydro, thermal, renewable, and storage units.
- Cost terms and expressions used in the original optimization.
- Final values of market price (CMO), deficit penalty, and alpha values.
- Sets for all units and time stages.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The returned model is not intended to be solved again, but rather to
serve as a reference for results visualization, report generation, or
post-analysis.</p></li>
<li><p>The cost components are reassembled using the same structure as in the
original model, using the <cite>add_*_cost_expression</cite> helper functions.</p></li>
<li><p>The model object stores one time step ahead (nstages + 1) for correct
alignment with stage-based formulations.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> â€“ If expected keys or values are missing from <cite>pddd_solution</cite> or <cite>yaml_data</cite>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">solve_pddd</span></code></dt><dd><p>Function that produces the input <cite>pddd_solution</cite> dictionary.</p>
</dd>
</dl>
</div>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.Reporting">
<span id="naivepydecomp-reporting-module"></span><h4>NaivePyDECOMP.Reporting module<a class="headerlink" href="#module-NaivePyDECOMP.Reporting" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Post-Solve Dispatch Summary and Cost Reports</p>
<section id="id20">
<h5>Author<a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id21">
<h5>Description<a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h5>
<p>This module contains functions to summarize dispatch results after solving
a Pyomo-based optimization problem. It prints total generation, cost breakdowns,
and unit-level summaries for hydropower, thermal, renewable, and storage technologies.</p>
<p>Features:
- Total cost, demand, deficit and thermal cost components.
- Per-unit dispatch summaries with color-enhanced output (via <cite>colorama</cite>).
- Compatible with modular NaivePyDECOMP subsystem architecture.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Reporting.dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Reporting.</span></span><span class="sig-name descname"><span class="pre">dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.Reporting.dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a complete dispatch and cost summary including:
- Total generation and demand.
- Deficit and its monetary cost.
- Thermal cost breakdown (start-up, generation).
- Overall total cost from the model objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Reporting.hydro_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Reporting.</span></span><span class="sig-name descname"><span class="pre">hydro_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.Reporting.hydro_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level hydropower generation summary in MWmed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with hydropower subsystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Reporting.renewable_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Reporting.</span></span><span class="sig-name descname"><span class="pre">renewable_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.Reporting.renewable_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level renewable generation summary in MWmed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with renewable subsystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Reporting.storage_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Reporting.</span></span><span class="sig-name descname"><span class="pre">storage_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.Reporting.storage_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level storage discharge summary in MWmed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with storage subsystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Reporting.thermal_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Reporting.</span></span><span class="sig-name descname"><span class="pre">thermal_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#NaivePyDECOMP.Reporting.thermal_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level thermal generation summary in MWmed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with thermal subsystem.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.SolverPDDD">
<span id="naivepydecomp-solverpddd-module"></span><h4>NaivePyDECOMP.SolverPDDD module<a class="headerlink" href="#module-NaivePyDECOMP.SolverPDDD" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Solve PDDD Pyomo Models from YAML Configuration</p>
<section id="id22">
<h5>Author<a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id23">
<h5>Description<a class="headerlink" href="#id23" title="Link to this heading">ïƒ</a></h5>
<p>This utility builds and solves a Pyomo optimization model using input
data provided in a YAML or JSON configuration file. The solver is selected
based on metadata, and can include support for decomposition strategies
(e.g., MIN-DT via MindtPy).</p>
<p>Features:
- Automatic model construction via modular subsystems (thermal, hydro, storage, renewable).
- Solver selection and configuration via YAML metadata.
- Support for MINLP solvers such as MindtPy with strategy and time limits.
- Termination condition validation to ensure feasibility or optimality.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.SolverPDDD.compute_fcf">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.SolverPDDD.</span></span><span class="sig-name descname"><span class="pre">compute_fcf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cuts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pddd_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#NaivePyDECOMP.SolverPDDD.compute_fcf" title="Link to this definition">ïƒ</a></dt>
<dd><p>Compute the Future Cost Function (FCF) values for all stages
in the PDDD framework, given a set of Benders cuts.</p>
<p>This function iterates over the memory of the PDDD algorithm,
extracting the storage volumes for each stage and evaluating
the corresponding FCF approximation using the provided cuts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cuts</strong> (<em>List</em><em>[</em><em>Dict</em><em>]</em>) â€“ <p>List of Benders cuts. Each cut must be a dictionary with:
{</p>
<blockquote>
<div><p>â€rhsâ€: float,                # adjusted intercept
â€œcoefsâ€: {unit: float}       # coefficients (subgradients)</p>
</div></blockquote>
<p>}</p>
</p></li>
<li><p><strong>pddd_memory</strong> (<em>List</em><em>[</em><em>Dict</em><em>]</em>) â€“ <p>List of stage-level information from the PDDD algorithm.
Each element must include the storage volumes in the key
â€˜f_volumeâ€™, e.g.:
{</p>
<blockquote>
<div><p>â€f_volumeâ€: {â€œUHE1â€: 50, â€œUHE2â€: 80, â€¦}</p>
</div></blockquote>
<p>}</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>Dictionary of FCF values for each stage, with keys in the
format â€œFCF_{t}â€ where t denotes the stage index (1-based).
Example:
{</p>
<blockquote>
<div><p>â€FCF_1â€: [â€¦],
â€œFCF_2â€: [â€¦],
â€¦</p>
</div></blockquote>
<p>}</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.SolverPDDD.fcf_from_cuts">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.SolverPDDD.</span></span><span class="sig-name descname"><span class="pre">fcf_from_cuts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cuts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">storage_levels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="headerlink" href="#NaivePyDECOMP.SolverPDDD.fcf_from_cuts" title="Link to this definition">ïƒ</a></dt>
<dd><p>Compute the Future Cost Function (FCF) value given a set of Benders cuts,
assuming that the expansion point (xk) has already been absorbed into
the intercept (rhs).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cuts</strong> (<em>list</em><em> of </em><em>dict</em>) â€“ <p>List of cuts. Each cut must have the format:
{</p>
<blockquote>
<div><p>â€stageâ€: int                 # stage for calculation
â€œrhsâ€: float,                # adjusted intercept
â€œcoefsâ€: {unit: float}       # coefficients (subgradients)</p>
</div></blockquote>
<p>}</p>
</p></li>
<li><p><strong>stage</strong> (<em>int</em>) â€“ The index of the current stage being solved (0-based).</p></li>
<li><p><strong>storage_levels</strong> (<em>dict</em>) â€“ Dictionary with current storage volumes for each hydro unit.
Example: {â€œUHE1â€: 50, â€œUHE2â€: 80}</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value of the Future Cost Function (FCF) evaluated at the given
storage levels.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.SolverPDDD.solve_pddd">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.SolverPDDD.</span></span><span class="sig-name descname"><span class="pre">solve_pddd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDECOMP.SolverPDDD.solve_pddd" title="Link to this definition">ïƒ</a></dt>
<dd><p>Solves the full multi-stage hydrothermal dispatch problem using the
Deterministic Dual Dynamic Programming (PDDD) algorithm.</p>
<p>This function implements both the forward and backward passes of the
PDDD approach, coordinating the stage-wise resolution of subproblems,
the propagation of terminal volumes between stages, and the generation
of Benders-like cuts. The process continues until the upper-lower bound
convergence criterion is satisfied or the maximum number of iterations
is reached.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) â€“ Path to the YAML file containing the problem configuration
(system data, hydro parameters, solver options).</p></li>
<li><p><strong>max_iter</strong> (<em>int</em><em>, </em><em>optional</em>) â€“ Maximum number of forward-backward iterations allowed (default is 10).</p></li>
<li><p><strong>tol</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Convergence tolerance between ZSUP and ZINF values used as stopping
criterion (default is 1e-2).</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to print iteration logs and convergence progress (default is True).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A dummy Pyomo model representing the structure and solution of the
final iteration. This is mainly for completeness and introspection.</p></li>
<li><p><strong>case</strong> (<em>dict</em>) â€“ The parsed YAML case dictionary used in the PDDD process, containing
metadata, hydro data, and solver configurations.</p></li>
<li><p><strong>alpha_values</strong> (<em>dict</em>) â€“ alpha values of future costs.</p></li>
<li><p><strong>ZINF</strong> (<em>dict</em>)</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RuntimeError</strong> â€“ If the specified solver is not available or any stage optimization fails.</p></li>
<li><p><strong>ValueError</strong> â€“ If no hydro data is provided in the YAML configuration.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The upper bound (ZSUP) is computed cumulatively from all stages,
discounting the cost-to-go alpha values.</p></li>
<li><p>The lower bound (ZINF) corresponds to the cost of the first stage
assuming a myopic (executable) policy.</p></li>
<li><p>Cuts are generated in the backward pass and injected into earlier stages
to approximate the value function of future stages.</p></li>
<li><p>This implementation is pedagogical and emphasizes clarity and modularity
over computational performance.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.SolverPDDD.solve_stage_pddd">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.SolverPDDD.</span></span><span class="sig-name descname"><span class="pre">solve_stage_pddd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yaml_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_hydros</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage_storage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cuts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="headerlink" href="#NaivePyDECOMP.SolverPDDD.solve_stage_pddd" title="Link to this definition">ïƒ</a></dt>
<dd><p>Solves a single stage of the hydrothermal dispatch problem within the
Deterministic Dual Dynamic Programming (PDDD) framework.</p>
<p>This function constructs and solves the optimization model for a given stage,
incorporating the current state of hydro units, operational cuts from future stages,
and the parameters defined in the YAML configuration. It returns the resulting
model and relevant economic and operational variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>yaml_data</strong> (<em>dict</em>) â€“ The full configuration dictionary loaded from a YAML file, containing
system metadata, solver settings, and model parameters.</p></li>
<li><p><strong>stage_hydros</strong> (<em>dict</em>) â€“ Dictionary describing the state of the hydro units at the current stage,
including initial volumes, inflows, and other relevant characteristics.</p></li>
<li><p><strong>stage_storage</strong> (<em>dict</em>) â€“ Dictionary describing the state of the storage units at the current stage,
including initial energy, energy limits and other relevant characteristics.</p></li>
<li><p><strong>cuts</strong> (<em>dict</em>) â€“ Dictionary containing Benders-like cuts (affine inequalities) propagated
from future stages, used to approximate the future cost function.</p></li>
<li><p><strong>stage</strong> (<em>int</em>) â€“ The index of the current stage being solved (0-based).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>results</strong> â€“ Dictionary containing:</p>
<ul class="simple">
<li><dl class="simple">
<dt>â€™modelâ€™<span class="classifier">ConcreteModel</span></dt><dd><p>The Pyomo model instance with solved values.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>â€™hydroâ€™<span class="classifier">dict</span></dt><dd><p>The hydro dictionary passed as input, preserved for traceability.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>â€™storageâ€™<span class="classifier">dict</span></dt><dd><p>The storage dictionary passed as input, preserved for traceability.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>â€™total_costâ€™<span class="classifier">float</span></dt><dd><p>The stage cost including the estimated future cost via alpha.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>â€™alphaâ€™<span class="classifier">float</span></dt><dd><p>The value of the cost-to-go (future cost approximation) variable.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>â€™f_volumeâ€™<span class="classifier">dict</span></dt><dd><p>Dictionary mapping each hydro plant to its final volume at the end of the stage.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>â€™cmoâ€™<span class="classifier">float</span></dt><dd><p>The dual variable associated with the system-wide energy balance constraint (marginal cost of operation).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>â€™cmaâ€™<span class="classifier">dict</span></dt><dd><p>Dictionary mapping each hydro plant to its marginal water value
(dual variable of the volume balance constraint).</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> â€“ If the specified solver is not available or if the optimization does not reach
    an optimal or feasible termination condition.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function is used internally in the forward and backward passes of the PDDD algorithm
to simulate stage-wise operations and propagate information backward via cuts.</p>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.Solver">
<span id="naivepydecomp-solver-module"></span><h4>NaivePyDECOMP.Solver module<a class="headerlink" href="#module-NaivePyDECOMP.Solver" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Solve Pyomo Model from YAML Configuration</p>
<section id="id24">
<h5>Author<a class="headerlink" href="#id24" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id25">
<h5>Description<a class="headerlink" href="#id25" title="Link to this heading">ïƒ</a></h5>
<p>This utility builds and solves a Pyomo optimization model using input
data provided in a YAML or JSON configuration file. The solver is selected
based on metadata, and can include support for decomposition strategies
(e.g., MIN-DT via MindtPy).</p>
<p>Features:
- Automatic model construction via modular subsystems (thermal, hydro, storage, renewable).
- Solver selection and configuration via YAML metadata.
- Support for MINLP solvers such as MindtPy with strategy and time limits.
- Termination condition validation to ensure feasibility or optimality.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="NaivePyDECOMP.Solver.solve">
<span class="sig-prename descclassname"><span class="pre">NaivePyDECOMP.Solver.</span></span><span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#NaivePyDECOMP.Solver.solve" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build and solve a Pyomo optimization model from a configuration file.</p>
<p>This function loads a model and its configuration from a structured YAML or JSON
file using the <cite>build_model_from_file</cite> routine. It then selects the appropriate
solver based on the â€˜metaâ€™ section, applies any solver-specific options (including
for MIN-DT decomposition), and executes the optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Path to the configuration file containing model metadata and data sections.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model after the solve routine, with variables populated.</p></li>
<li><p><strong>case</strong> (<em>dict</em>) â€“ Parsed dictionary containing the original configuration, metadata,
solver options, and problem data.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> â€“ If the solver is not available, solve fails, or model is infeasible.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NaivePyDECOMP.Utils">
<span id="naivepydecomp-utils-module"></span><h4>NaivePyDECOMP.Utils module<a class="headerlink" href="#module-NaivePyDECOMP.Utils" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>LaTeX Table Utilities for Pandas DataFrames</p>
<section id="id26">
<h5>Author<a class="headerlink" href="#id26" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id27">
<h5>Description<a class="headerlink" href="#id27" title="Link to this heading">ïƒ</a></h5>
<p>This module provides helpers to render pandas DataFrames as LaTeX tables with
custom styling aimed at scientific and engineering reports. It includes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>: Renders a binary matrix (0/1) as a colored
LaTeX table, highlighting ones and zeros with configurable colors and
producing a complete <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>: Renders a generic (non-binary) DataFrame as a LaTeX
table with bold headers (and bold math within headers), using <code class="docutils literal notranslate"><span class="pre">booktabs</span></code>
rules and producing a complete <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p></li>
</ul>
<p>Both functions omit the DataFrame index from the LaTeX output by design,
emitting only the column headers and data cells.</p>
</section>
<section id="id28">
<h5>Functions<a class="headerlink" href="#id28" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>binary_df_to_colored_latex</dt><dd><p>Render a binary (0/1) DataFrame as a colored LaTeX table. Cells equal to 1
are filled with <code class="docutils literal notranslate"><span class="pre">one_color</span></code>; cells equal to 0 use <code class="docutils literal notranslate"><span class="pre">zero_color</span></code>.
Non-binary values, if present, are formatted with <code class="docutils literal notranslate"><span class="pre">floatfmt</span></code> and not
color-filled. The index is not included in the output.</p>
</dd>
<dt>custom_df_to_latex</dt><dd><p>Render a generic DataFrame as a LaTeX table using <code class="docutils literal notranslate"><span class="pre">booktabs</span></code> rules with a
bold header row. Inline math fragments in header cells  are additionally set
in bold math using <code class="docutils literal notranslate"><span class="pre">bold_math_cmd</span></code>.
The index is not included in the output.</p>
</dd>
</dl>
</section>
<section id="parameters-shared">
<h5>Parameters (Shared)<a class="headerlink" href="#parameters-shared" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The input table to render. Only the DataFrame <strong>columns</strong> are emitted;
the index is always omitted from the LaTeX output.</p>
</dd>
<dt>caption<span class="classifier">str, optional</span></dt><dd><p>Caption text for the LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p>
</dd>
<dt>label<span class="classifier">str, optional</span></dt><dd><p>Label for cross-referencing with <code class="docutils literal notranslate"><span class="pre">\ref{...}</span></code>.</p>
</dd>
<dt>column_format<span class="classifier">str or None, optional</span></dt><dd><p>Column specification for the LaTeX <code class="docutils literal notranslate"><span class="pre">tabular</span></code> environment. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
a default is inferred based on the number of columns (all centered).</p>
</dd>
<dt>size_cmd<span class="classifier">str, optional</span></dt><dd><p>LaTeX size command applied inside the table (e.g., <code class="docutils literal notranslate"><span class="pre">\small</span></code>, <code class="docutils literal notranslate"><span class="pre">\scriptsize</span></code>).</p>
</dd>
</dl>
</section>
<section id="additional-parameters">
<h5>Additional Parameters<a class="headerlink" href="#additional-parameters" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>one_color<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) LaTeX color name for cells with value 1.</p>
</dd>
<dt>zero_color<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) LaTeX background color name for cells
with value 0.</p>
</dd>
<dt>floatfmt<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) Format string for numeric entries that
are not 0/1 (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;{:d}&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;{:.0f}&quot;</span></code>).</p>
</dd>
<dt>bold_math_cmd<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>) Command for bolding inline math in header cells,
e.g., <code class="docutils literal notranslate"><span class="pre">\mathbf</span></code>, <code class="docutils literal notranslate"><span class="pre">\boldsymbol</span></code>, or <code class="docutils literal notranslate"><span class="pre">\bm</span></code>. Ensure the corresponding
LaTeX package is loaded.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>str</em> â€“ A complete LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment (including an inner <code class="docutils literal notranslate"><span class="pre">tabular</span></code> and
a <code class="docutils literal notranslate"><span class="pre">\resizebox{\textwidth}{!}{...}</span></code> wrapper) ready to paste into a
LaTeX document.</p></li>
<li><p><em>Requirements</em></p></li>
<li><p><em>â€”â€”â€”â€”</em></p></li>
<li><p><strong>- Python packages</strong> (<code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">re</span></code> (standard library).)</p></li>
<li><p><em>- LaTeX packages</em> â€“</p>
<ul>
<li><p>For both functions: <code class="docutils literal notranslate"><span class="pre">graphicx</span></code> (for <code class="docutils literal notranslate"><span class="pre">\resizebox</span></code>), <code class="docutils literal notranslate"><span class="pre">booktabs</span></code> (for <code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>).</p></li>
<li><p>For coloring: <code class="docutils literal notranslate"><span class="pre">xcolor</span></code> with the <code class="docutils literal notranslate"><span class="pre">table</span></code> option (provides <code class="docutils literal notranslate"><span class="pre">\cellcolor</span></code>).
Colors such as <code class="docutils literal notranslate"><span class="pre">oncell</span></code> and <code class="docutils literal notranslate"><span class="pre">white</span></code> must be defined in the preamble.</p></li>
<li><p>For bold math: <code class="docutils literal notranslate"><span class="pre">amsmath</span></code>, <code class="docutils literal notranslate"><span class="pre">bm</span></code>, or any package compatible with <code class="docutils literal notranslate"><span class="pre">bold_math_cmd</span></code>.</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Both functions assume the DataFrame columns represent displayable headers.
If numeric, they are commonly used as time periods. Pre-formatting is advised.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code> coerces values to integers for coloring.
Non-binary values are rendered using <code class="docutils literal notranslate"><span class="pre">floatfmt</span></code> but receive no coloring.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code> skips escaping in data cells, assuming LaTeX-safe input.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Render a binary status matrix with colored cells:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tex</span> <span class="o">=</span> <span class="n">binary_df_to_colored_latex</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Hourly U, Y, and W variables&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:uyw&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">one_color</span><span class="o">=</span><span class="s2">&quot;oncell&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">zero_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">floatfmt</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:d}</span><span class="s2">&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tex</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">\begin{table}[!ht]</span>
</pre></div>
</div>
<p>Render a numeric table with bold headers and math-aware bolding:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.25</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">r</span><span class="s2">&quot;$t=1$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\(t=2\)&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tex2</span> <span class="o">=</span> <span class="n">custom_df_to_latex</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Example Table&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:example&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">bold_math_cmd</span><span class="o">=</span><span class="s2">&quot;\mathbf&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">oprule&quot;</span> <span class="ow">in</span> <span class="n">tex2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.to_latex</span></code></dt><dd><p>Built-in (less specialized) LaTeX export.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-NaivePyDECOMP.YAMLLoader">
<span id="naivepydecomp-yamlloader-module"></span><h4>NaivePyDECOMP.YAMLLoader module<a class="headerlink" href="#module-NaivePyDECOMP.YAMLLoader" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: Configuration Pre-Processor for Model Inputs</p>
<section id="id29">
<h5>Author<a class="headerlink" href="#id29" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id30">
<h5>Description<a class="headerlink" href="#id30" title="Link to this heading">ïƒ</a></h5>
<p>Utilities to load and normalize model configuration files (YAML/JSON) before
instantiating optimization models. The module provides:</p>
<ol class="arabic simple">
<li><p>A LaTeX-friendly renaming utility for unit identifiers, preserving downstream
compatibility with report/plot labels.</p></li>
<li><p>A deep-copy pre-processor that standardizes sections and optionally transforms
unit names and their upstreams references.</p></li>
<li><p>A YAML loader that combines parsing and pre-processing into a single entry point.</p></li>
</ol>
<p>This pre-processing ensures consistent, side-effect-free structures that are
directly consumable by subsequent builders (hydro, thermal, renewable, storage).</p>
</section>
<section id="id31">
<h5>Functions<a class="headerlink" href="#id31" title="Link to this heading">ïƒ</a></h5>
<dl class="simple">
<dt>key_replace(key)</dt><dd><p>Convert identifiers for LaTeX.</p>
</dd>
<dt>pre_process(config_dict, transform_names=True)</dt><dd><p>Deep-copy and normalize a configuration dictionary, optionally transforming
unit names and upstream references in sections that contain units.</p>
</dd>
<dt>yaml_loader(file, transform_names=True)</dt><dd><p>Load a YAML file and return a processed configuration dictionary suitable
for model building.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Only the <strong>first</strong> underscore in an identifier is used to create the subscript;
remaining underscores are kept verbatim inside the subscript block.</p></li>
<li><p>Sections without a units field are copied verbatim.</p></li>
<li><p>All operations are performed on deep copies; the original inputs are not modified.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">yaml_loader</span><span class="p">(</span><span class="s2">&quot;case.yaml&quot;</span><span class="p">,</span> <span class="n">transform_names</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;hydro&quot;</span><span class="p">][</span><span class="s2">&quot;units&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;{UHE_{1}}&#39;, &#39;{UHE_{2}}&#39;]</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<span id="document-MDI"></span><section id="mdi-package">
<h3>MDI package<a class="headerlink" href="#mdi-package" title="Link to this heading">ïƒ</a></h3>
<section id="module-MDI">
<span id="module-contents"></span><h4>Module contents<a class="headerlink" href="#module-MDI" title="Link to this heading">ïƒ</a></h4>
<section id="mdi-a-didactic-expansion-planning-framework-for-the-naivepydessem-package">
<h5>MDI â€” A Didactic Expansion Planning Framework for the NaivePyDESSEM Package<a class="headerlink" href="#mdi-a-didactic-expansion-planning-framework-for-the-naivepydessem-package" title="Link to this heading">ïƒ</a></h5>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="author">
<h6>Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="summary">
<h6>Summary<a class="headerlink" href="#summary" title="Link to this heading">ïƒ</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">MDI</span></code> package provides a modular and extensible framework for
long-term expansion planning of electric power systems.
Inspired by the methodology and architecture of CEPELâ€™s MDI model,
it enables the formulation, solution, and analysis of mixed-integer
expansion planning problems using Pyomo.</p>
<p>Although simplified for educational purposes, the framework preserves
the essential principles of real-world models, including multi-technology
dispatch coordination, storage operation, and deficit cost representation.</p>
</section>
<section id="description">
<h6>Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>The package integrates multiple energy technologiesâ€”thermal, hydraulic,
renewable, and storageâ€”into a coherent optimization structure that
minimizes investment and operational costs while satisfying technical
and economic adequacy constraints.</p>
<p>It is specifically designed for academic use, research, and the
demonstration of optimization-based methodologies for energy planning,
emphasizing transparency and pedagogical clarity.</p>
</section>
<section id="submodules">
<h6>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>Generator<span class="classifier">module</span></dt><dd><p>Defines the data structures, constraints, and operational cost models
for thermal and other dispatchable generation units.</p>
</dd>
<dt>Storage<span class="classifier">module</span></dt><dd><p>Models energy storage systems (e.g., batteries), including state-of-charge
dynamics, charge/discharge limits, efficiencies, and integration into
system-wide balance and cost formulations.</p>
</dd>
<dt>YAMLLoader<span class="classifier">module</span></dt><dd><p>Provides a structured interface for loading problem instances from YAML
or JSON files, including schema validation and automatic conversion
to dataclass-based objects.</p>
</dd>
<dt>Builder<span class="classifier">module</span></dt><dd><p>Constructs the complete Pyomo model by invoking the relevant subsystems,
generating the energy balance constraints, and defining the
cost-minimizing objective function.</p>
</dd>
<dt>Solver<span class="classifier">module</span></dt><dd><p>Manages solver configuration and execution (e.g., GLPK, IPOPT, MindtPy),
with optional reporting, sensitivity analysis, and feasibility diagnostics.</p>
</dd>
<dt>DataFrames<span class="classifier">module</span></dt><dd><p>Exports decision variable trajectories and economic indicators
to Pandas DataFrames for post-solution analysis and visualization.</p>
</dd>
<dt>PlotSeries<span class="classifier">module</span></dt><dd><p>Generates time-series and comparative dispatch plots using Matplotlib.</p>
</dd>
<dt>Utils, Formatters, Reporting<span class="classifier">module</span></dt><dd><p>Auxiliary modules for formatting, summary reporting, model validation,
and console visualization using Colorama.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Each subsystem (e.g., Generator, Storage) can be selectively activated
or excluded through the YAML configuration interface.</p></li>
<li><p>The implementation follows the conceptual logic of the MDI methodology,
while remaining intentionally simplified for didactic transparency.</p></li>
<li><p>The framework serves as a foundation for further extensions such as
emission cost modeling, pumped storage systems, stochastic optimization,
or multi-area coupling.</p></li>
<li><p>Fully compatible with Pyomoâ€™s modeling abstractions and solver interfaces.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>,</p>
<blockquote>
<div><p>Lecture Notes, EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
</section>
</section>
<section id="subpackages">
<h4>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">ïƒ</a></h4>
<div class="toctree-wrapper compound">
<span id="document-MDI.Generator"></span><section id="mdi-generator-package">
<h5>MDI.Generator package<a class="headerlink" href="#mdi-generator-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-MDI.Generator">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-MDI.Generator" title="Link to this heading">ïƒ</a></h6>
<section id="generator-subpackage">
<h6 aria-level="7">Generator Subpackage<a class="headerlink" href="#generator-subpackage" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="author">
<h6 aria-level="8">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="summary">
<h6 aria-level="8">Summary<a class="headerlink" href="#summary" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>Generator</strong> subpackage provides a complete and modular implementation of
<strong>dispatchable generation units</strong> within the MDI (Modular Decision Infrastructure)
framework, forming the core component of the operation and expansion
planning model.</p>
</section>
<section id="description">
<h6 aria-level="8">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>This subpackage defines all necessary components to represent thermal and
dispatchable generation systems in <strong>Pyomo</strong>, including data typing, variables,
constraints, and objectives. It supports integration with storage and other
energy technologies under a unified optimization environment.</p>
</section>
<section id="modules">
<h6 aria-level="8">Modules<a class="headerlink" href="#modules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>GeneratorBuilder</dt><dd><p>High-level routines for constructing the generator subsystem model.</p>
</dd>
<dt>GeneratorDataTypes</dt><dd><p>Data classes describing generator unit parameters and data structures.</p>
</dd>
<dt>GeneratorEquations</dt><dd><p>Symbolic expressions for generator cost and balance aggregation.</p>
</dd>
<dt>GeneratorObjectives</dt><dd><p>Objective function for total generation cost minimization.</p>
</dd>
<dt>GeneratorVars</dt><dd><p>Sets, parameters, and decision variables declaration.</p>
</dd>
</dl>
</section>
<section id="structure-overview">
<h6 aria-level="8">Structure Overview<a class="headerlink" href="#structure-overview" title="Link to this heading">ïƒ</a></h6>
<p>The <cite>Generator</cite> subpackage follows a modular and pedagogical architecture,
allowing incremental assembly and analysis of generation models.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">MDI.Generator</span><span class="w"> </span><span class="kn">import</span> <span class="n">GeneratorData</span><span class="p">,</span> <span class="n">GeneratorUnit</span><span class="p">,</span> <span class="n">build_generators</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">GeneratorData</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">build_generators</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">include_objective</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="exports">
<h6 aria-level="8">Exports<a class="headerlink" href="#exports" title="Link to this heading">ïƒ</a></h6>
<p>This <cite>__init__.py</cite> file re-exports all relevant symbols to simplify
namespace imports.
Modules can be accessed individually or as a unified subsystem:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">MDI.Generator</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Each component of the subpackage is fully compatible with <strong>Pyomo 6.x</strong>.</p></li>
<li><p>Generation costs are modeled through both operational and investment terms.</p></li>
<li><p>Units follow the SI convention (MW for power, monetary units for cost).</p></li>
<li><p>The implementation is pedagogically aligned with the MDI methodology
and CEPELâ€™s DESSEM conceptual framework.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<section id="submodules">
<h6>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-MDI.Generator.GeneratorBuilder">
<span id="mdi-generator-generatorbuilder-module"></span><h6>MDI.Generator.GeneratorBuilder module<a class="headerlink" href="#module-MDI.Generator.GeneratorBuilder" title="Link to this heading">ïƒ</a></h6>
<section id="generator-builder-module">
<h6 aria-level="7">Generator Builder Module<a class="headerlink" href="#generator-builder-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id1">
<h6 aria-level="8">Author<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id2">
<h6 aria-level="8">Summary<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the routines responsible for constructing the generator
submodel within the MDI (Modular Didactic Infrastructure) framework. It serves
as the primary entry point for creating the Pyomo-based representation of
dispatchable generation units, their parameters, variables, constraints, and
optional objective terms.</p>
</section>
<section id="id3">
<h6 aria-level="8">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>The generator builder integrates modular components defined in the companion
submodules:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GeneratorVars</span></code>: Declares decision variables for generator operation and investment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GeneratorDataTypes</span></code>: Defines dataclass-based structures for handling generator input data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GeneratorConstraints</span></code>: Introduces operational, investment, and capacity constraints.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GeneratorObjectives</span></code>: Builds the cost-related components of the objective function.</p></li>
</ul>
<p>These functions enable flexible inclusion of generator units within the full
system model or as a standalone expansion subproblem. Each submodule follows
Pyomoâ€™s modeling conventions and supports compositional assembly within the
broader MDI framework.</p>
</section>
<section id="functions">
<h6 aria-level="8">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_generators(generator_data, include_objective=True)</dt><dd><p>Creates a Pyomo <code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code> containing the generator submodel,
including variables, constraints, and optionally the objective function.</p>
</dd>
<dt>add_generator_problem(m, data, include_objective=False)</dt><dd><p>Adds generator-related sets, parameters, variables, and constraints
to an existing Pyomo model instance.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The generator submodel can be built independently or as part of a larger
integrated energy planning problem.</p></li>
<li><p>Setting <code class="docutils literal notranslate"><span class="pre">include_objective=False</span></code> allows the model to be embedded in
hierarchical or multi-objective formulations.</p></li>
<li><p>This module relies on modular imports and clear dependency separation
between data definition, variable creation, and constraint formulation.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorBuilder.add_generator_problem">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">add_generator_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#MDI.Generator.GeneratorDataTypes.GeneratorData" title="MDI.Generator.GeneratorDataTypes.GeneratorData"><span class="pre">GeneratorData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorBuilder.add_generator_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add generator components (sets, parameters, variables, and constraints)
to an existing Pyomo model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Existing Pyomo model instance to which generator components will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Generator.GeneratorDataTypes.GeneratorData" title="MDI.Generator.GeneratorDataTypes.GeneratorData"><em>GeneratorData</em></a>) â€“ Dataclass or structured object containing generator-related data, such as
power limits, costs, and investment parameters.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to append the generator objective term to the model.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pyomo.environ.ConcreteModel</em> â€“ The input model, extended with generator-related components.</p></li>
<li><p><em>Workflow</em></p></li>
<li><p><em>â€”â€”â€“</em></p></li>
<li><ol class="arabic simple">
<li><p>Define generator sets and parameters via <code class="docutils literal notranslate"><span class="pre">generator_add_sets_and_params()</span></code>.</p></li>
</ol>
</li>
<li><ol class="arabic simple" start="2">
<li><p>Declare operational and investment variables using <code class="docutils literal notranslate"><span class="pre">generator_add_variables()</span></code>.</p></li>
</ol>
</li>
<li><p><em>3. Add operational constraints for generation limits and investment linkage.</em></p></li>
<li><p><em>4. Optionally include cost terms in the modelâ€™s objective function.</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This function can be safely called multiple times for different generator
groups or technologies.</p></li>
<li><p>The objective inclusion flag provides flexibility for hierarchical
optimization or decomposition-based formulations.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorBuilder.build_generators">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorBuilder.</span></span><span class="sig-name descname"><span class="pre">build_generators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">generator_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorBuilder.build_generators" title="Link to this definition">ïƒ</a></dt>
<dd><p>Construct a standalone generator submodel as a Pyomo <code class="docutils literal notranslate"><span class="pre">ConcreteModel</span></code>.</p>
<p>This function acts as a wrapper that initializes a new model instance,
populates it with generator sets, parameters, variables, and constraints,
and optionally includes the cost-minimizing objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator_data</strong> (<em>dict</em>) â€“ Dictionary or dataclass containing all generator configuration data,
including installed capacities, operational limits, and cost coefficients.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to include the generatorâ€™s cost function in the model objective.
Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A fully constructed generator submodel ready for optimization.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Internally, this function delegates to <code class="docutils literal notranslate"><span class="pre">add_generator_problem()</span></code>.</p></li>
<li><p>When used in integrated expansion models, the objective term may be
disabled to avoid duplication at the system level.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-MDI.Generator.GeneratorConstraints">
<span id="mdi-generator-generatorconstraints-module"></span><h6>MDI.Generator.GeneratorConstraints module<a class="headerlink" href="#module-MDI.Generator.GeneratorConstraints" title="Link to this heading">ïƒ</a></h6>
<section id="generator-constraints-module">
<h6 aria-level="7">Generator Constraints Module<a class="headerlink" href="#generator-constraints-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id4">
<h6 aria-level="8">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="8">Summary<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the operational and investment constraints associated with
dispatchable generation units in the MDI framework. These constraints ensure that
generation power levels remain within admissible technical limits and that
investment decisions are properly linked across the planning horizon.</p>
</section>
<section id="id6">
<h6 aria-level="8">Description<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<p>The generator constraints implemented here enforce:</p>
<ol class="arabic simple">
<li><p><strong>Operational bounds</strong>:
Ensures that each unitâ€™s generation output lies between its minimum and maximum
power levels whenever it is operational.</p></li>
<li><p><strong>Investment linkage</strong>:
Establishes a temporal dependency between the binary investment decision variables
(<cite>gen_y</cite>) and the operational availability variables (<cite>gen_x</cite>), guaranteeing
consistent activation of units across consecutive time periods.</p></li>
</ol>
<p>These constraints are intended to be modular and easily extensible for more
sophisticated generation formulations (e.g., ramping limits, minimum up/down
times, or emission constraints).</p>
</section>
<section id="id7">
<h6 aria-level="8">Functions<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_generator_power_limits_constraint(m)</dt><dd><p>Adds upper and lower power output constraints for each generator and time step.</p>
</dd>
<dt>add_generator_investment_link_constraint(m)</dt><dd><p>Adds the logical linkage between investment and operational state variables
across the planning horizon.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Both constraints assume that the model already defines sets <code class="docutils literal notranslate"><span class="pre">GU</span></code>, <code class="docutils literal notranslate"><span class="pre">T</span></code>, and <code class="docutils literal notranslate"><span class="pre">P</span></code>,
as well as parameters <code class="docutils literal notranslate"><span class="pre">gen_Pmin</span></code> and <code class="docutils literal notranslate"><span class="pre">gen_Pmax</span></code>.</p></li>
<li><p>The investment linkage formulation assumes chronological time indexing.</p></li>
<li><p>These formulations align with the expansion-phase component of the MDI methodology.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<section id="module-dependencies">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#module-dependencies" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong> <code class="docutils literal notranslate"><span class="pre">MDI.GeneratorVars</span></code>, <code class="docutils literal notranslate"><span class="pre">MDI.GeneratorDataTypes</span></code></p></li>
<li><p><strong>External:</strong> <code class="docutils literal notranslate"><span class="pre">pyomo.environ</span> <span class="pre">(Constraint,</span> <span class="pre">ConcreteModel)</span></code></p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorConstraints.add_generator_investment_link_constraint">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorConstraints.</span></span><span class="sig-name descname"><span class="pre">add_generator_investment_link_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorConstraints.add_generator_investment_link_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add investment linkage constraints between generator states and investment decisions.</p>
<p>These constraints ensure temporal consistency between investment decisions
(<cite>gen_y</cite>) and operational availability (<cite>gen_x</cite>) throughout the planning horizon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model containing generator-related variables and sets.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>pyomo.environ.ConcreteModel</em> â€“ The same model instance, extended with investment linkage constraints.</p></li>
<li><p><em>Workflow</em></p></li>
<li><p><em>â€”â€”â€“</em></p></li>
<li><p><em>1. Initialization constraint</em> â€“</p>
<ul>
<li><p>At the first period, equate <code class="docutils literal notranslate"><span class="pre">gen_y[g,</span> <span class="pre">1]</span></code> with the initial state <code class="docutils literal notranslate"><span class="pre">gen_state[g]</span></code>.</p></li>
</ul>
</li>
<li><p><em>2. Temporal linkage constraint</em> â€“</p>
<ul>
<li><p>Enforce that <code class="docutils literal notranslate"><span class="pre">x[g,</span> <span class="pre">t]</span> <span class="pre">=</span> <span class="pre">x[g,</span> <span class="pre">t-1]</span> <span class="pre">+</span> <span class="pre">y[g,</span> <span class="pre">t]</span></code> for <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">&gt;</span> <span class="pre">1</span></code>,
ensuring capacity accumulation through time.</p></li>
</ul>
</li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The binary variable <code class="docutils literal notranslate"><span class="pre">gen_y</span></code> represents new investments.</p></li>
<li><p>The binary variable <code class="docutils literal notranslate"><span class="pre">gen_x</span></code> denotes whether the generator is operational.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gen_state</span></code> specifies the pre-existing operational state at the start of the horizon.</p></li>
<li><p>Skips constraint definition if any required model components are missing.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorConstraints.add_generator_power_limits_constraint">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorConstraints.</span></span><span class="sig-name descname"><span class="pre">add_generator_power_limits_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorConstraints.add_generator_power_limits_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add operational power limits for dispatchable generation units.</p>
<p>This constraint ensures that the generation output of each unit remains within
its technical minimum and maximum power levels whenever the unit is operational.
The constraint is applied over all generators, time periods, and demand levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model containing generator sets, parameters, and decision variables.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model instance, extended with upper and lower generation limits.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AttributeError</strong> â€“ If any required model attribute is missing (e.g., <code class="docutils literal notranslate"><span class="pre">gen_P</span></code>, <code class="docutils literal notranslate"><span class="pre">gen_Pmax</span></code>).</p></li>
<li><p><strong>Workflow</strong> â€“ </p></li>
<li><p><strong>--------</strong> â€“ </p></li>
<li><p><strong>1. For each generator</strong><strong>, </strong><strong>period</strong><strong>, </strong><strong>and demand level</strong><strong>, </strong><strong>define:</strong> â€“ <ul>
<li><p>Upper limit: <span class="math notranslate nohighlight">\(P_{g,t,p} \leq P^{max}_g \cdot x_{g,t}\)</span>
    - Lower limit: <span class="math notranslate nohighlight">\(P_{g,t,p} \geq P^{min}_g \cdot x_{g,t}\)</span></p></li>
</ul>
</p></li>
<li><p><strong>2. Skip constraint creation if the required attributes are not defined.</strong> â€“ </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gen_x[g,</span> <span class="pre">t]</span></code> represents whether the generator is active at time <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p></li>
<li><p>This constraint does not include ramping or minimum up/down time conditions,
which should be defined in a separate submodule.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-MDI.Generator.GeneratorDataTypes">
<span id="mdi-generator-generatordatatypes-module"></span><h6>MDI.Generator.GeneratorDataTypes module<a class="headerlink" href="#module-MDI.Generator.GeneratorDataTypes" title="Link to this heading">ïƒ</a></h6>
<section id="generator-data-types-module">
<h6 aria-level="7">Generator Data Types Module<a class="headerlink" href="#generator-data-types-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id8">
<h6 aria-level="8">Author<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id9">
<h6 aria-level="8">Summary<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the fundamental data structures used to represent
generator-related parameters within the MDI framework. It provides
strongly typed and structured interfaces for input parsing, parameter
validation, and model population using the Pyomo environment.</p>
</section>
<section id="id10">
<h6 aria-level="8">Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>The dataclasses defined here encapsulate both unit-level and
system-level information required to formulate the generation expansion
and dispatch problem. They are designed for clarity, immutability,
and direct compatibility with YAML and JSON data sources.</p>
<ul class="simple">
<li><p><strong>GeneratorUnit</strong> represents the technical and economic attributes
of a single dispatchable generating unit.</p></li>
<li><p><strong>GeneratorData</strong> aggregates all generator units, demand data,
time discretization, and system-level configuration parameters
required to construct the generator submodel.</p></li>
</ul>
</section>
<section id="classes">
<h6 aria-level="8">Classes<a class="headerlink" href="#classes" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>GeneratorUnit</dt><dd><p>Defines a single generation unit, including operational state,
investment cost, and technical limits.</p>
</dd>
<dt>GeneratorData</dt><dd><p>Defines a complete data structure for the generator subsystem,
including time horizon, demand, load levels, and the collection of
generation units.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>These dataclasses are typically populated by the YAMLLoader module
before model construction.</p></li>
<li><p>Attribute names are intentionally consistent with the Pyomo
model variable and parameter nomenclature.</p></li>
<li><p>The design supports type checking and explicit serialization
to facilitate reproducibility in energy system research.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<section id="id11">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong> None (independent data layer)</p></li>
<li><p><strong>External:</strong> <code class="docutils literal notranslate"><span class="pre">dataclasses</span></code>, <code class="docutils literal notranslate"><span class="pre">typing</span></code></p></li>
</ul>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorDataTypes.</span></span><span class="sig-name descname"><span class="pre">GeneratorData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level_hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit" title="MDI.Generator.GeneratorDataTypes.GeneratorUnit"><span class="pre">GeneratorUnit</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Aggregated dataset for the generator subsystem.</p>
<p>Encapsulates all time-related and unit-level data required to
build the generator component of the MDI model, including
demand series, temporal discretization, and technology set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>horizon</strong> (<em>int</em>) â€“ Number of time periods in the planning horizon.</p></li>
<li><p><strong>demand</strong> (<em>dict</em><em> of </em><em>{str: list</em><em> of </em><em>float}</em>) â€“ Nested dictionary containing demand data per load level and time period.
Example structure:
<code class="docutils literal notranslate"><span class="pre">{&quot;Ponta&quot;:</span> <span class="pre">[500,</span> <span class="pre">550,</span> <span class="pre">600],</span> <span class="pre">&quot;Fora&quot;:</span> <span class="pre">[300,</span> <span class="pre">320,</span> <span class="pre">350]}</span></code></p></li>
<li><p><strong>level_hours</strong> (<em>dict</em><em> of </em><em>{str: float}</em>) â€“ Mapping between demand levels (e.g., â€˜Pontaâ€™, â€˜Foraâ€™) and their
respective duration in hours.</p></li>
<li><p><strong>units</strong> (<em>dict</em><em> of </em><em>{str: GeneratorUnit}</em>) â€“ Dictionary mapping unit identifiers to their respective
<code class="docutils literal notranslate"><span class="pre">GeneratorUnit</span></code> dataclass instances.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This structure is typically created by the YAMLLoader and passed
to <code class="docutils literal notranslate"><span class="pre">GeneratorBuilder</span></code> for model initialization.</p></li>
<li><p>The data are designed to be serializable and interoperable
with other modules of the MDI framework.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorData.demand" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorData.level_hours">
<span class="sig-name descname"><span class="pre">level_hours</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorData.level_hours" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorData.units">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit" title="MDI.Generator.GeneratorDataTypes.GeneratorUnit"><span class="pre">GeneratorUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorData.units" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorDataTypes.</span></span><span class="sig-name descname"><span class="pre">GeneratorUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_inv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_cap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Representation of a single dispatchable generation unit.</p>
<p>This dataclass stores the economic and technical parameters
of each generator used in the optimization model, such as
operational state, variable and fixed costs, and rated capacity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) â€“ Unique identifier of the generation unit.</p></li>
<li><p><strong>state</strong> (<em>int</em>) â€“ Initial operational state of the unit (1 if already built, 0 otherwise).</p></li>
<li><p><strong>c_op</strong> (<em>float</em>) â€“ Variable operational cost (e.g., fuel or maintenance) in R$/MWh.</p></li>
<li><p><strong>c_inv</strong> (<em>float</em>) â€“ Investment cost associated with capacity expansion in R$</p></li>
<li><p><strong>p_max</strong> (<em>float</em>) â€“ Maximum generation capacity (MW) of the unit.</p></li>
<li><p><strong>include_cap</strong> (<em>whether to include in capacity restriction</em><em> or </em><em>not</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">state</span></code> is used to define the initial operational availability
within the planning horizon.</p></li>
<li><p>These attributes are directly mapped into Pyomo parameters
via the generator builder module.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorUnit.c_inv">
<span class="sig-name descname"><span class="pre">c_inv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit.c_inv" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorUnit.c_op">
<span class="sig-name descname"><span class="pre">c_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit.c_op" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorUnit.include_cap">
<span class="sig-name descname"><span class="pre">include_cap</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit.include_cap" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorUnit.p_max">
<span class="sig-name descname"><span class="pre">p_max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit.p_max" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorDataTypes.GeneratorUnit.state">
<span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#MDI.Generator.GeneratorDataTypes.GeneratorUnit.state" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-MDI.Generator.GeneratorEquations">
<span id="mdi-generator-generatorequations-module"></span><h6>MDI.Generator.GeneratorEquations module<a class="headerlink" href="#module-MDI.Generator.GeneratorEquations" title="Link to this heading">ïƒ</a></h6>
<section id="generator-equations-module">
<h6 aria-level="7">Generator Equations Module<a class="headerlink" href="#generator-equations-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id12">
<h6 aria-level="8">Author<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id13">
<h6 aria-level="8">Summary<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the objective-related expressions for the generation
subsystem in the MDI framework. It formulates both the <strong>operational cost</strong>
and <strong>energy balance</strong> expressions, which are later aggregated into the
system-level optimization model.</p>
</section>
<section id="id14">
<h6 aria-level="8">Description<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<p>The functions in this module generate symbolic expressions that represent
the two principal aspects of the generation subproblem:</p>
<ol class="arabic">
<li><p><strong>Operational and investment cost function</strong> â€”
Represents the total cost of operation and expansion over the planning
horizon, including both variable and fixed investment terms.</p>
<p>[
C_{gen} =
sum_{g,t,p} h_p , c^{op}_g , P_{g,t,p}
;+;
sum_{g,t} c^{inv}_g , x_{g,t}
]</p>
<p>where
- (h_p) denotes the duration (hours) of load level (p),
- (c^{op}_g) is the operational cost of generator (g),
- (c^{inv}_g) is the investment cost per MW of capacity,
- (P_{g,t,p}) is the power generation level,
- (x_{g,t}) indicates if the unit is available at time (t).</p>
</li>
<li><p><strong>Generation balance expression</strong> â€”
Computes the total available generation for each time period and load
level, serving as input to system-level energy balance constraints:</p>
<p>[
G_{bal}(t,p) = sum_{g} P_{g,t,p}
]</p>
</li>
</ol>
</section>
<section id="id15">
<h6 aria-level="8">Functions<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_generator_cost_expression(m, cost_array)</dt><dd><p>Builds and appends the generator cost expression to the provided array.</p>
</dd>
<dt>add_generator_balance_expression(m, t, p, balance_array)</dt><dd><p>Builds and appends the generation balance expression for a given time
period and load level to the provided array.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Both expressions are appended to lists (<code class="docutils literal notranslate"><span class="pre">cost_array</span></code> or <code class="docutils literal notranslate"><span class="pre">balance_array</span></code>)
to allow modular composition of objectives and constraints in composite models.</p></li>
<li><p>Missing attributes silently skip expression creation to maintain model integrity.</p></li>
<li><p>This design enables dynamic integration of subsystems (e.g., storage, hydro,
or renewable modules) under a unified optimization framework.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes,</p>
<blockquote>
<div><p>EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
<section id="id16">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong> <code class="docutils literal notranslate"><span class="pre">MDI.GeneratorVars</span></code>, <code class="docutils literal notranslate"><span class="pre">MDI.GeneratorConstraints</span></code></p></li>
<li><p><strong>External:</strong> <code class="docutils literal notranslate"><span class="pre">pyomo.environ</span> <span class="pre">(ConcreteModel)</span></code>, <code class="docutils literal notranslate"><span class="pre">typing</span></code></p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorEquations.add_generator_balance_expression">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorEquations.</span></span><span class="sig-name descname"><span class="pre">add_generator_balance_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorEquations.add_generator_balance_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build and append the generation balance expression for a given time and level.</p>
<p>Computes the total power generated across all units for the specified
time period and demand level, and appends it to <code class="docutils literal notranslate"><span class="pre">balance_array</span></code>.
The result serves as the left-hand side of the system-level
energy balance constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model containing generator sets and variables.</p></li>
<li><p><strong>t</strong> (<em>Any</em>) â€“ Time period index.</p></li>
<li><p><strong>p</strong> (<em>Any</em>) â€“ Load level index.</p></li>
<li><p><strong>balance_array</strong> (<em>list</em><em> of </em><em>pyomo expressions</em>) â€“ List to which the generation balance expression will be appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same list, extended with the generation balance expression.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of pyomo expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The balance expression is defined as:</p>
<div class="math notranslate nohighlight">
\[G_{bal}(t,p) = \sum_{g} P_{g,t,p}\]</div>
<p>representing the total available generation at each period and load level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorEquations.add_generator_capacity_expression">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorEquations.</span></span><span class="sig-name descname"><span class="pre">add_generator_capacity_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capacity_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorEquations.add_generator_capacity_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build and append the generation capacity expression for a given time and level.</p>
<p>Computes the total generation capacity across all units for the specified
time period and demand level, and appends it to <code class="docutils literal notranslate"><span class="pre">capacity_array</span></code>.
The result serves as the left-hand side of the system-level
generation capacity constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model containing generator sets and variables.</p></li>
<li><p><strong>t</strong> (<em>Any</em>) â€“ Time period index.</p></li>
<li><p><strong>p</strong> (<em>Any</em>) â€“ Load level index.</p></li>
<li><p><strong>capacity_array</strong> (<em>list</em><em> of </em><em>pyomo expressions</em>) â€“ List to which the generation capacity expression will be appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same list, extended with the generation capacity expression.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of pyomo expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The capacity expression is defined as:</p>
<div class="math notranslate nohighlight">
\[G_{bal}(t,p) = \sum_{g} P_{g,t,p}\]</div>
<p>representing the total available generation at each period and load level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorEquations.add_generator_cost_expression">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorEquations.</span></span><span class="sig-name descname"><span class="pre">add_generator_cost_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorEquations.add_generator_cost_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build and append the generator cost expression to the provided list.</p>
<p>This function constructs the total cost expression, including both
operational and investment components, over all generators, time periods,
and demand levels. The expression is appended to <code class="docutils literal notranslate"><span class="pre">cost_array</span></code> to allow
aggregation with other subsystem costs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model containing generator-related sets, variables, and parameters.</p></li>
<li><p><strong>cost_array</strong> (<em>list</em><em> of </em><em>pyomo expressions</em>) â€“ List to which the total generator cost expression will be appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same list, extended with the generator cost expression.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of pyomo expressions</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The total generation cost is defined as:</p>
<div class="math notranslate nohighlight">
\[C_{gen} =
\sum_{g,t,p} h_p \, c^{op}_g \, P_{g,t,p}
+ \sum_{g,t} c^{inv}_g \, x_{g,t}\]</div>
<p>where:
- <span class="math notranslate nohighlight">\(h_p\)</span> is the duration (hours) of load level <span class="math notranslate nohighlight">\(p\)</span>;
- <span class="math notranslate nohighlight">\(c^{op}_g\)</span> is the operational cost per MWh;
- <span class="math notranslate nohighlight">\(c^{inv}_g\)</span> is the investment cost per MW;
- <span class="math notranslate nohighlight">\(P_{g,t,p}\)</span> and <span class="math notranslate nohighlight">\(x_{g,t}\)</span> are decision variables.</p>
<p>The resulting expression is symbolic and compatible with Pyomo objectives.</p>
</dd></dl>

</section>
<section id="module-MDI.Generator.GeneratorObjectives">
<span id="mdi-generator-generatorobjectives-module"></span><h6>MDI.Generator.GeneratorObjectives module<a class="headerlink" href="#module-MDI.Generator.GeneratorObjectives" title="Link to this heading">ïƒ</a></h6>
<section id="generator-objectives-module">
<h6 aria-level="7">Generator Objectives Module<a class="headerlink" href="#generator-objectives-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id17">
<h6 aria-level="8">Author<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id18">
<h6 aria-level="8">Summary<a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the <strong>objective function</strong> for the generator
subsystem within the MDI framework. The formulation represents the
total operational and investment cost to be minimized across the
planning horizon.</p>
</section>
<section id="id19">
<h6 aria-level="8">Description<a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h6>
<p>The generator objective aggregates both the <strong>variable operating cost</strong>
and the <strong>investment cost</strong> associated with generator units.
The total objective function is defined as follows:</p>
<p>[
min_{P, x}
; C_{gen} =
sum_{g,t,p} ig( c^{op}_g , P_{g,t,p}
;+;
c^{inv}_g , x_{g,t} ig)
]</p>
<p>where:
- (c^{op}_g) â€” variable operating cost of generator (g);
- (c^{inv}_g) â€” investment cost of generator (g);
- (P_{g,t,p}) â€” power generated by unit (g) at time (t) and load level (p);
- (x_{g,t}) â€” binary or continuous variable indicating the generatorâ€™s active state.</p>
<p>The resulting expression is assigned as a Pyomo <cite>Objective</cite> with sense
<cite>minimize</cite>.</p>
</section>
<section id="id20">
<h6 aria-level="8">Functions<a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_generator(m)</dt><dd><p>Builds and attaches the total generator cost objective to the Pyomo model.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The objective expression is scalar and represents the sum of all
operational and investment expenditures within the generator subsystem.</p></li>
<li><p>All required variables and parameters must be defined in the model prior
to calling this function.</p></li>
<li><p>This formulation can be combined with additional objectives (e.g.,
emissions minimization, reliability indices) within a multi-objective
optimization framework.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes,</p>
<blockquote>
<div><p>EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
<section id="id21">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong> Generator data and variable definitions.</p></li>
<li><p><strong>External:</strong> <code class="docutils literal notranslate"><span class="pre">pyomo.environ</span></code> (Objective, minimize)</p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorObjectives.set_objective_generator">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorObjectives.</span></span><span class="sig-name descname"><span class="pre">set_objective_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Generator.GeneratorObjectives.set_objective_generator" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define and attach the generator cost minimization objective.</p>
<p>Constructs the total cost function for the generator subsystem,
including operational and investment costs, and registers it as
a Pyomo objective with sense of minimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing generator sets, parameters,
and decision variables.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model instance with an additional attribute <code class="docutils literal notranslate"><span class="pre">OBJ</span></code>
representing the total generator cost objective.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The objective is mathematically defined as:</p>
<div class="math notranslate nohighlight">
\[\min_{P,x} C_{gen} =
\sum_{g,t,p} ig( c^{op}_g \, P_{g,t,p}
+ c^{inv}_g \, x_{g,t} ig)\]</div>
<p>This formulation captures both operational and investment costs
across all generator units, time periods, and demand levels.</p>
</dd></dl>

</section>
<section id="module-MDI.Generator.GeneratorVars">
<span id="mdi-generator-generatorvars-module"></span><h6>MDI.Generator.GeneratorVars module<a class="headerlink" href="#module-MDI.Generator.GeneratorVars" title="Link to this heading">ïƒ</a></h6>
<section id="generator-variables-and-parameters-module">
<h6 aria-level="7">Generator Variables and Parameters Module<a class="headerlink" href="#generator-variables-and-parameters-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id22">
<h6 aria-level="8">Author<a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id23">
<h6 aria-level="8">Summary<a class="headerlink" href="#id23" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the <strong>sets</strong>, <strong>parameters</strong>, and <strong>decision variables</strong>
for the generator subsystem of the MDI optimization model.
It provides the necessary data-to-model mapping between structured input
(<cite>GeneratorData</cite>) and symbolic Pyomo model components.</p>
</section>
<section id="id24">
<h6 aria-level="8">Description<a class="headerlink" href="#id24" title="Link to this heading">ïƒ</a></h6>
<p>Two main functions are provided:</p>
<ol class="arabic simple">
<li><p><strong>`generator_add_sets_and_params()`</strong>
Initializes all sets, mappings, and scalar parameters from structured
input data. It ensures consistency between the data schema and the
modelâ€™s symbolic representation.</p></li>
<li><p><strong>`generator_add_variables()`</strong>
Defines the Pyomo decision variables representing generation levels
and investment states.</p></li>
</ol>
<p>The structure follows the standard formulation of generation expansion
and operation problems, enabling full reproducibility and modular
integration within larger system models.</p>
</section>
<section id="mathematical-representation">
<h6 aria-level="8">Mathematical Representation<a class="headerlink" href="#mathematical-representation" title="Link to this heading">ïƒ</a></h6>
<p><strong>Decision variables</strong></p>
<p>[
egin{align}
P_{g,t,p} &amp;ge 0 &amp;quad&amp;        ext{Power generated by unit } g         ext{ at time } t,       ext{ level } p y_{g,t} &amp;in {0,1} &amp;quad&amp;    ext{Investment decision for unit } g    ext{ at time } t x_{g,t} &amp;in {0,1} &amp;quad&amp;    ext{Operational state (existing) of unit } g    ext{ at time } t
end{align}
]</p>
<p><strong>Parameters</strong></p>
<p>[
egin{align}
p^{max}_g &amp;:   ext{Maximum generation capacity of unit } g c^{op}_g &amp;:     ext{Variable operational cost of unit } g c^{inv}_g &amp;:    ext{Investment cost of unit } g </p>
<blockquote>
<div><p>ext{state}_g &amp;:         ext{Initial operational status (built or not)} </p>
</div></blockquote>
<p>h_p &amp;:  ext{Duration (hours) of demand level } p
end{align}
]</p>
</section>
<section id="id25">
<h6 aria-level="8">Functions<a class="headerlink" href="#id25" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>generator_add_sets_and_params(m, data)</dt><dd><p>Initializes all sets and parameters in the model based on structured input.</p>
</dd>
<dt>generator_add_variables(m)</dt><dd><p>Defines decision variables for generation, investment, and operational state.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The resulting model components are compliant with the naming conventions
used throughout the MDI package.</p></li>
<li><p>Demand values (<cite>m.d</cite>) are retained in their dictionary structure for
compatibility with subsequent constraint and objective definitions.</p></li>
<li><p>The binary variables <cite>gen_y</cite> and <cite>gen_x</cite> can be relaxed to continuous
domains for convex approximations or LP relaxations.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes,</p>
<blockquote>
<div><p>EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
<section id="id26">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#id26" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong> <code class="docutils literal notranslate"><span class="pre">GeneratorDataTypes</span></code></p></li>
<li><p><strong>External:</strong> <code class="docutils literal notranslate"><span class="pre">pyomo.environ</span></code> (RangeSet, Set, Param, Var, NonNegativeReals, Binary)</p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorVars.generator_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorVars.</span></span><span class="sig-name descname"><span class="pre">generator_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#MDI.Generator.GeneratorDataTypes.GeneratorData" title="MDI.Generator.GeneratorDataTypes.GeneratorData"><span class="pre">GeneratorData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorVars.generator_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initialize generator-related sets and parameters in the model.</p>
<p>This function converts structured data into Pyomo components,
including time, unit, and demand level sets, as well as the
associated economic and technical parameters for each generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance to which the sets and parameters will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Generator.GeneratorDataTypes.GeneratorData" title="MDI.Generator.GeneratorDataTypes.GeneratorData"><em>GeneratorData</em></a>) â€“ Structured generator data object containing all relevant
attributes (units, demand, horizon, and level hours).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model with newly created sets, parameters, and demand data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The following components are created:</p>
<ul class="simple">
<li><p>Sets:
- <code class="docutils literal notranslate"><span class="pre">T</span></code>: time periods (1..horizon)
- <code class="docutils literal notranslate"><span class="pre">P</span></code>: load levels
- <code class="docutils literal notranslate"><span class="pre">GU</span></code>: generator units</p></li>
<li><p>Parameters:
- <code class="docutils literal notranslate"><span class="pre">gen_pmax</span></code>: maximum generation capacity (MW)
- <code class="docutils literal notranslate"><span class="pre">gen_c_op</span></code>: variable operational cost (R$/MWh)
- <code class="docutils literal notranslate"><span class="pre">gen_c_inv</span></code>: investment cost (R$/MW)
- <code class="docutils literal notranslate"><span class="pre">gen_state</span></code>: initial availability status (binary)
- <code class="docutils literal notranslate"><span class="pre">level_hours</span></code>: duration of each load level (hours)</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Generator.GeneratorVars.generator_add_variables">
<span class="sig-prename descclassname"><span class="pre">MDI.Generator.GeneratorVars.</span></span><span class="sig-name descname"><span class="pre">generator_add_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Generator.GeneratorVars.generator_add_variables" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define decision variables for the generator subsystem.</p>
<p>Creates Pyomo decision variables representing generation output,
investment decisions, and cumulative operational existence for
each generator, time period, and load level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing the sets previously defined
by <code class="docutils literal notranslate"><span class="pre">generator_add_sets_and_params</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model, extended with generator-related decision variables.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The following variables are created:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gen_P[g,t,p]</span></code> â€” Power generated by unit <em>g</em> at time <em>t</em> and level <em>p</em> (MW).
Domain: <span class="math notranslate nohighlight">\(\mathbb{R}_+\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gen_y[g,t]</span></code> â€” Binary investment decision (1 if built at <em>t</em>, 0 otherwise).
Domain: <span class="math notranslate nohighlight">\(\{0,1\}\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gen_x[g,t]</span></code> â€” Binary variable representing existing or active capacity at <em>t</em>.
Domain: <span class="math notranslate nohighlight">\(\{0,1\}\)</span></p></li>
</ul>
</dd></dl>

</section>
</section>
<span id="document-MDI.Storage"></span><section id="mdi-storage-package">
<h5>MDI.Storage package<a class="headerlink" href="#mdi-storage-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-MDI.Storage">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-MDI.Storage" title="Link to this heading">ïƒ</a></h6>
<section id="storage-subpackage">
<h6 aria-level="7">Storage Subpackage<a class="headerlink" href="#storage-subpackage" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="author">
<h6 aria-level="8">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="summary">
<h6 aria-level="8">Summary<a class="headerlink" href="#summary" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>Storage</strong> subpackage implements all the symbolic, data, and structural
components required to model the operation and expansion of <strong>energy storage systems</strong> within
the broader <strong>MDI (Modular Decision Infrastructure)</strong> optimization framework.</p>
</section>
<section id="description">
<h6 aria-level="8">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>This subpackage defines the complete representation of storage units, including
their parameters, decision variables, constraints, and cost functions, suitable
for Mixed-Integer Linear Programming (MILP) and Mixed-Integer Nonlinear Programming (MINLP)
formulations using <strong>Pyomo</strong>.</p>
</section>
<section id="modules">
<h6 aria-level="8">Modules<a class="headerlink" href="#modules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>StorageBuilder</dt><dd><p>High-level routines for constructing complete storage models.</p>
</dd>
<dt>StorageDataTypes</dt><dd><p>Data classes defining the structure and typing of storage unit data.</p>
</dd>
<dt>StorageEquations</dt><dd><p>Symbolic expressions for cost and power balance aggregation.</p>
</dd>
<dt>StorageObjective</dt><dd><p>Objective function for total storage cost minimization.</p>
</dd>
<dt>StorageVars</dt><dd><p>Model variables, sets, and parameters declaration.</p>
</dd>
</dl>
</section>
<section id="structure-overview">
<h6 aria-level="8">Structure Overview<a class="headerlink" href="#structure-overview" title="Link to this heading">ïƒ</a></h6>
<p>The <cite>Storage</cite> subpackage provides modular integration of storage subsystems
into larger system models. It follows a builder pattern to maintain
clarity and extensibility.</p>
<p>Typical usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">MDI.Storage</span><span class="w"> </span><span class="kn">import</span> <span class="n">StorageData</span><span class="p">,</span> <span class="n">StorageUnit</span><span class="p">,</span> <span class="n">build_storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">StorageData</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">build_storage</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">include_objective</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="exports">
<h6 aria-level="8">Exports<a class="headerlink" href="#exports" title="Link to this heading">ïƒ</a></h6>
<p>This <cite>__init__.py</cite> file re-exports all relevant symbols to simplify
namespace access.
Users may import either individual modules or the entire storage
subsystem directly via:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">MDI.Storage</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>All modules are compatible with <strong>Pyomo 6.x</strong>.</p></li>
<li><p>Energy and power units follow the SI convention (MWh, MW).</p></li>
<li><p>Cost parameters are assumed to be in consistent monetary units.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<section id="submodules">
<h6>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-MDI.Storage.StorageBuilder">
<span id="mdi-storage-storagebuilder-module"></span><h6>MDI.Storage.StorageBuilder module<a class="headerlink" href="#module-MDI.Storage.StorageBuilder" title="Link to this heading">ïƒ</a></h6>
<section id="storage-builder-module">
<h6 aria-level="7">Storage Builder Module<a class="headerlink" href="#storage-builder-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id1">
<h6 aria-level="8">Author<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id2">
<h6 aria-level="8">Summary<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the construction logic of the <strong>energy storage subsystem</strong>
within the MDI optimization framework. It provides high-level builder functions
that assemble the complete storage model â€” including sets, parameters,
variables, constraints, and the objective function â€” from structured input data.</p>
</section>
<section id="id3">
<h6 aria-level="8">Description<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>Two functions are defined in this module:</p>
<ol class="arabic simple">
<li><p><strong>`build_storage(data, include_objective=True)`</strong>
Creates and initializes a standalone Pyomo model for the storage subsystem,
suitable for testing or modular integration.</p></li>
<li><p><strong>`add_storage_problem(m, data, include_objective=False)`</strong>
Extends an existing Pyomo model with the complete storage problem definition,
including constraints and (optionally) the objective function.</p></li>
</ol>
<p>The builder integrates all necessary symbolic components:
sets and parameters, decision variables, constraints on power,
energy balance, state-of-charge (SoC), and investment logic.</p>
</section>
<section id="mathematical-overview">
<h6 aria-level="8">Mathematical Overview<a class="headerlink" href="#mathematical-overview" title="Link to this heading">ïƒ</a></h6>
<p>The storage subsystem typically includes the following formulations:</p>
<p><strong>Energy balance</strong>
[
E_{t} = E_{t-1} + eta_c P^{ch}_{t} -
rac{1}{eta_d} P^{dis}_{t}
]</p>
<p><strong>Power limits</strong>
[
0 leq P^{ch}_{t}, P^{dis}_{t} leq P^{max} , x_{t}
]</p>
<p><strong>State of charge bounds</strong>
[
E^{min} leq E_{t} leq E^{max}
]</p>
<p><strong>Investment linkage</strong>
[
x_{t} = x_{t-1} + y_{t}
]</p>
<p>where:
- (E_t): energy stored at period <em>t</em>
- (P^{ch}_t, P^{dis}_t): charging/discharging power
- (eta_c, eta_d): charging/discharging efficiencies
- (x_t, y_t): operational and investment binary decisions</p>
</section>
<section id="functions">
<h6 aria-level="8">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>build_storage(data, include_objective=True)</dt><dd><p>Creates and returns a complete Pyomo model for the storage subsystem.</p>
</dd>
<dt>add_storage_problem(m, data, include_objective=False)</dt><dd><p>Adds the storage problem definition to an existing model.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The <cite>include_objective</cite> flag controls whether the subsystem-level
objective (minimization of total storage cost) is included.</p></li>
<li><p>The modular structure mirrors that of the generator subsystem
to ensure composability within hybrid systems (hydrothermal or
generation-storage models).</p></li>
<li><p>All internal components (sets, variables, constraints) are
imported from specialized modules to maintain separation of concerns.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes,</p>
<blockquote>
<div><p>EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
<section id="module-dependencies">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#module-dependencies" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong>
- <code class="docutils literal notranslate"><span class="pre">StorageDataTypes</span></code>
- <code class="docutils literal notranslate"><span class="pre">StorageObjective</span></code>
- <code class="docutils literal notranslate"><span class="pre">StorageVars</span></code>
- <code class="docutils literal notranslate"><span class="pre">StorageConstraints</span></code></p></li>
<li><p><strong>External:</strong>
- <code class="docutils literal notranslate"><span class="pre">pyomo.environ</span></code> (ConcreteModel, Objective, minimize)</p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageBuilder.add_storage_problem">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageBuilder.</span></span><span class="sig-name descname"><span class="pre">add_storage_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><span class="pre">StorageData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Storage.StorageBuilder.add_storage_problem" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the complete storage problem definition to a given model.</p>
<p>Extends an existing Pyomo model with the full symbolic formulation of
the energy storage subsystem, including all relevant constraints and,
optionally, the objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model to which the storage subsystem will be appended.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><em>StorageData</em></a>) â€“ Structured data object defining all storage parameters and time horizon.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, includes the storage cost minimization objective. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model instance extended with storage sets, variables,
constraints, and (optionally) the objective function.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The following constraints are added to the model:
- Power limits (charging/discharging capacity)
- Energy balance (state-of-charge dynamics)
- Investment linkage (capacity expansion logic)
- SoC bounds (minimum and maximum limits)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageBuilder.build_storage">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageBuilder.</span></span><span class="sig-name descname"><span class="pre">build_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><span class="pre">StorageData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_objective</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Storage.StorageBuilder.build_storage" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build a standalone Pyomo model for the storage subsystem.</p>
<p>This function creates a new ConcreteModel instance and populates it
with all the sets, parameters, variables, and constraints required to
represent an energy storage unit within the optimization framework.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><em>StorageData</em></a>) â€“ Structured input data describing storage characteristics and parameters.</p></li>
<li><p><strong>include_objective</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ If True, includes the subsystem objective function. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A fully defined storage model ready for integration or standalone analysis.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.Storage.StorageConstraints">
<span id="mdi-storage-storageconstraints-module"></span><h6>MDI.Storage.StorageConstraints module<a class="headerlink" href="#module-MDI.Storage.StorageConstraints" title="Link to this heading">ïƒ</a></h6>
<section id="storage-constraints-module">
<h6 aria-level="7">Storage Constraints Module<a class="headerlink" href="#storage-constraints-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id4">
<h6 aria-level="8">Author<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id5">
<h6 aria-level="8">Summary<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>This module defines all <strong>physical and operational constraints</strong> for the
energy storage subsystem of the MDI optimization model.
It ensures consistency between energy balance, power limits, state-of-charge
(SoC) boundaries, and investment linkage dynamics.</p>
</section>
<section id="id6">
<h6 aria-level="8">Description<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<p>Four main constraint groups are provided:</p>
<ol class="arabic simple">
<li><p><strong>Energy Balance Constraint</strong>
Ensures conservation of stored energy over time, accounting for
charging/discharging power and round-trip efficiency.</p></li>
<li><p><strong>SoC Bounds Constraint</strong>
Enforces upper and lower limits on the energy stored as a function
of installed capacity and operational state.</p></li>
<li><p><strong>Power Limits Constraint</strong>
Restricts the charging and discharging power to their respective
maximum values.</p></li>
<li><p><strong>Investment Link Constraint</strong>
Links investment decisions with the operational availability of
storage units across time.</p></li>
</ol>
</section>
<section id="mathematical-formulation">
<h6 aria-level="8">Mathematical Formulation<a class="headerlink" href="#mathematical-formulation" title="Link to this heading">ïƒ</a></h6>
<p><strong>Energy balance</strong>
[
E_{s,t} = E_{s,t-1} +
eta_c P^{ch}_{s,t} Delta t -</p>
<p>rac{P^{dis}_{s,t}}{eta_d} Delta t
]</p>
<p><strong>SoC bounds</strong>
[
E^{min}_s x_{s,t} leq E_{s,t} leq E^{max}_s x_{s,t}
]</p>
<p><strong>Power limits</strong>
[
0 leq P^{ch}_{s,t} leq P^{ch,max}_s x_{s,t}
quad   ext{and}quad
0 leq P^{dis}_{s,t} leq P^{dis,max}_s x_{s,t}
]</p>
<p><strong>Investment linkage</strong>
[
x_{s,t} = x_{s,t-1} + y_{s,t}
]</p>
<p>where:
- (E_{s,t}) â€” state of charge (MWh)
- (P^{ch}_{s,t}), (P^{dis}_{s,t}) â€” charging/discharging power (MW)
- (eta_c, eta_d) â€” charging/discharging efficiencies
- (x_{s,t}) â€” operational existence of storage unit (s)
- (y_{s,t}) â€” binary investment decision
- (Delta t) â€” duration of time step (hours)</p>
</section>
<section id="id7">
<h6 aria-level="8">Functions<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_storage_energy_balance_constraint(m)</dt><dd><p>Adds the intertemporal energy conservation constraint.</p>
</dd>
<dt>add_storage_soc_bounds_constraint(m)</dt><dd><p>Adds the upper and lower bounds on the state of charge.</p>
</dd>
<dt>add_storage_power_limits_constraint(m)</dt><dd><p>Adds the power limit constraints for charging and discharging.</p>
</dd>
<dt>add_storage_investment_link_constraint(m)</dt><dd><p>Adds the investment linkage constraint ensuring logical consistency
between existence and new builds.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The formulation assumes uniform time steps ((Delta t)) across the horizon.</p></li>
<li><p>Charging and discharging are modeled as separate nonnegative variables.</p></li>
<li><p>Constraints are fully compatible with multi-level (patamar) formulations.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes,</p>
<blockquote>
<div><p>EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
<section id="id8">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>External:</strong> <code class="docutils literal notranslate"><span class="pre">pyomo.environ.Constraint</span></code></p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageConstraints.add_storage_energy_balance_constraint">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_energy_balance_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Storage.StorageConstraints.add_storage_energy_balance_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the state-of-charge (SoC) energy balance constraint.</p>
<p>Defines the recursive relationship for the stored energy as a function
of previous state, charging/discharging flows, efficiencies, and
time-step duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing storage-related sets, variables,
and parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model with the energy balance constraint added.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageConstraints.add_storage_investment_link_constraint">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_investment_link_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Storage.StorageConstraints.add_storage_investment_link_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the investment linkage constraint for storage units.</p>
<p>Defines the relationship between construction decisions and
operational availability across time periods.
Ensures that the existence variable accumulates investments
over the planning horizon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing the investment and operational variables.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model with investment linkage and initial-state constraints applied.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageConstraints.add_storage_power_limits_constraint">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_power_limits_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Storage.StorageConstraints.add_storage_power_limits_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add charging and discharging power limit constraints.</p>
<p>Ensures that the charging and discharging power of each storage
unit does not exceed its respective rated capacity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance with storage-related variables and parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model with charging and discharging power limits enforced.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageConstraints.add_storage_soc_bounds_constraint">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageConstraints.</span></span><span class="sig-name descname"><span class="pre">add_storage_soc_bounds_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Storage.StorageConstraints.add_storage_soc_bounds_constraint" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add upper and lower bounds on the state of charge (SoC).</p>
<p>Enforces that the stored energy remains within defined physical
limits as a function of the installed capacity and operational state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing storage sets, variables, and parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model with SoC boundary constraints applied.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.Storage.StorageDataTypes">
<span id="mdi-storage-storagedatatypes-module"></span><h6>MDI.Storage.StorageDataTypes module<a class="headerlink" href="#module-MDI.Storage.StorageDataTypes" title="Link to this heading">ïƒ</a></h6>
<section id="storage-data-types-module">
<h6 aria-level="7">Storage Data Types Module<a class="headerlink" href="#storage-data-types-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id9">
<h6 aria-level="8">Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h6 aria-level="8">Summary<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the fundamental <strong>data structures</strong> that describe
the technical, economic, and operational attributes of <strong>energy storage units</strong>.
It serves as the foundation for building symbolic Pyomo models used in
optimization formulations for system operation and expansion.</p>
</section>
<section id="id11">
<h6 aria-level="8">Description<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>Two main dataclasses are defined:</p>
<ol class="arabic simple">
<li><p><strong>`StorageUnit`</strong>
Represents a single energy storage unit, including its operational
parameters, efficiency characteristics, and economic coefficients.</p></li>
<li><p><strong>`StorageData`</strong>
Aggregates all input data required to formulate a storage optimization
problem, including horizon definition, demand, level duration,
and a collection of <cite>StorageUnit</cite> instances.</p></li>
</ol>
<p>Both classes provide a lightweight, strongly typed data interface for
Pythonâ€“Pyomo integration, facilitating modular problem definition
and reproducible experiment design.</p>
</section>
<section id="mathematical-interpretation">
<h6 aria-level="8">Mathematical Interpretation<a class="headerlink" href="#mathematical-interpretation" title="Link to this heading">ïƒ</a></h6>
<p>Each storage unit <em>s</em> is characterized by:</p>
<ul class="simple">
<li><p>( E_{min}, E_{max}, E_{ini} ): Minimum, maximum, and initial energy levels.</p></li>
<li><p>( P^{ch}_{max}, P^{dis}_{max} ): Maximum charging and discharging powers.</p></li>
<li><p>( eta_c, eta_d ): Charging and discharging efficiencies.</p></li>
<li><p>( c_{op}, c_{inv} ): Operating and investment costs.</p></li>
<li><p>( state ): Binary indicator of existing capacity (0 or 1).</p></li>
</ul>
<p>The <cite>StorageData</cite> structure encapsulates:</p>
<ul class="simple">
<li><p>Temporal horizon ( T )</p></li>
<li><p>Demand curves by patamar and time</p></li>
<li><p>Duration of load levels (in hours)</p></li>
<li><p>Dictionary of <cite>StorageUnit</cite> definitions.</p></li>
</ul>
</section>
<section id="usage">
<h6 aria-level="8">Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h6>
<p>Instances of <cite>StorageData</cite> are typically created from preprocessed
input datasets and passed directly to model-construction functions such as:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">.StorageBuilder</span><span class="w"> </span><span class="kn">import</span> <span class="n">build_storage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">build_storage</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">storage_data</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="classes">
<h6 aria-level="8">Classes<a class="headerlink" href="#classes" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>StorageUnit</dt><dd><p>Defines the parameters of a single storage unit.</p>
</dd>
<dt>StorageData</dt><dd><p>Encapsulates all data required for the formulation of the storage problem.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This data structure is <strong>independent of Pyomo</strong> and can be serialized
or deserialized to JSON for reproducibility.</p></li>
<li><p>Units follow the SI convention: MWh for energy, MW for power, and
monetary units for costs.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C., <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>,</p>
<blockquote>
<div><p>Lecture Notes, EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageDataTypes.</span></span><span class="sig-name descname"><span class="pre">StorageData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">horizon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">demand</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level_hours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageUnit" title="MDI.Storage.StorageDataTypes.StorageUnit"><span class="pre">StorageUnit</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageData" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Aggregates all data required for the storage optimization problem.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageData.horizon">
<span class="sig-name descname"><span class="pre">horizon</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageData.horizon" title="Link to this definition">ïƒ</a></dt>
<dd><p>Number of discrete time periods in the planning horizon.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageData.demand">
<span class="sig-name descname"><span class="pre">demand</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageData.demand" title="Link to this definition">ïƒ</a></dt>
<dd><p>Dictionary of demand profiles, organized by
patamar and time index.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, List[float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageData.level_hours">
<span class="sig-name descname"><span class="pre">level_hours</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageData.level_hours" title="Link to this definition">ïƒ</a></dt>
<dd><p>Duration (in hours) associated with each demand level.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageData.delta_t">
<span class="sig-name descname"><span class="pre">delta_t</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageData.delta_t" title="Link to this definition">ïƒ</a></dt>
<dd><p>Time step (years) used in the energy balance equations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageData.units">
<span class="sig-name descname"><span class="pre">units</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageData.units" title="Link to this definition">ïƒ</a></dt>
<dd><p>Dictionary of storage units indexed by their identifiers.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageUnit" title="MDI.Storage.StorageDataTypes.StorageUnit">StorageUnit</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">delta_t</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id0" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">demand</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id12" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">horizon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#id13" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">level_hours</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id14" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageUnit" title="MDI.Storage.StorageDataTypes.StorageUnit"><span class="pre">StorageUnit</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#id15" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageDataTypes.</span></span><span class="sig-name descname"><span class="pre">StorageUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_inv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Emin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Emax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Eini</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pch_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pdis_max</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta_c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eta_d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit" title="Link to this definition">ïƒ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines the parameters of a single storage unit.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.name" title="Link to this definition">ïƒ</a></dt>
<dd><p>Identifier of the storage unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.state">
<span class="sig-name descname"><span class="pre">state</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.state" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initial state (0 = not installed, 1 = existing).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.c_op">
<span class="sig-name descname"><span class="pre">c_op</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.c_op" title="Link to this definition">ïƒ</a></dt>
<dd><p>Operational cost (per MWh of discharge or equivalent).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.c_inv">
<span class="sig-name descname"><span class="pre">c_inv</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.c_inv" title="Link to this definition">ïƒ</a></dt>
<dd><p>Investment cost (annualized).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.Emin">
<span class="sig-name descname"><span class="pre">Emin</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.Emin" title="Link to this definition">ïƒ</a></dt>
<dd><p>Minimum stored energy capacity (MWh).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.Emax">
<span class="sig-name descname"><span class="pre">Emax</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.Emax" title="Link to this definition">ïƒ</a></dt>
<dd><p>Maximum stored energy capacity (MWh).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.Eini">
<span class="sig-name descname"><span class="pre">Eini</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.Eini" title="Link to this definition">ïƒ</a></dt>
<dd><p>Initial stored energy at the beginning of the horizon (MWh).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.Pch_max">
<span class="sig-name descname"><span class="pre">Pch_max</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.Pch_max" title="Link to this definition">ïƒ</a></dt>
<dd><p>Maximum charging power (MW).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.Pdis_max">
<span class="sig-name descname"><span class="pre">Pdis_max</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.Pdis_max" title="Link to this definition">ïƒ</a></dt>
<dd><p>Maximum discharging power (MW).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.eta_c">
<span class="sig-name descname"><span class="pre">eta_c</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.eta_c" title="Link to this definition">ïƒ</a></dt>
<dd><p>Charging efficiency (fraction between 0 and 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="MDI.Storage.StorageDataTypes.StorageUnit.eta_d">
<span class="sig-name descname"><span class="pre">eta_d</span></span><a class="headerlink" href="#MDI.Storage.StorageDataTypes.StorageUnit.eta_d" title="Link to this definition">ïƒ</a></dt>
<dd><p>Discharging efficiency (fraction between 0 and 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">Eini</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id16" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">Emax</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id17" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">Emin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id18" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id19">
<span class="sig-name descname"><span class="pre">Pch_max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id19" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id20">
<span class="sig-name descname"><span class="pre">Pdis_max</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id20" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id21">
<span class="sig-name descname"><span class="pre">c_inv</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id21" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id22">
<span class="sig-name descname"><span class="pre">c_op</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id22" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id23">
<span class="sig-name descname"><span class="pre">eta_c</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id23" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id24">
<span class="sig-name descname"><span class="pre">eta_d</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id24" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id25">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#id25" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id26">
<span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#id26" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-MDI.Storage.StorageEquations">
<span id="mdi-storage-storageequations-module"></span><h6>MDI.Storage.StorageEquations module<a class="headerlink" href="#module-MDI.Storage.StorageEquations" title="Link to this heading">ïƒ</a></h6>
<section id="storage-equations-module">
<h6 aria-level="7">Storage Equations Module<a class="headerlink" href="#storage-equations-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id27">
<h6 aria-level="8">Author<a class="headerlink" href="#id27" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id28">
<h6 aria-level="8">Summary<a class="headerlink" href="#id28" title="Link to this heading">ïƒ</a></h6>
<p>This module defines <strong>symbolic expressions</strong> for energy storage subsystems,
used in the model composition phase to aggregate costs and power balances.
It provides reusable components for constructing higher-level formulations
(e.g., integrated generationâ€“storageâ€“transmission systems).</p>
</section>
<section id="id29">
<h6 aria-level="8">Description<a class="headerlink" href="#id29" title="Link to this heading">ïƒ</a></h6>
<p>Two main symbolic functions are defined:</p>
<ol class="arabic simple">
<li><p><strong>`add_storage_cost_expression()`</strong>
Builds the total operational and investment cost expression of all
storage units and appends it to a global cost array.</p></li>
<li><p><strong>`add_storage_balance_expression()`</strong>
Builds the net energy balance expression (discharge minus charge)
to represent the effective contribution of storage units to the system
power balance in each time step and load level.</p></li>
</ol>
<p>These expressions are not constraints by themselves, but <strong>building blocks</strong>
that can be embedded in multi-component optimization formulations.</p>
</section>
<section id="id30">
<h6 aria-level="8">Mathematical Formulation<a class="headerlink" href="#id30" title="Link to this heading">ïƒ</a></h6>
<p>1. <strong>Cost Expression</strong>
[
C_{storage} =
sum_{s in SU} sum_{t in T} sum_{p in P}
h_p , c^{op}_s , (P^{ch}_{s,t,p} + P^{dis}_{s,t,p})
+ sum_{s in SU} sum_{t in T}
c^{inv}_s , x_{s,t}
]</p>
<p>2. <strong>Balance Expression</strong>
[
B_{storage}(t,p) =
sum_{s in SU} eta_d , P^{dis}_{s,t,p}
-
rac{1}{eta_c} , P^{ch}_{s,t,p}
]</p>
<p>where:</p>
<div class="line-block">
<div class="line">Symbol | Description |</div>
</div>
<p><a href="#id44"><span class="problematic" id="id45">|:--------|</span></a>:â€”â€”â€”â€”|
| (h_p) | Duration of load level (p) (hours) |
| (c^{op}_s) | Operational cost per MWh |
| (c^{inv}_s) | Investment cost |
| (P^{ch}_{s,t,p}), (P^{dis}_{s,t,p}) | Charging/discharging power (MW) |
| (eta_c, eta_d) | Charging/discharging efficiencies |
| (x_{s,t}) | Binary existence variable |
| (SU, T, P) | Sets of storage units, time periods, and load levels |</p>
</section>
<section id="id31">
<h6 aria-level="8">Functions<a class="headerlink" href="#id31" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_storage_cost_expression(m, cost_array)</dt><dd><p>Appends the total storage cost expression to a given list of cost terms.</p>
</dd>
<dt>add_storage_balance_expression(m, t, p, balance_array)</dt><dd><p>Appends the net storage power balance expression (discharge â€“ charge)
to a given list of balance terms.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The functions <strong>do not create Pyomo constraints</strong>; they only define symbolic
expressions that can be aggregated later.</p></li>
<li><p>Each expression is appended to an externally provided list (e.g. <cite>cost_array</cite>),
allowing modular model assembly.</p></li>
<li><p>The caller must ensure that all required model attributes exist before invocation.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C., <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>,</p>
<blockquote>
<div><p>Lecture Notes, EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
<section id="id32">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#id32" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong> None</p></li>
<li><p><strong>External:</strong> <cite>pyomo.environ</cite>, <cite>typing</cite></p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageEquations.add_storage_balance_expression">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageEquations.</span></span><span class="sig-name descname"><span class="pre">add_storage_balance_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Storage.StorageEquations.add_storage_balance_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the net storage balance expression to the balance array.</p>
<p>The expression represents the net contribution of storage units
to the system power balance in each time period and load level,
considering both charge and discharge efficiencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing the relevant storage variables and parameters.</p></li>
<li><p><strong>t</strong> (<em>Any</em>) â€“ Time index for which the balance expression is computed.</p></li>
<li><p><strong>p</strong> (<em>Any</em>) â€“ Load level index corresponding to the current balance term.</p></li>
<li><p><strong>balance_array</strong> (<em>list</em><em> of </em><em>Any</em>) â€“ External list to which the resulting expression will be appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list of balance expressions including the storage term.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageEquations.add_storage_capacity_expression">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageEquations.</span></span><span class="sig-name descname"><span class="pre">add_storage_capacity_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capacity_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Storage.StorageEquations.add_storage_capacity_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the net storage capacity expression to the capacity array.</p>
<p>The expression represents the net contribution of storage units
to the system capacity in each time period and load level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing the relevant storage variables and parameters.</p></li>
<li><p><strong>t</strong> (<em>Any</em>) â€“ Time index for which the capacity expression is computed.</p></li>
<li><p><strong>p</strong> (<em>Any</em>) â€“ Load level index corresponding to the current capacity term.</p></li>
<li><p><strong>capacity_array</strong> (<em>list</em><em> of </em><em>Any</em>) â€“ External list to which the resulting expression will be appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list of capacity expressions including the storage term.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageEquations.add_storage_cost_expression">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageEquations.</span></span><span class="sig-name descname"><span class="pre">add_storage_cost_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Storage.StorageEquations.add_storage_cost_expression" title="Link to this definition">ïƒ</a></dt>
<dd><p>Add the total cost expression of all storage units to the cost array.</p>
<p>The expression combines operational and investment costs across all
time periods and load levels, weighted by load duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing sets, parameters, and variables
of the storage subsystem.</p></li>
<li><p><strong>cost_array</strong> (<em>list</em><em> of </em><em>Any</em>) â€“ External list to which the resulting cost expression will be appended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated list of cost expressions including the storage cost term.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of Any</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.Storage.StorageObjective">
<span id="mdi-storage-storageobjective-module"></span><h6>MDI.Storage.StorageObjective module<a class="headerlink" href="#module-MDI.Storage.StorageObjective" title="Link to this heading">ïƒ</a></h6>
<section id="storage-objective-function-module">
<h6 aria-level="7">Storage Objective Function Module<a class="headerlink" href="#storage-objective-function-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id33">
<h6 aria-level="8">Author<a class="headerlink" href="#id33" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id34">
<h6 aria-level="8">Summary<a class="headerlink" href="#id34" title="Link to this heading">ïƒ</a></h6>
<p>This module defines the <strong>objective function</strong> for the energy storage subsystem,
used in the Mixed-Integer Linear Programming (MILP) formulation of the
operation and expansion planning problem.</p>
</section>
<section id="id35">
<h6 aria-level="8">Description<a class="headerlink" href="#id35" title="Link to this heading">ïƒ</a></h6>
<p>The objective function represents the <strong>total system cost</strong> associated
with the operation and investment of storage units.
It aggregates two main cost components:</p>
<ol class="arabic simple">
<li><p><strong>Operational Cost (c_op)</strong> â€” proportional to the total amount of energy moved
(charging and discharging), weighted by the duration of each load level.</p></li>
<li><p><strong>Investment Cost (c_inv)</strong> â€” proportional to the existence of installed
capacity throughout the planning horizon.</p></li>
</ol>
<p>Both cost components are expressed as additive terms in a global minimization
objective, consistent with standard formulations in expansion planning models.</p>
</section>
<section id="id36">
<h6 aria-level="8">Mathematical Formulation<a class="headerlink" href="#id36" title="Link to this heading">ïƒ</a></h6>
<p>The objective function is defined as:</p>
<p>[
min ; Z =
sum_{s in SU} sum_{t in T} sum_{p in P}</p>
<blockquote>
<div><p>h_p , c^{op}_s , (P^{ch}_{s,t,p} + P^{dis}_{s,t,p})</p>
</div></blockquote>
<ul class="simple">
<li><p>sum_{s in SU} sum_{t in T}
c^{inv}_s , x_{s,t}</p></li>
</ul>
<p>]</p>
<p>where:</p>
<div class="line-block">
<div class="line">Symbol | Description |</div>
</div>
<p><a href="#id46"><span class="problematic" id="id47">|:--------|</span></a>:â€”â€”â€”â€”|
| (h_p) | Duration of load level (p) (hours) |
| (c^{op}_s) | Operational cost of unit (s) (per MWh) |
| (c^{inv}_s) | Investment cost of unit (s) |
| (P^{ch}_{s,t,p}) | Charging power (MW) |
| (P^{dis}_{s,t,p}) | Discharging power (MW) |
| (x_{s,t}) | Binary existence variable |
| (SU, T, P) | Sets of storage units, time steps, and load levels |</p>
</section>
<section id="id37">
<h6 aria-level="8">Functions<a class="headerlink" href="#id37" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>set_objective_storage(m)</dt><dd><p>Adds the objective function to the Pyomo model, minimizing total storage costs.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The function assumes that all sets, parameters, and variables
have already been defined (typically via <cite>storage_add_sets_and_params</cite>
and <cite>storage_add_variables</cite>).</p></li>
<li><p>Units are consistent with the rest of the framework:
MW for power, MWh for energy, and monetary units for costs.</p></li>
<li><p>The resulting objective is fully compatible with mixed-integer solvers
such as CBC, GLPK, or commercial solvers (Gurobi, CPLEX).</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes, UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageObjective.set_objective_storage">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageObjective.</span></span><span class="sig-name descname"><span class="pre">set_objective_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Storage.StorageObjective.set_objective_storage" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define the total cost minimization objective for the storage subsystem.</p>
<p>This function constructs a Pyomo <cite>Objective</cite> expression that
aggregates operational and investment costs for all storage units
across time steps and load levels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance containing all sets, parameters, and variables
related to the storage subsystem.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The same model instance, now with an attached objective function
named <cite>OBJ</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># (Assume sets and parameters already defined)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_objective_storage</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">OBJ</span><span class="o">.</span><span class="n">sense</span><span class="p">)</span>
<span class="go">minimize</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-MDI.Storage.StorageVars">
<span id="mdi-storage-storagevars-module"></span><h6>MDI.Storage.StorageVars module<a class="headerlink" href="#module-MDI.Storage.StorageVars" title="Link to this heading">ïƒ</a></h6>
<section id="storage-variables-and-parameters-module">
<h6 aria-level="7">Storage Variables and Parameters Module<a class="headerlink" href="#storage-variables-and-parameters-module" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id38">
<h6 aria-level="8">Author<a class="headerlink" href="#id38" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id39">
<h6 aria-level="8">Summary<a class="headerlink" href="#id39" title="Link to this heading">ïƒ</a></h6>
<p>This module defines all <strong>sets, parameters, and decision variables</strong>
related to the <strong>energy storage subsystem</strong> of the MDI optimization framework.
It provides the symbolic foundation required by the storage constraints
and objective function.</p>
</section>
<section id="id40">
<h6 aria-level="8">Description<a class="headerlink" href="#id40" title="Link to this heading">ïƒ</a></h6>
<p>Two main functions are implemented:</p>
<ol class="arabic simple">
<li><p><strong>`storage_add_sets_and_params(m, data)`</strong>
Initializes all Pyomo sets and parameters related to the storage units,
including physical limits, efficiencies, operational costs, and time structure.</p></li>
<li><p><strong>`storage_add_variables(m)`</strong>
Declares the decision variables for charging, discharging,
energy state, and investment decisions.</p></li>
</ol>
<p>The storage formulation supports a <strong>multi-patamar (load level)</strong> representation
and can be embedded seamlessly within larger optimization systems
that couple generation, transmission, and storage components.</p>
</section>
<section id="id41">
<h6 aria-level="8">Mathematical Overview<a class="headerlink" href="#id41" title="Link to this heading">ïƒ</a></h6>
<p><strong>Continuous variables</strong>
[
egin{align}
E_{s,t,p} &amp;ge 0 quad &amp;        ext{(stored energy)} P^{ch}_{s,t,p} &amp;ge 0 quad &amp;   ext{(charging power)} P^{dis}_{s,t,p} &amp;ge 0 quad &amp;  ext{(discharging power)}
end{align}
]</p>
<p><strong>Binary variables</strong>
[
egin{align}
x_{s,t} &amp;in {0,1} quad &amp;    ext{(existence of unit)} y_{s,t} &amp;in {0,1} quad &amp;    ext{(investment decision)}
end{align}
]</p>
<p>Parameters are defined for:
- Energy bounds (E^{min}, E^{max}, E^{ini})
- Power limits (P^{ch,max}, P^{dis,max})
- Efficiencies (eta_c, eta_d)
- Costs (c_{op}, c_{inv})
- State (x_{0})
- Duration of time step (Delta t)</p>
</section>
<section id="id42">
<h6 aria-level="8">Functions<a class="headerlink" href="#id42" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>storage_add_sets_and_params(m, data)</dt><dd><p>Define the sets and parameters related to the storage subsystem.</p>
</dd>
<dt>storage_add_variables(m)</dt><dd><p>Define the decision variables associated with energy, power, and investment.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The function automatically initializes missing time and patamar sets (<cite>m.T</cite>, <cite>m.P</cite>)
when they are not yet defined in the parent model.</p></li>
<li><p>The formulation is fully compatible with a mixed-integer linear structure (MILP).</p></li>
<li><p>The energy is represented in MWh, power in MW, and costs in monetary units.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>, Lecture Notes,</p>
<blockquote>
<div><p>EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
<section id="id43">
<h6 aria-level="8">Module Dependencies<a class="headerlink" href="#id43" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p><strong>Internal:</strong> <code class="docutils literal notranslate"><span class="pre">StorageDataTypes</span></code></p></li>
<li><p><strong>External:</strong> <code class="docutils literal notranslate"><span class="pre">pyomo.environ</span></code> (RangeSet, Set, Param, Var, NonNegativeReals, Binary, ConcreteModel)</p></li>
</ul>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageVars.storage_add_sets_and_params">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageVars.</span></span><span class="sig-name descname"><span class="pre">storage_add_sets_and_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><span class="pre">StorageData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Storage.StorageVars.storage_add_sets_and_params" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define the sets and parameters for the storage subsystem.</p>
<p>Initializes all symbolic structures needed for the storage model,
including time horizon, load levels, physical parameters, and
investment-related costs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance to which sets and parameters will be added.</p></li>
<li><p><strong>data</strong> (<a class="reference internal" href="#MDI.Storage.StorageDataTypes.StorageData" title="MDI.Storage.StorageDataTypes.StorageData"><em>StorageData</em></a>) â€“ Structured data object containing the full specification of
the storage units and demand profiles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model instance with all sets and parameters defined.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Storage.StorageVars.storage_add_variables">
<span class="sig-prename descclassname"><span class="pre">MDI.Storage.StorageVars.</span></span><span class="sig-name descname"><span class="pre">storage_add_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Storage.StorageVars.storage_add_variables" title="Link to this definition">ïƒ</a></dt>
<dd><p>Define the decision variables for the storage subsystem.</p>
<p>Includes continuous and binary variables representing:
- Energy stored
- Charging/discharging power
- Construction and operational existence decisions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>m</strong> (<em>pyomo.environ.ConcreteModel</em>) â€“ Pyomo model instance where variables will be defined.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The model instance with all storage-related variables declared.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyomo.environ.ConcreteModel</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<span id="document-MDI.cli"></span><section id="mdi-cli-package">
<h5>MDI.cli package<a class="headerlink" href="#mdi-cli-package" title="Link to this heading">ïƒ</a></h5>
<section id="module-MDI.cli">
<span id="module-contents"></span><h6>Module contents<a class="headerlink" href="#module-MDI.cli" title="Link to this heading">ïƒ</a></h6>
<section id="naivepydessem-cli-subpackage">
<h6 aria-level="7">NaivePyDESSEM â€“ CLI Subpackage<a class="headerlink" href="#naivepydessem-cli-subpackage" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="author">
<h6 aria-level="8">Author<a class="headerlink" href="#author" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="description">
<h6 aria-level="8">Description<a class="headerlink" href="#description" title="Link to this heading">ïƒ</a></h6>
<p>This subpackage contains the command-line interface (CLI) utilities for
the <strong>NaivePyDESSEM</strong> project. It enables interactive and scripted execution
of core workflows such as solving dispatch models and visualizing results,
without requiring direct code interaction.</p>
</section>
<section id="modules">
<h6 aria-level="8">Modules<a class="headerlink" href="#modules" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>cli.py</dt><dd><p>Solver CLI entry point. Loads a YAML case file, builds and solves the model,
and exports dispatch results to a spreadsheet.</p>
</dd>
<dt>plot_cli.py</dt><dd><p>Interactive and scriptable plotting/export interface. Allows users to load
dispatch data from files, select categories, and export LaTeX tables or
visual plots (bar or line).</p>
</dd>
</dl>
</section>
<section id="features">
<h6 aria-level="8">Features<a class="headerlink" href="#features" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Modular CLI design for pedagogical workflows.</p></li>
<li><p>Integration with Colorama for enhanced terminal output.</p></li>
<li><p>Supports interactive prompts and fully scriptable modes.</p></li>
<li><p>Compatible with <em>.csv</em>, <em>.xlsx</em>, and <em>.parquet</em> formats.</p></li>
<li><p>Export options include LaTeX tables (with styling) and high-quality plots.</p></li>
</ul>
</section>
<section id="example-usage">
<h6 aria-level="8">Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading">ïƒ</a></h6>
<p>Solve a dispatch case and export results to CSV:</p>
<blockquote>
<div><p>$ python -m NaivePyDESSEM.CLI.cli_solve case.yaml â€“out_dir results â€“out_file output.csv</p>
</div></blockquote>
<p>Export selected results as LaTeX table and plots:</p>
<blockquote>
<div><p>$ python -m NaivePyDESSEM.CLI.cli_plot results/output.csv â€“mode table -c G Q V â€“out_dir latex â€“out_file table.tex</p>
</div></blockquote>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The CLI scripts are intended for instructional use in energy systems modeling.</p></li>
<li><p>Users can extend or modify CLI logic to accommodate other workflows or backends.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#NaivePyDESSEM.Solver.solve" title="NaivePyDESSEM.Solver.solve"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDESSEM.Solver.solve</span></code></a></dt><dd><p>Model construction and solving routine.</p>
</dd>
<dt><a class="reference internal" href="#module-NaivePyDESSEM.DataFrames" title="NaivePyDESSEM.DataFrames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDESSEM.DataFrames</span></code></a></dt><dd><p>Functions for assembling dispatch outputs.</p>
</dd>
<dt><a class="reference internal" href="#module-NaivePyDESSEM.Utils" title="NaivePyDESSEM.Utils"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NaivePyDESSEM.Utils</span></code></a></dt><dd><p>Formatting, LaTeX, and input helpers.</p>
</dd>
</dl>
</div>
</section>
</section>
</section>
<section id="submodules">
<h6>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ïƒ</a></h6>
</section>
<section id="module-MDI.cli.cli">
<span id="mdi-cli-cli-module"></span><h6>MDI.cli.cli module<a class="headerlink" href="#module-MDI.cli.cli" title="Link to this heading">ïƒ</a></h6>
<section id="mdi-command-line-interface-cli">
<h6 aria-level="7">MDI Command-Line Interface (CLI)<a class="headerlink" href="#mdi-command-line-interface-cli" title="Link to this heading">ïƒ</a></h6>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id1">
<h6 aria-level="8">Author<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="summary">
<h6 aria-level="8">Summary<a class="headerlink" href="#summary" title="Link to this heading">ïƒ</a></h6>
<p>This module provides a command-line interface (CLI) for executing the
MDI (Modular Didactic Infrastructure) optimization framework, which
is based on the NaivePyDESSEM package and implemented using Pyomo.</p>
<p>It enables users to load YAML model definitions, execute the solver,
and export results in various tabular formats. The CLI offers convenient
command-line options for input specification, output management, and
result visualization.</p>
</section>
<section id="id2">
<h6 aria-level="8">Description<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>The CLI is intended primarily for educational and experimental use in
energy system operation and expansion planning. It automates the execution
of the <cite>MDI.Solver</cite> module, the construction of dataframes from model
outputs, and the export of dispatch and cost results.</p>
<p>The module also provides formatted console outputs with color-coded
information using the <cite>colorama</cite> package to improve readability during
interactive execution.</p>
</section>
<section id="functions">
<h6 aria-level="8">Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>print_welcome_banner()</dt><dd><p>Displays a formatted welcome banner with course and author information.</p>
</dd>
<dt>save_dataframe(df, path)</dt><dd><p>Saves a given Pandas DataFrame to a file in one of the supported formats
(.csv, .xlsx, .xls, .parquet).</p>
</dd>
<dt>main()</dt><dd><p>Parses command-line arguments, executes the solver, and exports results
to the specified directory and file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul>
<li><p>The CLI uses the <cite>argparse</cite> module for argument parsing.</p></li>
<li><p>Colorized console output is handled via <cite>colorama</cite>.</p></li>
<li><p>The script is typically invoked directly from the terminal, e.g.:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">python</span> <span class="pre">-m</span> <span class="pre">MDI.cli</span> <span class="pre">input_case.yaml</span> <span class="pre">--out_dir</span> <span class="pre">results</span> <span class="pre">--out_file</span> <span class="pre">output.csv</span>
<span class="pre">`</span></code></p>
</div></blockquote>
</li>
<li><p>Compatible with all major operating systems (Windows, macOS, Linux).</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL. <em>DESSEM â€” Manual de Metodologia</em>, 2023.
[2] Unsihuay Vila, C. <em>IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica</em>,</p>
<blockquote>
<div><p>Lecture Notes, EELT7030/UFPR, 2023.</p>
</div></blockquote>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.cli.main">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MDI.cli.cli.main" title="Link to this definition">ïƒ</a></dt>
<dd><p>Execute the command-line interface for the MDI framework.</p>
<p>Parses command-line arguments, initializes the solver, builds
the dispatch results DataFrame, and exports results to the
specified output file.</p>
<section id="workflow">
<h6 aria-level="7">Workflow<a class="headerlink" href="#workflow" title="Link to this heading">ïƒ</a></h6>
<ol class="arabic simple">
<li><p>Initialize color output with <cite>colorama_init()</cite>.</p></li>
<li><p>Parse arguments: input YAML, output directory, and output file.</p></li>
<li><p>Solve the optimization model using <cite>MDI.Solver.solve()</cite>.</p></li>
<li><p>Build results with <cite>MDI.DataFrames.build_dispatch_dataframe()</cite>.</p></li>
<li><p>Save results via <cite>save_dataframe()</cite> in the requested format.</p></li>
</ol>
</section>
<section id="command-line-arguments">
<h6 aria-level="7">Command-Line Arguments<a class="headerlink" href="#command-line-arguments" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>yaml<span class="classifier">str</span></dt><dd><p>Path to the YAML input file containing model data and configuration.</p>
</dd>
<dt>â€“out_dir<span class="classifier">str</span></dt><dd><p>Path to the directory where output files will be stored.</p>
</dd>
<dt>â€“out_file<span class="classifier">str</span></dt><dd><p>Output file name with extension (.csv, .xlsx, or .parquet).</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The function automatically creates the output directory if it does not exist.</p></li>
<li><p>Small numerical artifacts (&lt; 1e-3) are rounded to zero for clarity.</p></li>
<li><p>The first few rows of the resulting DataFrame are printed to the console.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.cli.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.cli.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MDI.cli.cli.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>The banner includes colorized and bold text for better readability
in terminal environments. It provides visual emphasis on the
course title, project name, and author identification.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Uses <cite>colorama.Fore</cite> and <cite>colorama.Style</cite> for ANSI color formatting.</p></li>
<li><p>Automatically resets color after printing via <cite>colorama.init(autoreset=True)</cite>.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.cli.save_dataframe">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.cli.</span></span><span class="sig-name descname"><span class="pre">save_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.cli.cli.save_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Save a Pandas DataFrame to a file in one of the supported formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) â€“ The DataFrame to be exported.</p></li>
<li><p><strong>path</strong> (<em>str</em>) â€“ Path (including filename and extension) where the DataFrame
should be saved. The extension determines the output format.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the file extension is not among the supported types
    (.csv, .xlsx, .xls, .parquet).</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The function automatically determines the export format based
on the file extension.</p></li>
<li><p>Supported formats: CSV, Excel, and Parquet.</p></li>
<li><p>The index is omitted (<cite>index=False</cite>) in all exports.</p></li>
</ul>
</dd></dl>

</section>
<section id="module-MDI.cli.plot_cli">
<span id="mdi-cli-plot-cli-module"></span><h6>MDI.cli.plot_cli module<a class="headerlink" href="#module-MDI.cli.plot_cli" title="Link to this heading">ïƒ</a></h6>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Module: CLI â€” Visualization and Export Interface</p>
<section id="id3">
<h6 aria-level="7">Author<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id4">
<h6 aria-level="7">Description<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>This module provides a command-line interface (CLI) for inspecting and exporting
the results of a solved NaivePyDESSEM dispatch model.</p>
<p>The CLI supports both interactive and non-interactive use, allowing users to:</p>
<ul class="simple">
<li><p>Export generation and control data as LaTeX tables.</p></li>
<li><p>Generate bar and line plots from selected result categories.</p></li>
<li><p>Save control variables (U, Y, W) as visually annotated LaTeX matrices.</p></li>
</ul>
</section>
<section id="id5">
<h6 aria-level="7">Features<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>Supports CSV, Excel, and Parquet input formats.</p></li>
<li><p>Category-based selection of variables (e.g., G, Q, V, S, BAT, cost, CTRL).</p></li>
<li><p>Automated LaTeX formatting and colored control tables.</p></li>
<li><p>Customizable plot styling, labeling, and output paths.</p></li>
</ul>
</section>
<section id="categories">
<h6 aria-level="7">Categories<a class="headerlink" href="#categories" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>â€˜Gâ€™     : Generation (thermal, renewable, battery)</p></li>
<li><p>â€˜BATâ€™   : Battery-specific (charge/discharge/SoC)</p></li>
<li><p>â€˜costâ€™  : Cost components per stage</p></li>
<li><p>â€˜CTRLâ€™  : Control variables (Y, X)</p></li>
</ul>
</section>
<section id="dependencies">
<h6 aria-level="7">Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>pandas</p></li>
<li><p>matplotlib</p></li>
<li><p>colorama</p></li>
<li><p>argparse</p></li>
<li><p>NaivePyDESSEM utilities: plotting, formatting, LaTeX export</p></li>
</ul>
</section>
<section id="usage">
<h6 aria-level="7">Usage<a class="headerlink" href="#usage" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>Run via command line:</dt><dd><p>$ python plot_cli.py results.csv â€“mode table â€“category G cost â€“out-dir tables</p>
</dd>
<dt>Or interactively:</dt><dd><p>$ python plot_cli.py results.parquet</p>
</dd>
</dl>
</section>
<section id="quick-examples">
<h6 aria-level="7">Quick examples<a class="headerlink" href="#quick-examples" title="Link to this heading">ïƒ</a></h6>
<p># 1) Non-interactive: stacked bar plot for Generation + Spillage
python plot_results_cli.py results/day1.parquet â€“mode plot â€“category G  â€“plot-style bar â€“stacked â€“title â€œGenerationâ€ â€“ylabel MW â€“out-dir plots â€“out-file gen_spill.png</p>
<p># 2) Non-interactive: LaTeX table for Volume and Costs
python plot_results_cli.py results/day1.csv â€“mode table â€“category V cost â€“title â€œReservoir Volume and Cost Variablesâ€ â€“label tab:vol_cost â€“out-dir tables â€“out-file vol_cost.tex</p>
<p># 3) Non-interactive: CTRL matrix (U/Y/W) with custom caption/label
python plot_results_cli.py results/day1.xlsx â€“mode ctrl â€“title â€œUnit Commitment Statusâ€ â€“label tab:uyw â€“out-dir tables â€“out-file uyw.tex</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.handle_control_variables">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_control_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.cli.plot_cli.handle_control_variables" title="Link to this definition">ïƒ</a></dt>
<dd><p>Generate and export a colored LaTeX table for binary control variables.</p>
<p>This function prompts the user (if necessary) for export parameters and produces
a LaTeX table that visualizes control variables (U, Y, W) using a binary
color-coded scheme.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame containing control variable columns.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output directory path. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output .tex file name. Prompted if not provided.</p></li>
<li><p><strong>caption</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ Caption text for the LaTeX table. Prompted if None.</p></li>
<li><p><strong>label</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ LaTeX label for referencing the table. Prompted if None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The function saves the LaTeX file to disk and prints the location.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.handle_plot">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.cli.plot_cli.handle_plot" title="Link to this definition">ïƒ</a></dt>
<dd><p>Generate and export plots for selected variable categories.</p>
<p>Supports both line and bar charts, including stacked bar plots. If not
fully specified via arguments, the function prompts the user for relevant
plot metadata and output settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ DataFrame containing simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ List of category identifiers to include in the plot.</p></li>
<li><p><strong>plot_style</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Plot type (â€œlineâ€ or â€œbarâ€). Prompted if not provided.</p></li>
<li><p><strong>stacked</strong> (<em>bool</em><em>, </em><em>optional</em>) â€“ Whether to stack bars (applies only to bar plots).</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Title of the plot. Prompted if not provided.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Label for the Y-axis. Prompted if not provided.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Directory to save the plot. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ File name for the saved image. Prompted if not provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Saves the plot to disk and prints the file location.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.handle_table">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">handle_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#MDI.cli.plot_cli.handle_table" title="Link to this definition">ïƒ</a></dt>
<dd><p>Export selected variables as a LaTeX table.</p>
<p>Filters the DataFrame based on one or more variable categories, formats it into
LaTeX using custom styling, and saves the result to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ DataFrame with simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ One or more category identifiers to include.</p></li>
<li><p><strong>out_dir</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output directory path. Prompted if not provided.</p></li>
<li><p><strong>out_file</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ Output .tex file name. Prompted if not provided.</p></li>
<li><p><strong>caption</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ Caption for the LaTeX table.</p></li>
<li><p><strong>label</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) â€“ LaTeX label for the table.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Writes the LaTeX table to the specified file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.load_dataframe">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">load_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#MDI.cli.plot_cli.load_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Load a pandas DataFrame from a supported file format.</p>
<p>Supports CSV, Excel (.xlsx, .xls), and Parquet formats. The file extension is used
to determine the appropriate loader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Full path to the data file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the file format is not supported.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.main">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MDI.cli.plot_cli.main" title="Link to this definition">ïƒ</a></dt>
<dd><p>Command-line interface (CLI) entry point for visualization and export.</p>
<p>This function enables both interactive and scripted execution modes for exporting
results from NaivePyDESSEM simulations. It supports the generation of:</p>
<ul class="simple">
<li><p>LaTeX tables for generation, flow, spillage, storage, cost, and control variables.</p></li>
<li><p>Binary control matrix tables with color-coded LaTeX formatting (U/Y/W).</p></li>
<li><p>Time-series plots (line or bar, stacked or grouped) for selected variable categories.</p></li>
</ul>
<p>The CLI can be invoked directly via command line with arguments, or interactively
with user prompts when arguments are omitted.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Results are saved to disk in the specified format. No value is returned.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Command-line usage:</p>
<blockquote>
<div><p>$ python plot_xli.py results.csv â€“mode table -c G cost â€“out-dir out â€“out-file results.tex</p>
</div></blockquote>
<p>Interactive usage:</p>
<blockquote>
<div><p>$ python plot_cli.py results.csv
&gt; Generate table, plot, or CTRL matrix? (table/plot/ctrl)
&gt; Enter category(ies) separated by spaces (e.g., G S V):
&gt; â€¦</p>
</div></blockquote>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Categories are case-insensitive. Recognized categories include:
â€œGâ€, â€œQâ€, â€œSâ€, â€œVâ€, â€œBATâ€, â€œcostâ€, â€œCTRLâ€.</p></li>
<li><p>For LaTeX export, output directory and file name are required.</p></li>
<li><p>For plotting, time column â€˜Tâ€™ is used if available; otherwise, index is used.</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MDI.cli.plot_cli.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.prompt">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">prompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#MDI.cli.plot_cli.prompt" title="Link to this definition">ïƒ</a></dt>
<dd><p>Prompt the user for input with a highlighted message.</p>
<p>If the message ends with â€œ[optional]â€, the user may press Enter to return an empty string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<em>str</em>) â€“ The message displayed to the user.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user response, stripped of leading and trailing whitespace.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.select_columns_multi">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">select_columns_multi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#MDI.cli.plot_cli.select_columns_multi" title="Link to this definition">ïƒ</a></dt>
<dd><p>Filter and concatenate DataFrame columns across multiple categories.</p>
<p>Avoids column duplication by tracking previously added columns. Used to
assemble a view of variables spanning multiple categories (e.g., flow and volume).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The input DataFrame containing simulation results.</p></li>
<li><p><strong>categories</strong> (<em>list</em><em> of </em><em>str</em>) â€“ List of category identifiers (e.g., [â€œGâ€, â€œSâ€, â€œVâ€, â€œcostâ€]).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame composed of all selected columns, in order of appearance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If no categories are provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.cli.plot_cli.select_variable_columns">
<span class="sig-prename descclassname"><span class="pre">MDI.cli.plot_cli.</span></span><span class="sig-name descname"><span class="pre">select_variable_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#MDI.cli.plot_cli.select_variable_columns" title="Link to this definition">ïƒ</a></dt>
<dd><p>Filter DataFrame columns based on a single category.</p>
<p>The function selects columns corresponding to predefined variable categories
such as generation, flow, storage, control actions, and cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The input DataFrame containing simulation results.</p></li>
<li><p><strong>category</strong> (<em>str</em>) â€“ One of: {â€œGâ€, â€œQâ€, â€œSâ€, â€œVâ€, â€œBATâ€, â€œcostâ€, â€œCTRLâ€}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A filtered view of the DataFrame containing only relevant columns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> â€“ If the category is unrecognized.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</div>
</section>
<section id="id1">
<h4>Submodules<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h4>
</section>
<section id="module-MDI.Builder">
<span id="mdi-builder-module"></span><h4>MDI.Builder module<a class="headerlink" href="#module-MDI.Builder" title="Link to this heading">ïƒ</a></h4>
<section id="builder-module">
<h5>Builder Module<a class="headerlink" href="#builder-module" title="Link to this heading">ïƒ</a></h5>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id2">
<h6>Author<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id3">
<h6>Summary<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>Builder</strong> module provides the high-level orchestration routines for constructing
a complete <strong>MDI (Modular Decision Infrastructure)</strong> system model. It integrates
the Generator and Storage subsystems, validates YAML input data, and assembles
the optimization problem by defining constraints, objectives, and auxiliary
expressions using <strong>Pyomo</strong>.</p>
</section>
<section id="id4">
<h6>Description<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h6>
<p>This module serves as the <em>entry point</em> for model instantiation from a YAML specification,
including validation of meta parameters, generation and storage data, and global
power balance. It encapsulates all system-level expressions such as:</p>
<ul class="simple">
<li><p><strong>Adequacy Constraint</strong> â€” ensures total available capacity meets mean demand.</p></li>
<li><p><strong>Power Balance</strong> â€” enforces node-level balance between demand and generation.</p></li>
<li><p><strong>Objective Function</strong> â€” minimizes total system costs including generation, storage, and deficit penalties.</p></li>
</ul>
<p>It also handles automatic conversion of YAML datasets into <cite>GeneratorData</cite> and
<cite>StorageData</cite> dataclasses, ensuring consistency of units, bounds, and efficiency parameters.</p>
</section>
<section id="functions">
<h6>Functions<a class="headerlink" href="#functions" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>_validate_meta(meta)</dt><dd><p>Performs structural and numerical checks on the metadata section.</p>
</dd>
<dt>_validate_demand(d, T)</dt><dd><p>Validates demand profiles (currently placeholder).</p>
</dd>
<dt>_validate_storage(storage)</dt><dd><p>Ensures energy capacity and efficiency values are within valid physical limits.</p>
</dd>
<dt>_validate_generator(generators)</dt><dd><p>Validates generator attributes and required fields.</p>
</dd>
<dt>_mk_generator_data(root)</dt><dd><p>Factory for creating a <cite>GeneratorData</cite> instance from YAML input.</p>
</dd>
<dt>_mk_storage_data(root)</dt><dd><p>Factory for creating a <cite>StorageData</cite> instance from YAML input.</p>
</dd>
<dt>compute_mean_demand(m, yaml_data)</dt><dd><p>Computes weighted mean demand over all load levels and attaches it to the model.</p>
</dd>
<dt>add_system_adequacy_expression(m)</dt><dd><p>Adds a system adequacy constraint based on installed capacity.</p>
</dd>
<dt>build_balance_and_objective_from_yaml(model, yaml_data)</dt><dd><p>Constructs balance constraints and total cost objective function.</p>
</dd>
<dt>build_model_from_file(path)</dt><dd><p>High-level entry point: loads YAML, validates, builds subsystems,
and returns a complete <cite>ConcreteModel</cite>.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Requires <strong>Pyomo â‰¥ 6.6.0</strong>.</p></li>
<li><p>YAML input structure must contain sections: <cite>meta</cite>, <cite>generator</cite>, <cite>storage</cite>.</p></li>
<li><p>All time indices (<cite>t</cite>) are assumed to start at 1 (Pyomo convention).</p></li>
<li><p>The Builder supports both investment and operational formulations.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Builder.build_balance_and_objective_from_yaml">
<span class="sig-prename descclassname"><span class="pre">MDI.Builder.</span></span><span class="sig-name descname"><span class="pre">build_balance_and_objective_from_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yaml_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ConcreteModel</span></span></span><a class="headerlink" href="#MDI.Builder.build_balance_and_objective_from_yaml" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Builder.build_model_from_file">
<span class="sig-prename descclassname"><span class="pre">MDI.Builder.</span></span><span class="sig-name descname"><span class="pre">build_model_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Builder.build_model_from_file" title="Link to this definition">ïƒ</a></dt>
<dd></dd></dl>

</section>
<section id="module-MDI.DataFrames">
<span id="mdi-dataframes-module"></span><h4>MDI.DataFrames module<a class="headerlink" href="#module-MDI.DataFrames" title="Link to this heading">ïƒ</a></h4>
<section id="dataframes-module">
<h5>Dataframes Module<a class="headerlink" href="#dataframes-module" title="Link to this heading">ïƒ</a></h5>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id5">
<h6>Author<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id6">
<h6>Summary<a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>Dataframes</strong> module provides structured routines for converting
optimization results from <strong>Pyomo</strong> models into analytical <strong>pandas DataFrames</strong>.
It enables direct visualization and statistical evaluation of dispatch,
cost, and marginal values from the <strong>MDI (Modular Decision Infrastructure)</strong> framework.</p>
</section>
<section id="id7">
<h6>Description<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h6>
<p>This module acts as a post-processing interface between the optimization
model and external data analysis tools. It extracts primal and dual
values from the <strong>Pyomo ConcreteModel</strong>, computes derived indicators
(e.g., marginal operation cost), and organizes the results into tabular
form suitable for export to spreadsheets, CSV, or visualization software.</p>
<p>Each function contributes a layer of semantic enrichment to the resulting
dataset, corresponding to a subsystem (generation, storage, cost structure).</p>
</section>
<section id="id8">
<h6>Functions<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>add_generator_dispatch_to_dataframe(df, model)</dt><dd><p>Extracts generator dispatch, commitment, and investment variables
from the model and appends them to the provided DataFrame.</p>
</dd>
<dt>add_storage_dispatch_to_dataframe(df, model)</dt><dd><p>Extracts storage charge/discharge behavior, state of charge, and
investment decisions from the model and appends them to the DataFrame.</p>
</dd>
<dt>add_cost_to_dataframe(df, model)</dt><dd><p>Computes total operating and investment costs, as well as marginal
prices such as CMO (Custo Marginal de OperaÃ§Ã£o) and CME (Custo Marginal
de ExpansÃ£o). Adds these metrics as new columns to the DataFrame.</p>
</dd>
<dt>build_dispatch_dataframe(model)</dt><dd><p>High-level routine that sequentially aggregates generator, storage,
and cost data into a single unified DataFrame.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Requires <strong>pandas â‰¥ 2.0.0</strong> and <strong>Pyomo â‰¥ 6.6.0</strong>.</p></li>
<li><p>All numerical values are retrieved through <cite>pyomo.environ.value()</cite>.</p></li>
<li><p>Dual values must be available (i.e., model must have been solved
with a solver that supports dual variable extraction).</p></li>
<li><p>The notation <cite>CMO</cite> and <cite>CME</cite> corresponds respectively to:
- <em>Custo Marginal de OperaÃ§Ã£o</em> â€” derived from balance constraints.
- <em>Custo Marginal de ExpansÃ£o</em> â€” derived from adequacy constraints.</p></li>
<li><p>Column naming conventions are consistent with the MDIâ€™s export structure
for integration with visualization dashboards and academic reports.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.DataFrames.add_cost_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">MDI.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_cost_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#MDI.DataFrames.add_cost_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append cost components and total demand/deficit to the DataFrame.</p>
<p>This function computes and appends the variable generation cost,
startup cost, deficit cost, and total cost per time period.
It also includes total generation, demand, and deficit series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which cost components will be appended.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance with thermal and system-wide cost variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including cost components and energy balance data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.DataFrames.add_generator_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">MDI.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_generator_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#MDI.DataFrames.add_generator_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append generator dispatch results to a pandas DataFrame.</p>
<p>This function extracts the turbined flow, storage volume, hydropower
generation, and spillage from a Pyomo model and appends them to the
given DataFrame, one column per unit and variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended. It may be empty.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing hydropower variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including hydropower dispatch results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.DataFrames.add_storage_dispatch_to_dataframe">
<span class="sig-prename descclassname"><span class="pre">MDI.DataFrames.</span></span><span class="sig-name descname"><span class="pre">add_storage_dispatch_to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#MDI.DataFrames.add_storage_dispatch_to_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Append storage dispatch results to a pandas DataFrame.</p>
<p>This function extracts charging, discharging, net output,
and state of charge (SoC) values from the Pyomo model and
adds them as columns to the DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) â€“ The DataFrame to which the results will be appended.</p></li>
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing storage unit variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated DataFrame including storage dispatch results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.DataFrames.build_dispatch_dataframe">
<span class="sig-prename descclassname"><span class="pre">MDI.DataFrames.</span></span><span class="sig-name descname"><span class="pre">build_dispatch_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#MDI.DataFrames.build_dispatch_dataframe" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build a full dispatch DataFrame with generation, cost, and balance data.</p>
<p>This function aggregates the dispatch results from all subsystems
(hydropower, thermal, renewable, storage) along with cost components
into a single structured pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ A Pyomo model instance containing subsystem variables and time horizon.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with all relevant dispatch results and economic metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.DataFrames.compute_CME_by_period">
<span class="sig-prename descclassname"><span class="pre">MDI.DataFrames.</span></span><span class="sig-name descname"><span class="pre">compute_CME_by_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solver_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'glpk'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_E</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reserve_margin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.15</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#MDI.DataFrames.compute_CME_by_period" title="Link to this definition">ïƒ</a></dt>
<dd><p>Compute CME (Custo Marginal de Energia) and CME de ExpansÃ£o
for each time period individually via incremental perturbation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Pyomo model with â€˜Adequacyâ€™ and â€˜Balanceâ€™ constraints.</p></li>
<li><p><strong>solver_name</strong> (<em>str</em><em>, </em><em>optional</em>) â€“ MILP solver name (default: â€˜glpkâ€™).</p></li>
<li><p><strong>delta_E</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Increment applied to demand in each period (default: 1.0).</p></li>
<li><p><strong>reserve_margin</strong> (<em>float</em><em>, </em><em>optional</em>) â€“ Fractional capacity increase used in expansion case (default: 0.15).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>{</dt><dd><p>â€œCusto_Baseâ€: float,
â€œCME_energia_por_periodoâ€: { (p,t): value },
â€œCME_expansao_por_periodoâ€: { (p,t): value },
â€œCME_globalâ€: float,
â€œCME_expansao_globalâ€: float</p>
</dd>
</dl>
<p>}</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.Formatters">
<span id="mdi-formatters-module"></span><h4>MDI.Formatters module<a class="headerlink" href="#module-MDI.Formatters" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Format Numbers in Brazilian Currency Style</p>
<section id="id9">
<h5>Author<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id10">
<h5>Description<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h5>
<p>This module provides a helper function to format numerical values in the
Brazilian currency style: periods as thousand separators and commas for
decimals (e.g., 1234567.89 â†’ â€˜1.234.567,89â€™).</p>
<p>It is intended for producing human-readable cost reports or summaries in
energy dispatch problems solved by NaivePyDESSEM.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mf">1234567.89</span><span class="p">)</span>
<span class="go">&#39;1.234.567,89&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_brl</span><span class="p">(</span><span class="mf">42.5</span><span class="p">)</span>
<span class="go">&#39;42,50&#39;</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<section id="module-MDI.ModelCheck">
<span id="mdi-modelcheck-module"></span><h4>MDI.ModelCheck module<a class="headerlink" href="#module-MDI.ModelCheck" title="Link to this heading">ïƒ</a></h4>
<section id="modelcheck-module">
<h5>ModelCheck Module<a class="headerlink" href="#modelcheck-module" title="Link to this heading">ïƒ</a></h5>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id11">
<h6>Author<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id12">
<h6>Summary<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>ModelCheck</strong> module provides lightweight structural verification
utilities for <strong>Pyomo ConcreteModel</strong> instances within the
<strong>MDI (Modular Decision Infrastructure)</strong> framework.</p>
<p>Its purpose is to confirm the presence of essential attributes,
sets, and variables that characterize generator and storage subsystems
before performing downstream operations such as dispatch extraction
or cost evaluation.</p>
</section>
<section id="id13">
<h6>Description<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h6>
<p>Model verification plays a crucial role in ensuring robustness
and error prevention within modular optimization frameworks.
These functions perform <em>non-invasive integrity checks</em> by verifying
the existence of predefined attributes in the model object
without altering its state.</p>
<p>They are used extensively throughout post-processing routines
(e.g., <code class="xref py py-mod docutils literal notranslate"><span class="pre">Dataframes</span></code>) to guarantee that operations are executed
only if the corresponding subsystem is present and properly defined.</p>
</section>
<section id="id14">
<h6>Functions<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>has_generator_model(model)</dt><dd><p>Verifies whether the provided model instance contains all
mandatory components of a generator subsystem, including sets
and decision variables for generation, commitment, and investment.</p>
</dd>
<dt>has_storage_model(model)</dt><dd><p>Checks whether the model instance includes all necessary
structures to represent an energy storage subsystem,
including energy balance, charge/discharge, and state-of-charge
variables.</p>
</dd>
</dl>
</section>
<section id="usage-example">
<h6>Usage Example<a class="headerlink" href="#usage-example" title="Link to this heading">ïƒ</a></h6>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">MDI.ModelCheck</span><span class="w"> </span><span class="kn">import</span> <span class="n">has_generator_model</span><span class="p">,</span> <span class="n">has_storage_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyomo.environ</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConcreteModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_generator_model</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># After adding generator sets and variables</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">has_generator_model</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Designed for structural validation only (no numerical evaluation).</p></li>
<li><p>Returns boolean values indicating model completeness.</p></li>
<li><p>Compatible with <strong>Pyomo â‰¥ 6.6.0</strong>.</p></li>
<li><p>Used internally by data extraction, reporting, and consistency
modules across the MDI framework.</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelCheck.has_generator_model">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelCheck.</span></span><span class="sig-name descname"><span class="pre">has_generator_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#MDI.ModelCheck.has_generator_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Check whether the given Pyomo model contains all components of a geerator subsystem.</p>
<p>This function verifies the presence of essential attributes associated with
hydropower modeling, including sets and variables related to generation,
volume, flow, and spillage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all required hydro components are present, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelCheck.has_storage_model">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelCheck.</span></span><span class="sig-name descname"><span class="pre">has_storage_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#MDI.ModelCheck.has_storage_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Check whether the given Pyomo model contains all components of a storage subsystem.</p>
<p>This function ensures that charging, discharging, and state-of-charge variables
are defined for energy storage modeling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance to be validated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all required storage components are present, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.ModelFormatters">
<span id="mdi-modelformatters-module"></span><h4>MDI.ModelFormatters module<a class="headerlink" href="#module-MDI.ModelFormatters" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Welcome Message and Model Summary Printer</p>
<section id="id15">
<h5>Author<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id16">
<h5>Description<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h5>
<p>This utility provides formatted, color-enhanced terminal output using the
<cite>colorama</cite> library to display a welcome banner, solver configuration,
and model characteristics. It is intended to improve the user experience
by offering clear diagnostics and summaries prior to model solving.</p>
<p>Features include:
- Welcome banner with project and author information.
- Display of solver name and strategy.
- Pretty-printed summary of subsystems included in the dispatch problem.
- Parameter visualization for hydraulic, thermal, renewable, and storage units.</p>
<p>Use this module as part of the pre-solve interface of NaivePyDESSEM to
provide clarity and visual feedback about the simulation setup.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelFormatters.format_generator_model">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_generator_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.ModelFormatters.format_generator_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each generator power unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜generatorâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelFormatters.format_models">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.ModelFormatters.format_models" title="Link to this definition">ïƒ</a></dt>
<dd><p>Dispatch model formatting routines to subsystem-specific formatters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Input data dictionary containing unit-level information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelFormatters.format_storage_model">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">format_storage_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.ModelFormatters.format_storage_model" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print formatted information for each storage unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Dictionary containing â€˜storageâ€™ section with unit definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelFormatters.model_properties">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">model_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.ModelFormatters.model_properties" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a concise list of subsystems included in the case (generator, thermal, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>case</strong> (<em>dict</em>) â€“ Parsed input configuration containing subsystem definitions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelFormatters.print_welcome_banner">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">print_welcome_banner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#MDI.ModelFormatters.print_welcome_banner" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a formatted welcome banner with project information and author credit.</p>
<p>Uses colored and bold text to enhance readability in the terminal.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.ModelFormatters.print_welcome_message">
<span class="sig-prename descclassname"><span class="pre">MDI.ModelFormatters.</span></span><span class="sig-name descname"><span class="pre">print_welcome_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.ModelFormatters.print_welcome_message" title="Link to this definition">ïƒ</a></dt>
<dd><p>Display the full welcome message and solver configuration.</p>
<p>This includes the banner, solver details, and an overview of
the model components based on the input dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model instance.</p></li>
<li><p><strong>case</strong> (<em>dict</em>) â€“ Configuration dictionary loaded from YAML or JSON input.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.PlotSeries">
<span id="mdi-plotseries-module"></span><h4>MDI.PlotSeries module<a class="headerlink" href="#module-MDI.PlotSeries" title="Link to this heading">ïƒ</a></h4>
<section id="plotseries-module">
<h5>PlotSeries Module<a class="headerlink" href="#plotseries-module" title="Link to this heading">ïƒ</a></h5>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Plotting Utilities for Time Series in Power System Studies</p>
<section id="id17">
<h6>Author<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id18">
<h6>Description<a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h6>
<p>This module provides high-level plotting routines to visualize time-indexed
variables commonly encountered in short-term operation and planning studies
of hydrothermal systems. It offers both line plots and bar plots, supporting
grouped or stacked styles.</p>
</section>
<section id="id19">
<h6>Functions<a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>plot_series(t, series_dict, title, ylabel, file)</dt><dd><p>Plot one or more time series as line graphs, with LaTeX-compatible labels.</p>
</dd>
<dt>plot_series_bar(t, series_dict, title, ylabel, file, stacked=False, width=0.85)</dt><dd><p>Plot multiple time series as bar charts, either grouped or stacked, with
configurable bar width.</p>
</dd>
</dl>
</section>
<section id="conventions">
<h6>Conventions<a class="headerlink" href="#conventions" title="Link to this heading">ïƒ</a></h6>
<ul class="simple">
<li><p>The time axis is discrete, typically representing hourly stages
(e.g., t = 1, â€¦, 24).</p></li>
<li><p>Input series must be aligned with the time axis.</p></li>
<li><p>Labels provided in series_dict are rendered in math mode
to enable LaTeX-style notation in figures.</p></li>
<li><p>Output files are saved with 600 dpi resolution and tight bounding boxes.</p></li>
</ul>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Figures are generated using Matplotlib and saved to the given file path
(PNG, PDF, or other supported formats).</p></li>
<li><p>The functions are designed for clarity in academic and technical reports,
especially when documenting hydrothermal dispatch and unit-commitment results.</p></li>
<li><p>Grid lines, legends, and axis labels are automatically formatted for
readability.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Render a simple time series plot:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;U_</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">],</span> <span class="s2">&quot;U_</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">125</span><span class="p">,</span> <span class="mi">150</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Hydropower Generation&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">file</span><span class="o">=</span><span class="s2">&quot;generation.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Render a stacked bar plot:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Hydro&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">210</span><span class="p">],</span> <span class="s2">&quot;Thermal&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span> <span class="mi">290</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_series_bar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Generation Mix&quot;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;MW&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">file</span><span class="o">=</span><span class="s2">&quot;mix.png&quot;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<section id="module-MDI.Reporting">
<span id="mdi-reporting-module"></span><h4>MDI.Reporting module<a class="headerlink" href="#module-MDI.Reporting" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Post-Solve Dispatch Summary and Cost Reports</p>
<section id="id20">
<h5>Author<a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id21">
<h5>Description<a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h5>
<p>This module contains functions to summarize dispatch results after solving
a Pyomo-based optimization problem. It prints total generation, cost breakdowns,
and unit-level summaries for hydropower, thermal, renewable, and storage technologies.</p>
<p>Features:
- Total cost, demand, deficit and thermal cost components.
- Per-unit dispatch summaries with color-enhanced output (via <cite>colorama</cite>).
- Compatible with modular NaivePyDESSEM subsystem architecture.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Reporting.dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">MDI.Reporting.</span></span><span class="sig-name descname"><span class="pre">dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.Reporting.dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print a complete dispatch and cost summary including:
- Total generation and demand.
- Deficit and its monetary cost.
- Thermal cost breakdown (start-up, generation).
- Overall total cost from the model objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Reporting.generator_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">MDI.Reporting.</span></span><span class="sig-name descname"><span class="pre">generator_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.Reporting.generator_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level generator units generation summary in MWh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with generator subsystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="MDI.Reporting.storage_dispatch_summary">
<span class="sig-prename descclassname"><span class="pre">MDI.Reporting.</span></span><span class="sig-name descname"><span class="pre">storage_dispatch_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConcreteModel</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#MDI.Reporting.storage_dispatch_summary" title="Link to this definition">ïƒ</a></dt>
<dd><p>Print unit-level storage discharge summary in MWh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ Solved Pyomo model with storage subsystem.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.Solver">
<span id="mdi-solver-module"></span><h4>MDI.Solver module<a class="headerlink" href="#module-MDI.Solver" title="Link to this heading">ïƒ</a></h4>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>Utility: Solve Pyomo Model from YAML Configuration</p>
<section id="id22">
<h5>Author<a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h5>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id23">
<h5>Description<a class="headerlink" href="#id23" title="Link to this heading">ïƒ</a></h5>
<p>This utility builds and solves a Pyomo optimization model using input
data provided in a YAML or JSON configuration file. The solver is selected
based on metadata, and can include support for decomposition strategies
(e.g., MIN-DT via MindtPy).</p>
<p>Features:
- Automatic model construction via modular subsystems (thermal, hydro, storage, renewable).
- Solver selection and configuration via YAML metadata.
- Support for MINLP solvers such as MindtPy with strategy and time limits.
- Termination condition validation to ensure feasibility or optimality.</p>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="MDI.Solver.solve">
<span class="sig-prename descclassname"><span class="pre">MDI.Solver.</span></span><span class="sig-name descname"><span class="pre">solve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ConcreteModel</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#MDI.Solver.solve" title="Link to this definition">ïƒ</a></dt>
<dd><p>Build and solve a Pyomo optimization model from a configuration file.</p>
<p>This function loads a model and its configuration from a structured YAML or JSON
file using the <cite>build_model_from_file</cite> routine. It then selects the appropriate
solver based on the â€˜metaâ€™ section, applies any solver-specific options (including
for MIN-DT decomposition), and executes the optimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) â€“ Path to the configuration file containing model metadata and data sections.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>model</strong> (<em>ConcreteModel</em>) â€“ The Pyomo model after the solve routine, with variables populated.</p></li>
<li><p><strong>case</strong> (<em>dict</em>) â€“ Parsed dictionary containing the original configuration, metadata,
solver options, and problem data.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> â€“ If the solver is not available, solve fails, or model is infeasible.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-MDI.Utils">
<span id="mdi-utils-module"></span><h4>MDI.Utils module<a class="headerlink" href="#module-MDI.Utils" title="Link to this heading">ïƒ</a></h4>
<section id="utils-module">
<h5>Utils Module<a class="headerlink" href="#utils-module" title="Link to this heading">ïƒ</a></h5>
<p>EELT 7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<p>LaTeX Table Utilities for Pandas DataFrames</p>
<section id="id24">
<h6>Author<a class="headerlink" href="#id24" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id25">
<h6>Description<a class="headerlink" href="#id25" title="Link to this heading">ïƒ</a></h6>
<p>This module provides helpers to render pandas DataFrames as LaTeX tables with
custom styling aimed at scientific and engineering reports. It includes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>: Renders a binary matrix (0/1) as a colored
LaTeX table, highlighting ones and zeros with configurable colors and
producing a complete <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>: Renders a generic (non-binary) DataFrame as a LaTeX
table with bold headers (and bold math within headers), using <code class="docutils literal notranslate"><span class="pre">booktabs</span></code>
rules and producing a complete <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p></li>
</ul>
<p>Both functions omit the DataFrame index from the LaTeX output by design,
emitting only the column headers and data cells.</p>
</section>
<section id="id26">
<h6>Functions<a class="headerlink" href="#id26" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>binary_df_to_colored_latex</dt><dd><p>Render a binary (0/1) DataFrame as a colored LaTeX table. Cells equal to 1
are filled with <code class="docutils literal notranslate"><span class="pre">one_color</span></code>; cells equal to 0 use <code class="docutils literal notranslate"><span class="pre">zero_color</span></code>.
Non-binary values, if present, are formatted with <code class="docutils literal notranslate"><span class="pre">floatfmt</span></code> and not
color-filled. The index is not included in the output.</p>
</dd>
<dt>custom_df_to_latex</dt><dd><p>Render a generic DataFrame as a LaTeX table using <code class="docutils literal notranslate"><span class="pre">booktabs</span></code> rules with a
bold header row. Inline math fragments in header cells  are additionally set
in bold math using <code class="docutils literal notranslate"><span class="pre">bold_math_cmd</span></code>.
The index is not included in the output.</p>
</dd>
</dl>
</section>
<section id="parameters-shared">
<h6>Parameters (Shared)<a class="headerlink" href="#parameters-shared" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>df<span class="classifier">pandas.DataFrame</span></dt><dd><p>The input table to render. Only the DataFrame <strong>columns</strong> are emitted;
the index is always omitted from the LaTeX output.</p>
</dd>
<dt>caption<span class="classifier">str, optional</span></dt><dd><p>Caption text for the LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment.</p>
</dd>
<dt>label<span class="classifier">str, optional</span></dt><dd><p>Label for cross-referencing with <code class="docutils literal notranslate"><span class="pre">\ref{...}</span></code>.</p>
</dd>
<dt>column_format<span class="classifier">str or None, optional</span></dt><dd><p>Column specification for the LaTeX <code class="docutils literal notranslate"><span class="pre">tabular</span></code> environment. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
a default is inferred based on the number of columns (all centered).</p>
</dd>
<dt>size_cmd<span class="classifier">str, optional</span></dt><dd><p>LaTeX size command applied inside the table (e.g., <code class="docutils literal notranslate"><span class="pre">\small</span></code>, <code class="docutils literal notranslate"><span class="pre">\scriptsize</span></code>).</p>
</dd>
</dl>
</section>
<section id="additional-parameters">
<h6>Additional Parameters<a class="headerlink" href="#additional-parameters" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>one_color<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) LaTeX color name for cells with value 1.</p>
</dd>
<dt>zero_color<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) LaTeX background color name for cells
with value 0.</p>
</dd>
<dt>floatfmt<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code>) Format string for numeric entries that
are not 0/1 (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;{:d}&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;{:.0f}&quot;</span></code>).</p>
</dd>
<dt>bold_math_cmd<span class="classifier">str, optional</span></dt><dd><p>(For <code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>) Command for bolding inline math in header cells,
e.g., <code class="docutils literal notranslate"><span class="pre">\mathbf</span></code>, <code class="docutils literal notranslate"><span class="pre">\boldsymbol</span></code>, or <code class="docutils literal notranslate"><span class="pre">\bm</span></code>. Ensure the corresponding
LaTeX package is loaded.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>str</em> â€“ A complete LaTeX <code class="docutils literal notranslate"><span class="pre">table</span></code> environment (including an inner <code class="docutils literal notranslate"><span class="pre">tabular</span></code> and
a <code class="docutils literal notranslate"><span class="pre">\resizebox{\textwidth}{!}{...}</span></code> wrapper) ready to paste into a
LaTeX document.</p></li>
<li><p><em>Requirements</em></p></li>
<li><p><em>â€”â€”â€”â€”</em></p></li>
<li><p><strong>- Python packages</strong> (<code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, <code class="docutils literal notranslate"><span class="pre">re</span></code> (standard library).)</p></li>
<li><p><em>- LaTeX packages</em> â€“</p>
<ul>
<li><p>For both functions: <code class="docutils literal notranslate"><span class="pre">graphicx</span></code> (for <code class="docutils literal notranslate"><span class="pre">\resizebox</span></code>), <code class="docutils literal notranslate"><span class="pre">booktabs</span></code> (for <code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code>).</p></li>
<li><p>For coloring: <code class="docutils literal notranslate"><span class="pre">xcolor</span></code> with the <code class="docutils literal notranslate"><span class="pre">table</span></code> option (provides <code class="docutils literal notranslate"><span class="pre">\cellcolor</span></code>).
Colors such as <code class="docutils literal notranslate"><span class="pre">oncell</span></code> and <code class="docutils literal notranslate"><span class="pre">white</span></code> must be defined in the preamble.</p></li>
<li><p>For bold math: <code class="docutils literal notranslate"><span class="pre">amsmath</span></code>, <code class="docutils literal notranslate"><span class="pre">bm</span></code>, or any package compatible with <code class="docutils literal notranslate"><span class="pre">bold_math_cmd</span></code>.</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Both functions assume the DataFrame columns represent displayable headers.
If numeric, they are commonly used as time periods. Pre-formatting is advised.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">binary_df_to_colored_latex</span></code> coerces values to integers for coloring.
Non-binary values are rendered using <code class="docutils literal notranslate"><span class="pre">floatfmt</span></code> but receive no coloring.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">custom_df_to_latex</span></code> skips escaping in data cells, assuming LaTeX-safe input.</p></li>
</ul>
<p class="rubric">Examples</p>
<p>Render a binary status matrix with colored cells:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tex</span> <span class="o">=</span> <span class="n">binary_df_to_colored_latex</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Hourly U, Y, and W variables&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:uyw&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">one_color</span><span class="o">=</span><span class="s2">&quot;oncell&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">zero_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">floatfmt</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:d}</span><span class="s2">&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">tex</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">\begin{table}[!ht]</span>
</pre></div>
</div>
<p>Render a numeric table with bold headers and math-aware bolding:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">,</span> <span class="mf">4.25</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">r</span><span class="s2">&quot;$t=1$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\(t=2\)&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tex2</span> <span class="o">=</span> <span class="n">custom_df_to_latex</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">df2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">caption</span><span class="o">=</span><span class="s2">&quot;Example Table&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;tab:example&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">bold_math_cmd</span><span class="o">=</span><span class="s2">&quot;\mathbf&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">oprule&quot;</span> <span class="ow">in</span> <span class="n">tex2</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">pandas.DataFrame.to_latex</span></code></dt><dd><p>Built-in (less specialized) LaTeX export.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
<section id="module-MDI.YAMLLoader">
<span id="mdi-yamlloader-module"></span><h4>MDI.YAMLLoader module<a class="headerlink" href="#module-MDI.YAMLLoader" title="Link to this heading">ïƒ</a></h4>
<section id="yamlloader-module">
<h5>YAMLLoader Module<a class="headerlink" href="#yamlloader-module" title="Link to this heading">ïƒ</a></h5>
<p>EELT7030 â€” Operation and Expansion Planning of Electric Power Systems
Federal University of ParanÃ¡ (UFPR)</p>
<section id="id27">
<h6>Author<a class="headerlink" href="#id27" title="Link to this heading">ïƒ</a></h6>
<p>Augusto Mathias Adams &lt;<a class="reference external" href="mailto:augusto&#46;adams&#37;&#52;&#48;ufpr&#46;br">augusto<span>&#46;</span>adams<span>&#64;</span>ufpr<span>&#46;</span>br</a>&gt;</p>
</section>
<section id="id28">
<h6>Summary<a class="headerlink" href="#id28" title="Link to this heading">ïƒ</a></h6>
<p>The <strong>YAMLLoader</strong> module provides standardized routines for reading,
validating, and parsing YAML-based configuration files used by the
<strong>MDI (Modular Decision Infrastructure)</strong> system. It ensures consistency,
traceability, and reliability in loading structured model data such as
meta parameters, generator definitions, and storage configurations.</p>
</section>
<section id="id29">
<h6>Description<a class="headerlink" href="#id29" title="Link to this heading">ïƒ</a></h6>
<p>YAML files serve as the primary data input format for the MDI model.
This module abstracts the YAML parsing logic to provide a clean,
reliable interface that returns a fully validated Python dictionary,
suitable for immediate use by the <code class="xref py py-mod docutils literal notranslate"><span class="pre">Builder</span></code> module and its
subcomponents.</p>
<p>By encapsulating file I/O operations and schema consistency checks,
the <strong>YAMLLoader</strong> guarantees that the optimization routines receive
complete and well-structured data, preventing common runtime errors
related to malformed inputs.</p>
</section>
<section id="id30">
<h6>Functions<a class="headerlink" href="#id30" title="Link to this heading">ïƒ</a></h6>
<dl class="simple">
<dt>yaml_loader(path: str) -&gt; dict</dt><dd><p>Reads and parses a YAML configuration file located at the specified path.
Returns a structured Python dictionary suitable for direct use by
the model builder.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Requires the <strong>PyYAML</strong> library (â‰¥ 6.0).</p></li>
<li><p>The loader assumes UTF-8 encoding by default.</p></li>
<li><p>It is strongly recommended that YAML configurations follow
a consistent hierarchical schema:</p></li>
</ul>
<p class="rubric">References</p>
<p>[1] CEPEL, DESSEM. Manual de Metodologia, 2023
[2] Unsihuay Vila, C. IntroduÃ§Ã£o aos Sistemas de Energia ElÃ©trica, Lecture Notes, EELT7030/UFPR, 2023.</p>
</section>
</section>
</section>
</section>
</div>
</section>
</div>
</section>
<section id="indexes">
<h1>Indexes<a class="headerlink" href="#indexes" title="Link to this heading">ïƒ</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Augusto Mathias Adams.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>