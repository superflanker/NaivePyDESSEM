# ==========================================
# Master Data File — Trabalho 4
# ==========================================
# Unidades recomendadas:
# - Tempo: meses
# - Potência: MW
# - Energia (SoC): MWh
# - Volume: hm3

meta:
  name: "UFPR-EELT7030-MDI-TRANSMISSION-HYBRID"
  horizon: 5                  # TODO: nº de períodos (ex.: 24)
  delta_t: 1.0                # duração do período (anos)
  p_base: 100                 # potência base - cálculo de potência e reatâncias em p.u
  parcel_investment: True     # investimento anualizado ou não
  interest_rate: 0.1          # taxa de juros
  Cdef: 500                   # custo de operação do deficit
  Solver: cbc
  Solver_Options:
    mip_solver: glpk
    nlp_solver: cyipopt
    strategy: OA
    time_limit: 3600
  # -------------------------
  # Demanda do sistema
  # -------------------------
  demand: {"Ponta": [380,      # demanda global - não utilizado se houver mais 
                     544,      # de uma barra
                     850,
                     1100, 
                     1270]}
  
  level_hours: {"Ponta": 8740} # horários por patamar
  level_precedence: ["Ponta"]  # precedência de patamares

# ==========================
# Generators (GeneratorData)
# ==========================

generator:
  units:                      # Dict[str, GeneratorUnit]
    GER_1:                    # convenção: {GER}_{UNIT}
      bar: "BAR_1"            # barra de conexão
      state: 1                # existente
      p_max: 600              # potência máxima projetada
      c_op: 70                # custos de operação
      c_inv: 0                # custos de investimento e O&M
      include_cap: True       # incluir na restrição de capacidade
    GER_2:                    # convenção: {GER}_{UNIT}
      bar: "BAR_1"            # barra de conexão
      state: 0                # candidata
      p_max: 500              # potência máxima projetada
      c_op: 50                # custos de operação
      c_inv: 35_000_000       # custos de investimento e O&M
      include_cap: True       # incluir na restrição de capacidade
    GER_3:                    # convenção: {GER}_{UNIT}
      bar: "BAR_3"            # barra de conexão
      state: 1                # existente
      p_max: 200              # potência máxima projetada
      c_op: 60                # custos de operação
      c_inv: 0                # custos de investimento e O&M
      include_cap: True       # incluir na restrição de capacidade
    GER_4:                    # convenção: {GER}_{UNIT}
      bar: "BAR_3"            # barra de conexão
      state: 0                # candidata
      p_max: 250              # potência máxima projetada
      c_op: 55                # custos de operação
      c_inv: 15_000_000       # custos de investimento e O&M
      include_cap: True       # incluir na restrição de capacidade

# ===============================
# Connection Bars (ConnectionBar)
# ===============================

bars:
  units:                            # Dict[str, ConnectionBar]
    BAR_1:                          # convenção {BAR}_{UNIT}  
      slack: True                   # barra de referência
      Cdef: 500                     # Custo do Déficit
      c_pmax: 10_000                # potência máxima do déficit
      demand: {"Ponta": [40,        # demanda na barra
                         80, 
                         100, 
                         150, 
                         200]}
    BAR_2:                          # Dict[str, ConnectionBar]
      slack: False                  # barra de referência
      Cdef: 500                     # Custo do Déficit
      c_pmax: 10_000                # potência máxima do déficit
      demand: {"Ponta": [120,       # demanda na barra
                         240, 
                         250, 
                         300, 
                         350]}
    BAR_3:
      slack: False                  # barra de referência
      Cdef: 500                     # Custo do Déficit
      c_pmax: 10_000                # potência máxima do déficit
      demand: {"Ponta": [20,        # demanda na barra
                         40, 
                         50, 
                         100,
                         150]}
    BAR_4:
      slack: False                  # barra de referência
      Cdef: 500                     # Custo do Déficit
      c_pmax: 10_000                # potência máxima do déficit
      demand: {"Ponta": [80,        # demanda na barra
                         160, 
                         200, 
                         250, 
                         250]}
    BAR_5:
      slack: False                  # barra de referência
      Cdef: 500                     # Custo do Déficit
      c_pmax: 10_000                # potência máxima do déficit
      demand: {"Ponta": [120,       # demanda na barra
                         240, 
                         250, 
                         300, 
                         320]}
      
# =========================
# LINES (TransmissionLine) 
# =========================

lines:                             
  units:                            # Dict[str, TransmissionLine]
    LINE_120:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  4_000_000             # custo de investimento e O&M
      endpoints: ["BAR_1", "BAR_2"] # circuito c_{1,2,0}
    LINE_130:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  3_800_000             # custo de investimento e O&M
      endpoints: ["BAR_1", "BAR_3"] # circuito c_{1,3,0}
    LINE_140:                       # convenção {LINE}_{UNIT}
      model: "dc"                   # modelo utilizado (transport, dc)
      state: 1                      # existente
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  0.0                   # custo de investimento e O&M
      endpoints: ["BAR_1", "BAR_4"] # circuito c_{1,4,0}
    LINE_141:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  6_000_000             # custo de investimento e O&M
      endpoints: ["BAR_1", "BAR_4"] # circuito c_{1,4,1}
    LINE_150:                       # convenção {LINE}_{UNIT}
      model: "dc"                   # modelo utilizado (transport, dc)
      state: 1                      # existente
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 100                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  0.0                   # custo de investimento e O&M
      endpoints: ["BAR_1", "BAR_5"] # circuito c_{1,5,0}
    LINE_151:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 100                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  3_000_000             # custo de investimento e O&M
      endpoints: ["BAR_1", "BAR_5"] # circuito c_{1,5,1}    
    LINE_152:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 100                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  3_000_000             # custo de investimento e O&M
      endpoints: ["BAR_1", "BAR_5"] # circuito c_{1,5,2}
    LINE_230:                       # convenção {LINE}_{UNIT}
      model: "dc"                   # modelo utilizado (transport, dc)
      state: 1                      # existente
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  0.0                   # custo de investimento e O&M
      endpoints: ["BAR_2", "BAR_3"] # circuito c_{2,3,0}    
    LINE_231:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  2_000_000             # custo de investimento e O&M
      endpoints: ["BAR_2", "BAR_3"] # circuito c_{2,3,1}
    LINE_250:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  3_100_000             # custo de investimento e O&M
      endpoints: ["BAR_2", "BAR_5"] # circuito c_{2,5,0}     
    LINE_340:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 250                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  6_000_000             # custo de investimento e O&M
      endpoints: ["BAR_3", "BAR_4"] # circuito c_{3,4,0}    
    LINE_350:                       # convenção {LINE}_{UNIT}
      model: "dc"                   # modelo utilizado (transport, dc)
      state: 1                      # existente
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 150                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  0.0                   # custo de investimento e O&M
      endpoints: ["BAR_3", "BAR_5"] # circuito c_{3,5,0}       
    LINE_351:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 150                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  2_000_000             # custo de investimento e O&M
      endpoints: ["BAR_3", "BAR_5"] # circuito c_{3,5,1} 
    LINE_450:                       # convenção {LINE}_{UNIT}
      model: "transport"            # modelo utilizado (transport, dc)
      state: 0                      # candidata
      b: 2.0                        # suceptância da linha (pu) - o inverso da reatância
      pmax: 200                     # potência máxima da linha (MW)
      c_op: 0.0                     # custo de operação
      c_inv:  6_300_000             # custo de investimento e O&M
      endpoints: ["BAR_4", "BAR_5"] # circuito c_{4,5,0}   